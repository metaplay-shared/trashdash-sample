import{a_ as B,b2 as O,b3 as q,b4 as z,aH as L,b5 as K,b6 as M,an as o,a$ as R,b0 as G,ao as X,b1 as j,aN as A,d as Q,c as k,aj as U,ak as Z,K as J,a as m,o as C,Q as p,m as V,q as g,j as W,t as x,n as P,a7 as Y,be as _,bf as ee,w as te,k as ae,al as re}from"./index-jY1EWd09.js";import{_ as se}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";var de=X("checkbox").parts("root","label","control","indicator"),E=de.build(),F=e=>e.ids?.root??`checkbox:${e.id}`,N=e=>e.ids?.label??`checkbox:${e.id}:label`,ne=e=>e.ids?.control??`checkbox:${e.id}:control`,$=e=>e.ids?.hiddenInput??`checkbox:${e.id}:input`,ie=e=>e.getById(F(e)),h=e=>e.getById($(e));function ce(e,a){const{send:t,context:s,prop:d,computed:u,scope:i}=e,c=!!d("disabled"),w=!!d("readOnly"),n=!!d("required"),r=!!d("invalid"),b=!c&&s.get("focused"),D=!c&&s.get("focusVisible"),f=u("checked"),T=u("indeterminate"),H=s.get("checked"),v={"data-active":o(s.get("active")),"data-focus":o(b),"data-focus-visible":o(D),"data-readonly":o(w),"data-hover":o(s.get("hovered")),"data-disabled":o(c),"data-state":T?"indeterminate":f?"checked":"unchecked","data-invalid":o(r),"data-required":o(n)};return{checked:f,disabled:c,indeterminate:T,focused:b,checkedState:H,setChecked(l){t({type:"CHECKED.SET",checked:l,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:f,isTrusted:!1})},getRootProps(){return a.label({...E.root.attrs,...v,dir:d("dir"),id:F(i),htmlFor:$(i),onPointerMove(){c||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){c||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(l){j(l)===h(i)&&l.stopPropagation()}})},getLabelProps(){return a.element({...E.label.attrs,...v,dir:d("dir"),id:N(i)})},getControlProps(){return a.element({...E.control.attrs,...v,dir:d("dir"),id:ne(i),"aria-hidden":!0})},getIndicatorProps(){return a.element({...E.indicator.attrs,...v,dir:d("dir"),hidden:!T&&!f})},getHiddenInputProps(){return a.input({id:$(i),type:"checkbox",required:d("required"),defaultChecked:f,disabled:c,"aria-labelledby":N(i),"aria-invalid":r,name:d("name"),form:d("form"),value:d("value"),style:R,onFocus(){const l=G();t({type:"CONTEXT.SET",context:{focused:!0,focusVisible:l}})},onBlur(){t({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(l){if(w){l.preventDefault();return}const I=l.currentTarget.checked;t({type:"CHECKED.SET",checked:I,isTrusted:!0})}})}}}var{not:S}=O(),le=B({props({props:e}){return{value:"on",...e,defaultChecked:e.defaultChecked??!1}},initialState(){return"ready"},context({prop:e,bindable:a}){return{checked:a(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(t){e("onCheckedChange")?.({checked:t})}})),fieldsetDisabled:a(()=>({defaultValue:!1})),focusVisible:a(()=>({defaultValue:!1})),active:a(()=>({defaultValue:!1})),focused:a(()=>({defaultValue:!1})),hovered:a(()=>({defaultValue:!1}))}},watch({track:e,context:a,prop:t,action:s}){e([()=>t("disabled")],()=>{s(["removeFocusIfNeeded"])}),e([()=>a.get("checked")],()=>{s(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:S("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:S("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>y(e.get("checked")),checked:({context:e})=>oe(e.get("checked")),disabled:({context:e,prop:a})=>!!a("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:a,scope:t}){if(!a("disabled"))return M({pointerNode:ie(t),keyboardNode:h(t),isValidKey:s=>s.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:a}){if(!e("disabled"))return K({root:a.getRootNode?.()})},trackFormControlState({context:e,scope:a}){return L(h(a),{onFieldsetDisabledChange(t){e.set("fieldsetDisabled",t)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:a}){for(const t in a.context)e.set(t,a.context[t])},syncInputElement({context:e,computed:a,scope:t}){const s=h(t);s&&(z(s,a("checked")),s.indeterminate=y(e.get("checked")))},removeFocusIfNeeded({context:e,prop:a}){a("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:a}){e.set("checked",a.checked)},toggleChecked({context:e,computed:a}){const t=y(a("checked"))?!0:!a("checked");e.set("checked",t)},dispatchChangeEvent({computed:e,scope:a}){queueMicrotask(()=>{const t=h(a);q(t,{checked:e("checked")})})}}}});function y(e){return e==="indeterminate"}function oe(e){return y(e)?!1:!!e}A()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const ue=["disabled","aria-checked","data-testid"],ge=Q({__name:"MInputCheckbox",props:{modelValue:{type:Boolean},label:{default:void 0},inlineLabel:{type:Boolean},disabled:{type:Boolean,default:!1},variant:{default:"primary"},hintMessage:{default:void 0},description:{default:void 0},size:{default:"default"},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,s=a,d=k(()=>{const r=t.size==="default"?"tw-size-4":"tw-size-3.5";if(t.disabled)if(n.value.checked)switch(t.variant){case"danger":return`${r} tw-border-red-200 tw-border-2 tw-bg-red-300`;case"success":return`${r} tw-border-green-200 tw-border-2 tw-bg-green-300`;default:return`${r} tw-border-neutral-200 tw-border-2 tw-bg-neutral-300`}else switch(t.variant){case"danger":return`${r} tw-border-red-200 tw-border-2 tw-bg-neutral-50`;case"success":return`${r} tw-border-green-200 tw-border-2 tw-bg-neutral-50`;default:return`${r} tw-border-neutral-200 tw-border-2 tw-bg-neutral-50`}if(n.value.checked)switch(t.variant){case"danger":return`${r} tw-border-red-400 tw-bg-red-500 hover:tw-bg-red-600 active:tw-bg-red-700 focus:tw-ring-red-600`;case"success":return`${r} tw-border-green-500 tw-bg-green-500 hover:tw-bg-green-600 active:tw-bg-green-700 focus:tw-ring-green-600`;default:return`${r} tw-border-blue-300 tw-bg-blue-500 hover:tw-bg-blue-600 active:tw-bg-blue-700 focus:tw-ring-blue-600`}else switch(t.variant){case"danger":return`${r} tw-border-red-400 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-red-600`;case"success":return`${r} tw-border-green-500 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-green-600`;default:return`${r} tw-border-neutral-300 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-blue-600`}}),u=k(()=>{const r=t.size==="small"?"tw-text-sm":"tw-text-base";return t.disabled?t.variant==="danger"?`${r} tw-text-red-300`:`${r} tw-text-neutral-400`:t.variant==="danger"?`${r} tw-text-red-400`:`${r} tw-text-inherit`}),i=U("checkbox"),c=k(()=>({id:i,onCheckedChange:r=>{t.disabled?n.value.checked=!r.checked:s("update:modelValue",r.checked==="indeterminate"?!1:r.checked)},disabled:t.disabled,defaultChecked:t.modelValue})),w=Z(le,c),n=k(()=>ce(w,re));return J(()=>t.modelValue,r=>{n.value.checked=r}),(r,b)=>(C(),m("div",{class:p({"tw-flex tw-items-center tw-justify-between":e.inlineLabel,"tw-space-y-0.5":!e.inlineLabel&&e.size==="default"})},[e.label?(C(),m("div",{key:0,class:p(["tw-grow tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":e.disabled}])},x(e.label),3)):V("",!0),g("label",P(n.value.getRootProps(),{class:"tw-inline-flex tw-shrink-0 tw-items-center tw-space-x-2"},{class:{"tw-cursor-not-allowed":e.disabled,"tw-cursor-pointer":!e.disabled},disabled:e.disabled,"aria-checked":n.value.checked,"data-testid":e.dataTestid}),[g("div",P(n.value.getControlProps(),{class:"tw-flex tw-shrink-0 tw-items-center tw-justify-center tw-rounded tw-border tw-text-white tw-shadow-inner focus:tw-ring-inset"},{class:[d.value,{"tw-ring-2":n.value.focused}]}),[n.value.checked?(C(),m("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:p(e.size==="default"?"tw-size-4":"tw-size-3.5")},[...b[0]||(b[0]=[g("path",{"fill-rule":"evenodd",d:"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.353 2.353 4.493-6.74a.75.75 0 0 1 1.04-.207Z","clip-rule":"evenodd"},null,-1)])],2)):V("",!0)],16),e.description?(C(),m("span",P({key:0},n.value.getLabelProps(),{class:u.value}),x(e.description),17)):V("",!0),g("span",{class:p(u.value)},[Y(r.$slots,"default")],2),g("input",_(ee(n.value.getHiddenInputProps())),null,16)],16,ue),W(se,{variant:e.variant,tabindex:"-1"},{default:te(()=>[ae(x(e.hintMessage),1)],void 0,!0),_:1},8,["variant"])],2))}});export{ge as _};
