import{d as I,e as i,o,w as a,m as w,f as l,x as b,k as s,t as r,j as n,y as u,D as d,bs as x}from"./index-jY1EWd09.js";import{_ as C}from"./MInputSingleSelectAsyncDropdown.vue_vue_type_script_setup_true_lang-Cv9GNsej.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./isSymbol-B-tfGeoT.js";const _=I({__name:"MetaInputGuildSelect",props:{label:{},value:{}},emits:["input"],setup(m,{emit:c}){const g=c,y=x();async function S(p,e,t){const f=(await y.get(`/guilds/?query=${encodeURIComponent(p)}&count=${e}`)).data.map(v=>({label:v.displayName,value:v}));return{options:f,hasMoreData:f.length===e,requestToken:t}}return(p,e)=>(o(),i(l(C),{"model-value":m.value,"search-function":S,placeholder:"Search for a guild...",label:m.label,"onUpdate:modelValue":e[0]||(e[0]=t=>g("input",t)),"data-testid":"input-guild-select"},{option:a(({option:t})=>[t.value?.phase=="Closed"?(o(),i(l(b),{key:0,class:"!tw-p-0 tw-text-red-800"},{"top-right":a(()=>[s(r(t.value.entityId),1)]),"bottom-left":a(()=>[...e[1]||(e[1]=[s("Guild deleted",-1)])]),"bottom-right":a(()=>[e[2]||(e[2]=s("Created ",-1)),n(l(u),{instant:l(d).fromISO(t.value.createdAt),disableTooltip:""},null,8,["instant"])]),default:a(()=>[s("☠️ "+r(t.value.displayName),1)],void 0,!0),_:2},1024)):t.value?(o(),i(l(b),{key:1,class:"!tw-p-0"},{"top-right":a(()=>[s(r(t.value.entityId),1)]),"bottom-left":a(()=>[e[3]||(e[3]=s("Last login ",-1)),n(l(u),{instant:l(d).fromISO(t.value.lastLoginAt),disableTooltip:""},null,8,["instant"])]),"bottom-right":a(()=>[e[4]||(e[4]=s("Created ",-1)),n(l(u),{instant:l(d).fromISO(t.value.createdAt),disableTooltip:""},null,8,["instant"])]),default:a(()=>[s(r(t.value.displayName),1)],void 0,!0),_:2},1024)):w("",!0)]),_:1},8,["model-value","label"]))}});export{_ as default};
