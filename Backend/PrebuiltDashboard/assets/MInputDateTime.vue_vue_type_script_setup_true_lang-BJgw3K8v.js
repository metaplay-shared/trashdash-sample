import{d as te,b8 as we,c as u,aj as K,D as n,h as F,i as ce,bc as fe,ak as X,aQ as be,aR as ge,a as c,o as w,m as E,q as s,j,e as oe,Q as z,f as p,t as $,n as C,aU as y,aV as J,w as Y,k as ae,aS as pe,bd as xe,be as he,bf as De,F as le,b as ne,aW as Te,al as _,bg as ye,K as ee,bh as Ie}from"./index-jY1EWd09.js";import{_ as Z}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import{_ as Se}from"./MInputSwitch.vue_vue_type_script_setup_true_lang-D2jAqk4R.js";import{c as ie,m as se}from"./index-DtO9IDi2.js";const Oe={class:"tw-space-y-1"},Me=["for"],$e={class:"tw-relative"},Ve=["value","disabled","aria-invalid","aria-describedby"],ke=["disabled"],Ce=["disabled"],Ne={class:"tw-flex tw-h-10 tw-items-center"},Ee={key:0,class:"tw-flex tw-h-10 tw-flex-grow tw-items-center tw-justify-center tw-text-sm tw-font-medium tw-text-neutral-700"},ze={class:"tw-grid tw-grid-cols-7 tw-gap-px"},Ae={key:0,class:"tw-pointer-events-none tw-absolute tw-inset-0.5 -tw-z-10 tw-rounded-full tw-bg-neutral-200","aria-hidden":"true"},Pe=["aria-label","aria-current","aria-selected","onClick"],Ue={key:2,class:"tw-flex tw-size-10 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-md tw-bg-neutral-50 tw-leading-5 tw-text-neutral-300 tw-ring-neutral-200"},Be=te({__name:"MInputDate",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoDate:{},maxIsoDate:{},variant:{}},emits:["update:modelValue"],setup(t,{emit:G}){const e=t,{internalDisabled:f}=we(u(()=>e.disabled)),A=K("date"),P=K("date-input-hint"),x=u(()=>{if(e.modelValue)return n.fromISO(e.modelValue)}),h=u(()=>{if(e.minIsoDate)return e.minIsoDate==="utcNow"?n.fromISO(n.utc().toISODate()):n.fromISO(e.minIsoDate)}),b=u(()=>{if(e.maxIsoDate)return e.maxIsoDate==="utcNow"?n.fromISO(n.utc().toISODate()):n.fromISO(e.maxIsoDate)}),T=F();function U(o){T.value=o}const W=new ResizeObserver(()=>{I.value=T.value?.clientWidth??0});ce(()=>{T.value&&W.observe(T.value)}),fe(()=>{W.disconnect()});const I=F(0),S={keyUp:{days:1},keyDown:{days:-1},keyRight:{days:1},keyLeft:{days:-1},buttonUp:{days:1},buttonDown:{days:-1},scrollwheelUp:{days:1},scrollwheelDown:{days:-1},popoverKeyUp:{weeks:-1},popoverKeyDown:{weeks:1},popoverKeyRight:{days:1},popoverKeyLeft:{days:-1}};function B(o,a,l){console.assert(a in S,`Invalid action: ${a}`);const L=S[a];if(!L)throw new Error(`Invalid action: ${a}`);return l?m(o.plus(L)):o.plus(L)}function H(o){return x.value?!x.value.hasSame(B(x.value,o,!0),"day"):!1}function O(o){x.value&&d(B(x.value,o,!0))}function m(o){return h.value&&o<h.value?h.value:b.value&&o>b.value?b.value:o}function D(o){o.preventDefault(),!f.value&&(o.deltaY<0?O("scrollwheelUp"):O("scrollwheelDown"))}function M(o){r.value&&(o.deltaY<0?r.value=r.value.plus({months:1}):r.value=r.value.minus({months:1}),o.stopPropagation())}const r=F(x.value),v=F(),N=u(()=>{if(!r.value)return[];const o=r.value.startOf("month").startOf("week"),a=o.plus({weeks:6}).minus({days:1}),l=n.utc().toISODate(),L=[];for(let k=o;k<=a;k=k.plus({days:1})){const re=k.month!==r.value.month,ue=!!h.value&&k<h.value||!!b.value&&k>b.value,de=!!e.modelValue&&k.toISODate()===e.modelValue,me=k.toISODate()===l,ve=v.value?.toISODate()===k.toISODate();L.push({date:k,isDifferentMonth:re,isDisabled:ue,isSelected:de,isToday:me,isKeyboardHighlight:ve})}return L});function g(o){v.value??=n.utc();const a=B(v.value,o,!1),l=B(v.value,o,!0);a.hasSame(l,"day")&&(v.value=a,v.value.month!==r.value?.month&&(r.value=v.value))}const q=u(()=>{if(e.modelValue){let o;return I.value<130?o=n.DATE_SHORT:I.value<220?o=n.DATE_MED:o=n.DATE_HUGE,n.fromISO(e.modelValue).toLocaleString(o,{locale:"en-US"})}else return}),R=u(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),i=G;function d(o){o&&(V.value.setOpen(!1),i("update:modelValue",o.toISODate()))}const Q=X(be,{id:K("popover"),modal:!0,autoFocus:!1,onOpenChange:o=>{o.open&&(r.value=x.value??n.utc(),v.value=x.value)}}),V=u(()=>ge(Q,_));return(o,a)=>(w(),c("div",Oe,[t.label?(w(),c("label",{key:0,for:p(A),class:z(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":p(f),"tw-text-neutral-900":!p(f)}])},$(t.label),11,Me)):E("",!0),s("div",$e,[s("input",C(V.value.getTriggerProps(),{type:"text",value:q.value,disabled:t.disabled,class:["tw-w-full tw-rounded-md tw-shadow-sm tw-border-0 tw-py-1.5 tw-text-neutral-900 tw-ring-1 tw-ring-inset placeholder:tw-text-neutral-400 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 sm:tw-text-sm sm:tw-leading-6 disabled:tw-cursor-not-allowed disabled:tw-bg-neutral-50 disabled:tw-text-neutral-500 disabled:ring-neutral-200",R.value],"aria-invalid":t.variant==="danger"?!0:void 0,"aria-describedby":p(P),ref:U,readonly:"",onWheel:J(D,["stop"]),onKeydown:[a[0]||(a[0]=y(l=>V.value.setOpen(!0),["enter"])),a[1]||(a[1]=y(l=>V.value.setOpen(!0),["space"])),a[2]||(a[2]=y(J(l=>O("keyUp"),["prevent"]),["up"])),a[3]||(a[3]=y(J(l=>O("keyDown"),["prevent"]),["down"])),a[4]||(a[4]=y(l=>O("keyLeft"),["left"])),a[5]||(a[5]=y(l=>O("keyRight"),["right"]))]}),null,16,Ve),s("button",{class:z(["tw-absolute tw-top-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":p(f)||!H("buttonUp")}]),disabled:p(f)||!H("buttonUp"),tabindex:"-1",onClick:a[6]||(a[6]=l=>O("buttonUp"))},[...a[17]||(a[17]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)])],10,ke),s("button",{class:z(["tw-absolute tw-bottom-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":p(f)||!H("buttonDown")}]),disabled:p(f)||!H("buttonDown"),tabindex:"-1",onClick:a[7]||(a[7]=l=>O("buttonDown"))},[...a[18]||(a[18]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)])],10,Ce)]),j(Z,{id:p(P),variant:t.variant},{default:Y(()=>[ae($(t.hintMessage),1)],void 0,!0),_:1},8,["id","variant"]),(w(),oe(Te,{to:"body"},[s("div",C(V.value.getPositionerProps(),{style:{"z-index":"9999"}}),[pe(s("div",he(De(V.value.getArrowProps())),[s("div",C(V.value.getArrowTipProps(),{class:"tw-z-0 tw-border-l tw-border-t tw-border-neutral-200"}),null,16)],16),[[xe,V.value.open]]),s("div",C(V.value.getContentProps(),{class:"tw-max-h-[calc(100vh_-_100px)] tw-max-w-sm tw-overflow-auto tw-rounded-lg tw-border tw-border-neutral-200 tw-bg-white tw-shadow-md focus-visible:tw-outline-none"},{onWheel:M,onKeydown:[a[10]||(a[10]=y(l=>g("popoverKeyUp"),["up"])),a[11]||(a[11]=y(l=>g("popoverKeyDown"),["down"])),a[12]||(a[12]=y(l=>g("popoverKeyLeft"),["left"])),a[13]||(a[13]=y(l=>g("popoverKeyRight"),["right"])),a[14]||(a[14]=y(l=>d(v.value),["enter"])),a[15]||(a[15]=y(l=>d(v.value),["space"])),a[16]||(a[16]=y(l=>V.value.setOpen(!1),["tab"]))]}),[s("div",Ne,[s("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",tabindex:"-1",onClick:a[8]||(a[8]=l=>r.value=r.value?.minus({months:1}))},[...a[19]||(a[19]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[s("path",{"fill-rule":"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1)])]),r.value?(w(),c("div",Ee,$(r.value.monthLong)+" "+$(r.value.year),1)):E("",!0),s("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",tabindex:"-1",onClick:a[9]||(a[9]=l=>r.value=r.value?.plus({months:1}))},[...a[20]||(a[20]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[s("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)])])]),s("div",ze,[(w(),c(le,null,ne(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],l=>s("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-xs tw-font-medium tw-text-neutral-500",key:l},$(l),1)),64)),(w(!0),c(le,null,ne(N.value,l=>(w(),c("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-sm tw-font-medium",key:l.date.toISODate()||""},[l.isToday?(w(),c("span",Ae)):E("",!0),l.isDisabled?(w(),c("span",Ue,$(l.date.day),1)):(w(),c("button",{key:1,class:z(["tw-size-10 tw-cursor-pointer tw-rounded-md tw-leading-5 focus:tw-border-2 focus:tw-border-blue-600 focus:tw-outline-none",{"tw-bg-blue-500 tw-text-white":l.isSelected,"hover:tw-text-neutral-700 hover:tw-bg-neutral-200 active:tw-bg-neutral-300":!l.isSelected,"tw-text-neutral-700":!l.isDifferentMonth&&!l.isSelected,"tw-text-neutral-400":l.isDifferentMonth&&!l.isSelected,"tw-bg-neutral-200":l.isKeyboardHighlight&&!l.isSelected}]),ref_for:!0,ref:`day-${l.date.day}`,"aria-label":l.date.toLocaleString(p(n).DATE_HUGE),"aria-current":l.isToday?"date":void 0,"aria-selected":l.isSelected,tabindex:"-1",onClick:L=>d(l.date)},$(l.date.day),11,Pe))]))),128))])],16)],16)]))]))}}),He=ye(Be,[["__scopeId","data-v-d0592038"]]),Ke={class:"tw-space-y-1"},Le=["for"],je={class:"tw-relative"},We=["aria-invalid","aria-describedby","data-testid"],Re={class:"tw-relative"},Fe=["aria-invalid","aria-describedby","data-testid"],Ge=te({__name:"MInputTime",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoTime:{},maxIsoTime:{},variant:{},dataTestid:{}},emits:["update:modelValue"],setup(t,{emit:G}){const e=t,f=G;function A(i){const d=i.toISOTime({suppressSeconds:!0,includeOffset:!1});if(!d)throw new Error("Failed to convert time to ISO string",{cause:i});f("update:modelValue",d)}const P=K("date"),x=K("date-input-hint"),h=u(()=>n.fromISO(e.modelValue).hour),b=u(()=>n.fromISO(e.modelValue).minute),T=u(()=>{if(e.minIsoTime)return e.minIsoTime==="utcNow"?n.fromISO(n.utc().toISOTime({suppressSeconds:!0,includeOffset:!1})):n.fromISO(e.minIsoTime)}),U=u(()=>{if(e.maxIsoTime)return e.maxIsoTime==="utcNow"?n.fromISO(n.utc().toISOTime({suppressSeconds:!0,includeOffset:!1})):n.fromISO(e.maxIsoTime)}),W=u(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),I=u(()=>T.value?T.value.hour:0),S=u(()=>U.value?U.value.hour:23),B=K("time-hours"),H=u(()=>({disabled:e.disabled,defaultValue:String(h.value),min:0,max:23,id:B,allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},focusInputOnChange:!0,onValueChange:i=>{q(i,!1)&&A(n.fromObject({hour:i.valueAsNumber,minute:b.value}))},onFocusChange:i=>{i.focused||(q(i,!0),R(b.value,!0))}})),O=X(se,H),m=u(()=>ie(O,_)),D=u(()=>T.value&&h.value===I.value?T.value.minute:0),M=u(()=>U.value&&h.value===S.value?U.value.minute:59),r=K("time-minutes"),v=u(()=>({disabled:e.disabled,min:0,max:59,defaultValue:String(b.value),id:r,allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},onValueChange:i=>{R(i,!1)&&A(n.fromObject({hour:h.value,minute:i.valueAsNumber}))},onFocusChange:i=>{i.focused||R(i,!0)}})),N=X(se,v),g=u(()=>ie(N,_));ee(h,i=>{i===I.value&&b.value<D.value&&A(n.fromObject({hour:i,minute:D.value})),i===S.value&&b.value>M.value&&A(n.fromObject({hour:i,minute:M.value}))});const q=(i,d)=>{if(typeof i=="number"&&(i={valueAsNumber:i}),isNaN(i.valueAsNumber))return d&&m.value.setValue(String(h.value)),!1;if(I.value!==void 0&&(i.valueAsNumber<I.value||i.valueAsNumber>S.value)){if(d){const Q=i.valueAsNumber<I.value?I.value:S.value;m.value.setValue(String(Q))}return!1}else return!0},R=(i,d)=>{if(typeof i=="number"&&(i={valueAsNumber:i}),isNaN(i.valueAsNumber))return d&&g.value.setValue(String(b.value)),!1;if(D.value!==void 0&&(i.valueAsNumber<D.value||i.valueAsNumber>M.value)){if(d){const Q=i.valueAsNumber<D.value?D.value:M.value;g.value.setValue(String(Q))}return!1}else return!0};return ee(()=>e.modelValue,i=>{m.value.focused||m.value.setValue(String(n.fromISO(i).hour)),g.value.focused||g.value.setValue(String(n.fromISO(i).minute))}),(i,d)=>(w(),c("div",Ke,[t.label?(w(),c("label",{key:0,for:p(P),class:z(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":t.disabled,"tw-text-neutral-900":!t.disabled}])},$(t.label),11,Le)):E("",!0),s("div",{class:z(["tw-flex tw-items-center tw-max-w-fit tw-rounded-md tw-text-neutral-900 tw-shadow-sm tw-ring-1 tw-ring-inset sm:tw-text-sm sm:tw-leading-6",{"ring-neutral-200 tw-bg-neutral-50 tw-cursor-not-allowed":t.disabled,"tw-bg-white":!t.disabled},W.value])},[s("div",je,[s("input",C(m.value.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{class:{"tw-text-red-500":!q(m.value.valueAsNumber,!1)},"aria-invalid":t.variant==="danger"?!0:void 0,"aria-describedby":p(x),"data-testid":`${t.dataTestid}-hours`}),null,16,We),s("button",C(m.value.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||m.value.getIncrementTriggerProps().disabled}]}),[...d[0]||(d[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)])],16),s("button",C(m.value.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||m.value.getDecrementTriggerProps().disabled}]}),[...d[1]||(d[1]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)])],16)]),d[4]||(d[4]=s("div",{class:"tw-relative tw-bottom-[1px] tw-text-lg tw-text-neutral-400"},":",-1)),s("div",Re,[s("input",C(g.value.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{class:{"tw-text-red-500":!R(g.value.valueAsNumber,!1)},"aria-invalid":t.variant==="danger"?!0:void 0,"aria-describedby":p(x),"data-testid":`${t.dataTestid}-minutes`}),null,16,Fe),s("button",C(g.value.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||g.value.getIncrementTriggerProps().disabled}]}),[...d[2]||(d[2]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)])],16),s("button",C(g.value.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||g.value.getDecrementTriggerProps().disabled}]}),[...d[3]||(d[3]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[s("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)])],16)])],2),j(Z,{id:p(x),variant:t.variant},{default:Y(()=>[ae($(t.hintMessage),1)],void 0,!0),_:1},8,["id","variant"])]))}}),qe={key:0,class:"tw-flex tw-items-center tw-justify-between"},Qe=["for"],Ye={key:1},Ze={key:1},tt=te({__name:"MInputDateTime",props:{modelValue:{},allowEmpty:{type:Boolean,default:!1},label:{default:void 0},hintMessage:{default:void 0},disabled:{type:Boolean,default:!1},minDateTime:{default:void 0},maxDateTime:{default:void 0},variant:{default:"neutral"},dataTestid:{default:void 0},showGameTimeHint:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:G}){const e=t,f=F(e.modelValue!==void 0);function A(m){f.value=m,m?S("update:modelValue",P.value):S("update:modelValue",void 0)}const P=F(e.modelValue??n.utc());ee(()=>e.modelValue,m=>{if(!e.allowEmpty&&m===void 0)throw new TypeError("modelValue cannot be undefined without setting allowEmpty to true.");m===void 0&&f.value&&(f.value=!1)},{immediate:!0});const x=K("datetime"),h=u(()=>e.modelValue?.toISODate()??""),b=u(()=>e.minDateTime instanceof n?e.minDateTime.toISODate():e.minDateTime==="utcNow"?n.utc().endOf("day").toISODate():e.minDateTime),T=u(()=>e.maxDateTime instanceof n?e.maxDateTime.toISODate():e.maxDateTime==="utcNow"?n.utc().startOf("day").toISODate():e.maxDateTime),U=u(()=>e.modelValue?.toUTC().toISOTime({includeOffset:!1})??""),W=u(()=>{if(e.minDateTime&&e.modelValue?.toUTC().toISODate()===b.value)return e.minDateTime instanceof n?e.minDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):n.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),I=u(()=>{if(e.maxDateTime&&e.modelValue?.toUTC().toISODate()===T.value)return e.maxDateTime instanceof n?e.maxDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):n.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),S=G;function B(m){const D=e.modelValue?.toUTC().hour,M=e.modelValue?.toUTC().minute;let r=n.fromISO(m,{zone:"utc"}).set({hour:D,minute:M});const v=e.minDateTime instanceof n?e.minDateTime:n.utc().startOf("minute"),N=e.maxDateTime instanceof n?e.maxDateTime:n.utc().startOf("minute");e.minDateTime&&r<v?r=v:T.value&&r>N&&(r=N),P.value=r,S("update:modelValue",r)}function H(m){const[D,M]=m.split(":");if(!D||!M){console.warn(`[WARNING MINPUT-DATETIME00001] Invalid time format received: ${m}`);return}const r=parseInt(D,10),v=parseInt(M,10);if(isNaN(r)||isNaN(v)){console.warn(`[WARNING MINPUT-DATETIME00002] Invalid time format received: ${m}`);return}const N=n.fromObject({year:e.modelValue?.year,month:e.modelValue?.month,day:e.modelValue?.day,hour:r,minute:v,second:0,millisecond:0},{zone:"utc"});P.value=N,S("update:modelValue",N)}const O=u(()=>e.disabled?!0:e.allowEmpty&&!e.modelValue?.isValid);return(m,D)=>(w(),c("div",{class:z(["tw-space-y-1",{"tw-bg-neutral-100 tw-rounded-md tw-border tw-border-neutral-200 tw-p-3":t.allowEmpty}])},[t.label||t.allowEmpty?(w(),c("div",qe,[t.label?(w(),c("label",{key:0,for:p(x),class:z(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":t.disabled,"tw-text-neutral-900":!t.disabled}])},$(t.label),11,Qe)):E("",!0),t.allowEmpty?(w(),c("div",Ye,[j(Se,{class:"tw-text-neutral-500","model-value":f.value,"disabled-tooltip":t.disabled?"Disabled":void 0,label:"Enable",size:"small","onUpdate:modelValue":A,"data-testid":`${t.dataTestid}-enable-toggle`},null,8,["model-value","disabled-tooltip","data-testid"])])):E("",!0)])):E("",!0),!t.allowEmpty||f.value?(w(),c("div",Ze,[s("div",{class:z(["tw-flex tw-space-x-1",{"tw-mt-1":t.allowEmpty}])},[j(He,{class:"tw-flex-auto","model-value":h.value,disabled:t.disabled,"min-iso-date":b.value,"max-iso-date":T.value,variant:t.variant,"onUpdate:modelValue":B,"data-testid":`${t.dataTestid}-date`},null,8,["model-value","disabled","min-iso-date","max-iso-date","variant","data-testid"]),j(Ge,{"model-value":U.value,disabled:O.value,"min-iso-time":W.value,"max-iso-time":I.value,variant:t.variant,"onUpdate:modelValue":H,"data-testid":`${t.dataTestid}-time`},null,8,["model-value","disabled","min-iso-time","max-iso-time","variant","data-testid"])],2),t.showGameTimeHint?(w(),oe(Z,{key:0},{default:Y(()=>[j(Ie)],void 0,!0),_:1})):E("",!0)])):E("",!0),j(Z,{variant:t.variant},{default:Y(()=>[ae($(t.hintMessage),1)],void 0,!0),_:1},8,["variant"])],2))}});export{He as M,tt as _};
