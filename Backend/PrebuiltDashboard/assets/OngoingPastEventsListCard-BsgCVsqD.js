import{d as h,E as y,c as v,e as l,o as a,w as o,j as n,f as e,x as L,k as s,t as m,a as r,m as p,B as u,D as d,ae as k,q as x,y as A,_}from"./index-B-VT6L6o.js";import N from"./MetaListCard-CeJPPsYv.js";import{M as S,a as O}from"./metaListUtils-B-xQ0HnD.js";import{m as D,l as f,g as I}from"./liveOpsEventUtils-DY2yXuzV.js";import{b as M,a as b}from"./liveOpsEvents-e5xOesDH.js";import"./utils-3nJB3c7R.js";import"./_baseIteratee-BEmxe7KQ.js";import"./isSymbol-BpirMJeh.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Dfga_g5u.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";import"./debounce-B6LajIyo.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-DB0nHSfN.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-x_WXETV5.js";import"./MInputSingleSelectRadio.vue_vue_type_script_setup_true_lang-zO3FqeNb.js";import"./index-llZsRYZ2.js";import"./button-group-Bl0hWwU-.js";const C={key:0},V={key:1},$={key:0},B={key:1},F={key:0},at=h({__name:"OngoingPastEventsListCard",setup(j){const{data:c}=y(M()),{data:w}=y(b()),E=v(()=>w.value?.map(g=>g.eventTypeName)??[]),T=v(()=>c.value?D(E.value,["Active","EndingSoon","InReview","Ended"],!0):[]),P=[new S("Creation time","createdAt",O.Descending),new S("Creation time","createdAt",O.Ascending)];return(g,i)=>(a(),l(e(N),{title:"Ongoing and Past Events",icon:"calendar-days",itemList:e(c)?.ongoingAndPastEvents,searchFields:["displayName","description"],filterSets:T.value,sortOptions:P,emptyMessage:"No ongoing events right now, please create new ones.","data-testid":"past-live-ops-events-list-card"},{"item-card":o(({item:t})=>[n(e(L),null,{"top-right":o(()=>[t.schedule?.isPlayerLocalTime===!0&&t.currentPhase!=="Ended"?(a(),l(e(_),{key:0,variant:"primary"},{default:o(()=>i[0]||(i[0]=[s("Player Local",-1)]),void 0,!0),_:1,__:[0]})):(a(),l(e(_),{key:1,variant:e(f)[t.currentPhase].badgeVariant},{default:o(()=>[s(m(e(f)[t.currentPhase].displayString),1)],void 0,!0),_:2},1032,["variant"]))]),"bottom-left":o(()=>[t.description?(a(),r("div",C,m(t.description),1)):p("",!0),t.schedule!==null&&!t.schedule?.isPlayerLocalTime&&t.startTime&&t.endTime?(a(),r("div",V,[x("span",null,[i[1]||(i[1]=s("Started ",-1)),n(e(A),{instant:e(d).fromISO(t.startTime)},null,8,["instant"])]),t.hasEnded?(a(),r("span",$,[i[2]||(i[2]=s(" and ran for ",-1)),n(e(u),{duration:e(d).fromISO(t.endTime).diff(e(d).fromISO(t.startTime)),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[3]||(i[3]=s(".",-1))])):(a(),r("span",B,[i[4]||(i[4]=s(" and will end in ",-1)),n(e(u),{duration:e(d).fromISO(t.endTime).diffNow(),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[5]||(i[5]=s(".",-1))]))])):p("",!0)]),"bottom-right":o(()=>[t.nextPhase&&t.nextPhaseTime?(a(),r("div",F,[s("Entering '"+m(e(f)[t.nextPhase].displayString)+"' in ",1),n(e(u),{duration:e(d).fromISO(t.nextPhaseTime).diffNow(),showAs:e(I)(t.nextPhaseTime),hideMilliseconds:""},null,8,["duration","showAs"]),i[6]||(i[6]=s(".",-1))])):p("",!0),n(e(k),{to:`/liveOpsEvents/${t.eventId}`,"data-testid":"view-live-ops-event"},{default:o(()=>i[7]||(i[7]=[s("View event",-1)]),void 0,!0),_:2,__:[7]},1032,["to"])]),default:o(()=>[s(m(t.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets"]))}});export{at as default};
