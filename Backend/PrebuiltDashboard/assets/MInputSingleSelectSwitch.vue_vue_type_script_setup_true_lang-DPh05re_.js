import{d as q,c as r,aP as g,aj as N,ak as B,al as D,K,a as v,o as w,F as h,q as o,j as m,m as U,Q as E,t as f,U as R,w as x,n as d,b as _,f as b,S as p,k as A}from"./index-jY1EWd09.js";import{m as G,c as H}from"./index-Dec9dGh3.js";import{_ as L}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import{_ as Q}from"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-CqJL3vnO.js";const J={class:"tw-relative tw-z-0 tw-hidden tw-space-y-1 sm:tw-block"},O=["data-testid"],W={class:"tw-inline-flex tw-flex-shrink-0 tw-space-x-0.5"},X=["data-testid"],Y=["data-testid"],Z=["data-testid"],ne=q({inheritAttrs:!1,__name:"MInputSingleSelectSwitch",props:{modelValue:{},options:{},disabledTooltip:{default:void 0},variant:{default:"primary"},size:{default:"default"},label:{default:void 0},hintMessage:{default:void 0},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(s,{emit:V}){const a=s,y=V,l=r(()=>!!a.disabledTooltip),S=r(()=>{if(l.value)return a.disabledTooltip}),u=r(()=>{const t=a.options.map(e=>({...e,id:e.label})),n=new Set(t.map(e=>e.id));return t.length!==n.size&&console.error("Duplicate labels found in options array of MInputSingleSelectSwitch:",t),t});function C(t){const n=u.value.find(e=>e.id===t);return n?n.value:t}const I=r(()=>typeof a.modelValue=="object"?u.value.find(t=>g(t.value,a.modelValue))?.id:u.value.find(t=>t.value===a.modelValue)?.id),$=N("segmented-switch"),z=r(()=>({id:$,defaultValue:I.value,disabled:l.value,name:a.label,orientation:"horizontal",onValueChange:({value:t})=>{y("update:modelValue",C(t))}})),k=B(G,z),i=r(()=>H(k,D));K(()=>a.modelValue,t=>{const n=u.value.find(e=>e.value===t)?.id;n?i.value.setValue(n):console.warn("MInputSingleSelectSwitch: modelValue does not match any option value:",t)},{immediate:!0});const T=r(()=>a.size==="small"?"padding-bottom: 2px;":"padding-top: 2px; padding-bottom: 2px;");function P(t){const n=`tw-m-0 tw-inline-block tw-rounded-full tw-ring-0 tw-py-1 tw-font-medium tw-transition-colors ${M.value}`,e="tw-text-neutral-500";let c=!1;return typeof i.value.value=="object"?c=g(i.value.value,t.value):c=i.value.value===t.id,l.value&&c?`${n} ${e} tw-pointer-events-none`:l.value&&!c?`${n} ${e} tw-cursor-not-allowed`:c?`${n} tw-cursor-pointer tw-text-white`:`${n} tw-cursor-pointer hover:tw-bg-neutral-200`}const M=r(()=>a.size==="small"?"tw-text-xs tw-px-2":"tw-text-sm tw-px-3"),F=r(()=>a.variant==="success"?l.value?"tw-border-green-200":"tw-border-green-500":a.variant==="warning"?l.value?"tw-border-orange-200":"tw-border-orange-500":a.variant==="danger"?l.value?"tw-border-red-200":"tw-border-red-500":l.value?"tw-border-neutral-200":"tw-border-neutral-300"),j=r(()=>a.variant==="success"?l.value?"tw-bg-green-200":"tw-bg-green-500":a.variant==="warning"?l.value?"tw-bg-orange-200":"tw-bg-orange-500":a.variant==="danger"?l.value?"tw-bg-red-200":"tw-bg-red-500":l.value?"tw-bg-neutral-200":"tw-bg-blue-500");return(t,n)=>(w(),v(h,null,[o("div",J,[s.label?(w(),v("label",{key:0,class:E(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":l.value,"tw-text-neutral-900":!l.value}])},f(s.label),3)):U("",!0),o("div",{class:"tw-my-1","data-testid":s.dataTestid},[m(R,{content:S.value,"no-underline":"","data-testid":"tooltip-"+s.label},{default:x(()=>[o("div",d(i.value.getRootProps(),{class:["tw-relative tw-mx-0.5 tw-inline-flex tw-px-0.5 tw-rounded-full tw-border",F.value],style:"box-shadow: inset 0 1px 2px 0 rgba(0,0,0,.1), inset 0 -1px 2px 0 rgba(255,255,255,.8);"+T.value}),[o("div",d(i.value.getIndicatorProps(),{class:["-tw-z-10 tw-rounded-full",j.value],style:{top:"var(--top)",width:"var(--width)",height:"var(--height)","box-shadow":"inset 0 -3px 0 0 rgba(0, 0, 0, 0.1), inset 0 2px 0 0 rgba(255, 255, 255, 0.2), 0 1px 3px 0 rgb(0 0 0 / 0.2), 0 1px 2px -1px rgb(0 0 0 / 0.4)"}}),null,16),o("div",W,[(w(!0),v(h,null,_(u.value,e=>(w(),v("div",d(t.$attrs,{key:e.id}),[o("label",d(i.value.getItemProps({value:e.id}),{class:P(e),"data-testid":`${b(p)(e.label)}-label`}),[o("span",d(i.value.getItemTextProps({value:e.id}),{class:"tw-select-none"},{"data-testid":`${b(p)(e.label)}-span`}),f(e.label),17,Y),o("input",d(i.value.getItemHiddenInputProps({value:e.id}),{"data-testid":`${b(p)(e.label)}-input`}),null,16,Z)],16,X)],16))),128))])],16)],void 0,!0),_:1},8,["content","data-testid"])],8,O),m(L,{variant:s.variant},{default:x(()=>[A(f(s.hintMessage),1)],void 0,!0),_:1},8,["variant"])]),m(Q,{class:"sm:tw-hidden","model-value":s.modelValue,options:s.options,variant:s.variant,"hint-message":s.hintMessage,disabled:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>i.value.setValue(e)),"data-testid":s.dataTestid+"-dropdown"},null,8,["model-value","options","variant","hint-message","disabled","data-testid"])],64))}});export{ne as _};
