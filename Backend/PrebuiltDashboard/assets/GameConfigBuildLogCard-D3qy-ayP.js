import{d as S,E as V,ch as U,c as v,r as $,e as u,o as l,w as o,j as d,f as c,s as B,v as W,a as g,m,q as s,bk as E,t as a,k as w,ae as y,x as A,I as F,Q as K,_ as O}from"./index-jY1EWd09.js";import H from"./MetaListCard-1ZrdC8ii.js";import{M as i,a as r,b as j,c as f}from"./metaListUtils-B-xQ0HnD.js";import"./utils-B01yCWQ7.js";import"./_baseIteratee-FGZghVLZ.js";import"./isSymbol-B-tfGeoT.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Wwv8TYAB.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-BmEacL49.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-Bzg4Lkt_.js";import"./MInputSingleSelectRadio-BM2VfYc3.js";import"./index-Dec9dGh3.js";import"./button-group-DH69WWlM.js";const G={key:0},q={key:0,class:"tw-pt-3"},z={class:"tw-mx-3 tw-flex tw-items-center tw-justify-between"},P={class:"tw-px-3 tw-text-xs"},Q={key:1,class:"tw-pt-3"},T={class:"tw-px-3 tw-text-xs"},J={class:"tw-ml-4"},X={class:"tw-ml-4"},Y={class:"tw-ml-4"},Z={class:"tw-ml-4"},b={key:0,class:"tw-ml-4"},R={key:2,class:"tw-pt-3"},ee={class:"tw-px-3 tw-text-xs"},te={class:"tw-ml-4"},se={class:"tw-ml-4"},ne={class:"tw-ml-4"},xe=S({__name:"GameConfigBuildLogCard",props:{gameConfigId:{}},setup(L){const M=L,{data:_}=V(U(M.gameConfigId)),p=v(()=>_.value?.contents===null),C=v(()=>p.value?[]:_.value?.contents?.metaData.buildReport?.buildMessages??void 0),h=["message","sheetName","configKey","columnHint"],I=[i.asUnsorted(),new i("Message","message",r.Ascending),new i("Message","message",r.Descending),new i("Warning Level","level",r.Ascending),new i("Warning Level","level",r.Descending),new i("Library","sheetName",r.Ascending),new i("Library","sheetName",r.Descending),new i("Config Key","configKey",r.Ascending),new i("Config Key","configKey",r.Descending),new i("Column","columnHint",r.Ascending),new i("Column","columnHint",r.Descending)],k=v(()=>[new j("level",[new f("Verbose",n=>n.level==="Verbose"),new f("Debug",n=>n.level==="Debug"),new f("Information",n=>n.level==="Information"),new f("Warning",n=>n.level==="Warning"),new f("Error",n=>n.level==="Error")])]);function x(n){return{Verbose:"neutral",Debug:"neutral",Information:"primary",Warning:"warning",Error:"danger"}[n]??"danger"}function D(n){return!!n&&(n.startsWith("http://")||n.startsWith("https://"))}return(n,t)=>{const N=$("fa-icon");return l(),u(c(H),{title:"Build Log",description:"Messages generated during the config build process. Errors will cause the build to fail.",icon:"clipboard-list",itemList:C.value,searchFields:h,sortOptions:I,filterSets:k.value,emptyMessage:p.value?"Logs not available.":"No log entries.","data-testid":"game-config-build-log-card"},{"item-card":o(({item:e})=>[d(c(B),{extraMListItemMargin:""},{header:o(()=>[d(c(A),{noLeftPadding:""},F({"top-right":o(()=>[d(c(O),{variant:x(e.level)},{default:o(()=>[w(a(e.level),1)],void 0,!0),_:2},1032,["variant"])]),"bottom-right":o(()=>[D(e.locationUrl)?(l(),u(c(y),{key:0,to:e.locationUrl||""},{default:o(()=>[t[0]||(t[0]=w("View source ",-1)),d(N,{class:"tw-ml-1",icon:"external-link-alt"})],void 0,!0),_:1},8,["to"])):m("",!0)]),default:o(()=>[s("span",{class:K(["tw-font-normal",{"tw-text-red-500":x(e.level)==="danger"}])},a(e.message),3)],void 0,!0),_:2},[e.itemId?{name:"bottom-left",fn:o(()=>[w(a(e.itemId)+" in "+a(e.shortSource)+" ",1),e.variantId?(l(),g("span",G,"("+a(e.variantId)+")",1)):m("",!0)]),key:"0"}:void 0]),1024)]),default:o(()=>[d(c(W),{class:"tw-bg-neutral-100","show-border":""},{default:o(()=>[e.exception?(l(),g("div",q,[s("div",z,[t[1]||(t[1]=s("div",{class:"tw-font-mono tw-text-xs tw-text-neutral-500"},"// raw_error",-1)),e.exception?(l(),u(c(E),{key:0,contents:`${e.exception}`},null,8,["contents"])):m("",!0)]),s("pre",P,a(e.exception),1)])):m("",!0),e.sourceInfo||e.sourceLocation||e.locationUrl?(l(),g("div",Q,[t[5]||(t[5]=s("div",{class:"tw-ml-3 tw-font-mono tw-text-xs tw-text-neutral-500"},"// message_source",-1)),s("pre",T,[t[3]||(t[3]=s("div",null,"{",-1)),s("div",J,'"source": "'+a(e.sourceInfo)+'"',1),s("div",X,'"location": "'+a(e.sourceLocation)+'"',1),s("div",Y,'"item": "'+a(e.itemId)+'"',1),s("div",Z,'"variant": '+a(e.variantId?`"${e.variantId}"`:"null"),1),e.locationUrl?(l(),g("div",b,[t[2]||(t[2]=w('"url":',-1)),d(c(y),{to:e.locationUrl},{default:o(()=>[w('"'+a(e.locationUrl)+'"',1)],void 0,!0),_:2},1032,["to"])])):m("",!0),t[4]||(t[4]=s("div",null,"}",-1))])])):m("",!0),e.callerFileName?(l(),g("div",R,[t[8]||(t[8]=s("div",{class:"tw-ml-3 tw-font-mono tw-text-xs tw-text-neutral-500"},"// callsite",-1)),s("pre",ee,[t[6]||(t[6]=s("div",null,"{",-1)),s("div",te,'"function": "'+a(e.callerMemberName)+'"',1),s("div",se,'"file": "'+a(e.callerFileName)+'"',1),s("div",ne,'"line": "'+a(e.callerLineNumber)+'"',1),t[7]||(t[7]=s("div",null,"}",-1))])])):m("",!0)],void 0,!0),_:2},1024)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets","emptyMessage"])}}});export{xe as default};
