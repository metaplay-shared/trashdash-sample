import{d as k,h,D as w,c as o,E as T,H as K,bw as M,ed as S,e as u,o as m,w as t,m as v,j as i,f as e,S as x,q as f,t as c,a6 as I,k as g,ae as L}from"./index-B-VT6L6o.js";import{_ as P}from"./MetaGenericActivablesCard.vue_vue_type_script_setup_true_lang-DjnGdbAk.js";import{_ as B}from"./GameServerEventTimeline.vue_vue_type_script_setup_true_lang-ekzPvPX4.js";import{M as C}from"./MSingleColumnLayout-Bc4oHrRo.js";import{_ as U}from"./MInputToggleGroup.vue_vue_type_script_setup_true_lang-AjXCbOkF.js";import{_ as A}from"./MInputDateTime.vue_vue_type_script_setup_true_lang-C6JS_loc.js";import{_ as j}from"./MRawDataCard.vue_vue_type_script_setup_true_lang-DhJnJrxb.js";import{_ as q,a as H}from"./MViewContainer.vue_vue_type_script_setup_true_lang-sbviMV0h.js";import"./metaListUtils-B-xQ0HnD.js";import"./activables-CGldxvzu.js";import"./MetaActivablePhaseBadge.vue_vue_type_script_setup_true_lang-CRWiJBnG.js";import"./players-CbfgGr44.js";import"./MetaActivablesBaseCard.vue_vue_type_script_setup_true_lang-B4qXSmal.js";import"./numberUtils-CkF0oMe2.js";import"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-Dv81Anyh.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";import"./MAbbreviateNumber.vue_vue_type_script_setup_true_lang-B4a9hmVO.js";import"./debounce-B6LajIyo.js";import"./isSymbol-BpirMJeh.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Dfga_g5u.js";import"./MInputSwitch.vue_vue_type_script_setup_true_lang-jCyUDcM1.js";import"./index-FJT0vWS8.js";const W={class:"tw-mb-1"},Y={class:"tw-mt-1"},ve=k({__name:"ActivableListView",props:{categoryKey:{}},setup(D){const d=D,l=h(!1),r=h(w.utc()),b=o(()=>{if(l.value)return r.value});function E(a){a&&(r.value=a)}o(()=>l.value?String(r.value.toISO()):w.utc().toISO());const{data:$}=T(K()),{data:N}=T(M()),_=o(()=>p.value.categories[d.categoryKey]),s=o(()=>_.value.displayName),O=o(()=>_.value.description),p=o(()=>$.value?.activablesMetadata),y=o(()=>{const a=S(d.categoryKey);return N.value?.timelineDataSourcePresence[a]??"NotPresent"});return(a,n)=>(m(),u(e(H),{permission:"api.activables.view","is-loading":!p.value,"full-width":""},{overview:t(()=>[i(e(q),{title:`View ${s.value}`,"data-testid":`${e(x)(d.categoryKey)}-overview-card`},{default:t(()=>[f("p",W,c(O.value),1),y.value==="NotConfigured"?(m(),u(e(I),{key:0,class:"tw-mt-4",title:"LiveOps Timeline Presence Not Configured",variant:"neutral"},{default:t(()=>[f("p",null,"This page would normally include a LiveOps Timeline, but timeline presence for "+c(s.value)+" has not been configured. This means that no "+c(s.value)+" would be seen on the timeline and, because of this, it has been hidden.",1),f("p",Y,[g("You can configure timeline presence for "+c(s.value)+" by following the ",1),i(e(L),{to:"https://docs.metaplay.io/liveops-dashboard/liveops-timeline.html#configuring-config-driven-events-for-the-timeline"},{default:t(()=>n[1]||(n[1]=[g("documentation",-1)]),void 0,!0),_:1,__:[1]}),n[2]||(n[2]=g(".",-1))])],void 0,!0),_:1})):v("",!0)],void 0,!0),_:1},8,["title","data-testid"])]),default:t(()=>[y.value==="Present"?(m(),u(B,{key:0,class:"tw-mb-4","start-expanded":"","initial-expanded-data-sources":[e(S)(a.categoryKey)]},null,8,["initial-expanded-data-sources"])):v("",!0),i(e(C),null,{default:t(()=>[i(P,{category:a.categoryKey,longList:!0,title:s.value,emptyMessage:`No ${s.value} defined. Set them up in your game configs to start using the feature!`,customEvaluationIsoDateTime:b.value?String(b.value.toISO()):void 0,hideCollapse:""},null,8,["category","title","emptyMessage","customEvaluationIsoDateTime"])],void 0,!0),_:1}),i(e(C),{class:"tw-mt-4"},{default:t(()=>[i(e(U),{class:"tw-bg-white tw-p-4","model-value":l.value,name:"customEvaluationTimeEnabled","on-state-label":"Custom Evaluation Time Enabled","off-state-label":"Enable Custom Evaluation Time","on-state-hint-message":"With custom evaluation time enabled, the phases on the page are evaluated according to the time you set. Disable to use the local time of your browser. ","off-state-hint-message":"Enable custom evaluation time to set an exact time for phase evaluation.","onUpdate:modelValue":n[0]||(n[0]=V=>l.value=V),"data-testid":"custom-time"},{default:t(()=>[l.value?(m(),u(e(A),{key:0,class:"tw-mt-2 tw-border-t tw-border-neutral-200 tw-pt-2",label:"Evaluation Time (UTC)","model-value":r.value,"onUpdate:modelValue":E},null,8,["model-value"])):v("",!0)],void 0,!0),_:1},8,["model-value"])],void 0,!0),_:1}),i(e(j),{data:p.value,label:"activablesMetadata"},null,8,["data"])],void 0,!0),_:1},8,["is-loading"]))}});export{ve as default};
