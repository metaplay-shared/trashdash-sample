import{d,c as s,E as u,e as l,o as m,f as c}from"./index-jY1EWd09.js";import{E as p,w as g,M as v}from"./MetaEventStreamCard-BR93ljz-.js";import{g as f}from"./auditLogs-CPjEI3XD.js";const h=d({__name:"AuditLogCard",props:{targetType:{},targetId:{type:[String,Function],default:void 0},limit:{default:50},maxHeight:{default:"30rem"}},setup(r){const t=r,n=s(()=>typeof t.targetId=="string"?t.targetId:t.targetId?t.targetId():void 0),{data:i}=u(f(t.targetType,n.value,t.limit)),o=s(()=>{if(i.value){let a=i.value.entries.map(e=>new p(e.createdAt,e.displayTitle,e.displayDescription,e.eventId,e,e.source.sourceId,"event",`/auditLogs/${e.eventId}`)).reverse();return a=g(a),a}else return null});return(a,e)=>(m(),l(c(v),{class:"tw-mb-4",title:"Latest Audit Log Events",icon:"clipboard-list",eventStream:o.value,searchIsFilter:!0,maxHeight:r.maxHeight,permission:"api.audit_logs.view",showViewMoreLink:"","data-testid":"audit-log-card"},null,8,["eventStream","maxHeight"]))}});export{h as _};
