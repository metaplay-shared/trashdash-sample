import{d as P,E as v,c as g,e as l,o as r,w as a,j as o,f as e,x,k as s,t as n,a as d,m as p,B as S,D as m,ae as N,q as y,y as k,_ as T}from"./index-jY1EWd09.js";import b from"./MetaListCard-1ZrdC8ii.js";import{M as _,a as h}from"./metaListUtils-B-xQ0HnD.js";import{m as D,l as u,g as I}from"./liveOpsEventUtils-Qop3BoOe.js";import{b as M,a as V}from"./liveOpsEvents-DY308ck4.js";import"./utils-B01yCWQ7.js";import"./_baseIteratee-FGZghVLZ.js";import"./isSymbol-B-tfGeoT.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Wwv8TYAB.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-BmEacL49.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-Bzg4Lkt_.js";import"./MInputSingleSelectRadio-BM2VfYc3.js";import"./index-Dec9dGh3.js";import"./button-group-DH69WWlM.js";const $={key:0},A={key:1},B={key:0},it=P({__name:"UpcomingEventsListCard",setup(C){const{data:c}=v(M()),{data:w}=v(V()),O=g(()=>w.value?.map(f=>f.eventTypeName)??[]),E=g(()=>c.value?D(O.value,["NotYetStarted","InPreview"],!1):[]),L=[new _("Start time","schedule.enabledStartTime",h.Ascending),new _("Start time","schedule.enabledStartTime",h.Descending)];return(f,i)=>(r(),l(e(b),{title:"Upcoming Events",icon:"calendar-days",itemList:e(c)?.upcomingEvents,searchFields:["displayName","description"],filterSets:E.value,sortOptions:L,emptyMessage:"No upcoming events right now, please create new ones.","data-testid":"upcoming-live-ops-events-list-card"},{"item-card":a(({item:t})=>[o(e(x),null,{"top-right":a(()=>[t.schedule?.isPlayerLocalTime===!0?(r(),l(e(T),{key:0,variant:"primary"},{default:a(()=>[...i[0]||(i[0]=[s("Player Local",-1)])],void 0,!0),_:1})):(r(),l(e(T),{key:1,variant:e(u)[t.currentPhase].badgeVariant},{default:a(()=>[s(n(e(u)[t.currentPhase].displayString),1)],void 0,!0),_:2},1032,["variant"]))]),"bottom-left":a(()=>[t.description?(r(),d("div",$,n(t.description),1)):p("",!0),t.schedule!==null&&!t.schedule?.isPlayerLocalTime&&t.startTime&&t.endTime?(r(),d("div",A,[y("span",null,[i[1]||(i[1]=s("Starting ",-1)),o(e(k),{instant:e(m).fromISO(t.startTime)},null,8,["instant"])]),y("span",null,[i[2]||(i[2]=s("Â and will run for ",-1)),o(e(S),{duration:e(m).fromISO(t.endTime).diff(e(m).fromISO(t.startTime)),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[3]||(i[3]=s(".",-1))])])):p("",!0)]),"bottom-right":a(()=>[t.nextPhase&&t.nextPhaseTime?(r(),d("div",B,[s("Entering '"+n(e(u)[t.nextPhase].displayString)+"' in ",1),o(e(S),{duration:e(m).fromISO(t.nextPhaseTime).diffNow(),showAs:e(I)(t.nextPhaseTime),hideMilliseconds:""},null,8,["duration","showAs"]),i[4]||(i[4]=s(".",-1))])):p("",!0),o(e(N),{to:`/liveOpsEvents/${t.eventId}`,"data-testid":"view-live-ops-event"},{default:a(()=>[...i[5]||(i[5]=[s("View event",-1)])],void 0,!0),_:1},8,["to"])]),default:a(()=>[s(n(t.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets"]))}});export{it as default};
