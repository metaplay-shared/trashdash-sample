import{d as $,h as y,D as O,c as d,E as x,bw as G,e as u,o,w as a,m as v,a as w,f as t,q as s,j as i,F as N,b as V,t as f,ah as B,a6 as I,k as g,ae as L}from"./index-jY1EWd09.js";import{_ as q}from"./OfferGroupsCard.vue_vue_type_script_setup_true_lang-v5jx_QB6.js";import{g as T,_ as U}from"./dataSourceUtils-Di-chQ61.js";import{a as M}from"./offers-DBtp9gqX.js";import{_ as j}from"./MTwoColumnLayout.vue_vue_type_script_setup_true_lang-B5zJm1QQ.js";import{M as E}from"./MSingleColumnLayout-BSf_YwiY.js";import{_ as A}from"./MInputToggleGroup.vue_vue_type_script_setup_true_lang-BfBi0Sfr.js";import{_ as F}from"./MInputDateTime.vue_vue_type_script_setup_true_lang-BJgw3K8v.js";import{_ as Y,a as z}from"./MViewContainer.vue_vue_type_script_setup_true_lang-C_1W2rCL.js";import"./metaListUtils-B-xQ0HnD.js";import"./MetaActivablePhaseBadge.vue_vue_type_script_setup_true_lang-SumaTD3C.js";import"./players-Dfl1Givn.js";import"./MetaActivablesBaseCard.vue_vue_type_script_setup_true_lang-C4azyES_.js";import"./numberUtils-CkF0oMe2.js";import"./activables-BjU5qyme.js";import"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-CqJL3vnO.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./isSymbol-B-tfGeoT.js";import"./MAbbreviateNumber.vue_vue_type_script_setup_true_lang-C_9AAI8F.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Wwv8TYAB.js";import"./MInputSwitch.vue_vue_type_script_setup_true_lang-D2jAqk4R.js";import"./index-DtO9IDi2.js";const W={class:"tw-mt-1"},H={key:1,class:"tw-mx-auto tw-max-w-6xl"},J={class:"tw-text-center tw-text-xs+ tw-italic tw-text-neutral-500"},b="Offer Groups",he=$({__name:"OfferGroupListView",setup(K){const l=y(!1),m=y(O.utc()),h=d(()=>{if(l.value)return m.value}),S=d(()=>l.value?String(m.value.toISO()):O.utc().toISO());function D(r){r&&(m.value=r)}const{data:c,error:P}=x(M()),{data:k}=x(G()),p=d(()=>{if(c.value){const e=Object.values(c.value.offerGroups).map(C=>C.config.placement);return[...new Set(e)]}else return null}),_=d(()=>{const r=T("OfferGroup");return k.value?.timelineDataSourcePresence[r]??"NotPresent"});return(r,e)=>(o(),u(t(z),{permission:"api.activables.view","is-loading":!t(c),error:t(P),"full-width":""},{overview:a(()=>[i(t(Y),{title:"View Offer Groups","data-testid":"offers-group-overview-card"},{default:a(()=>[e[3]||(e[3]=s("p",{class:"tw-mb-1"},"Offer groups are sets of in-game offers that can be scheduled, targeted and placed in different parts of your game.",-1)),e[4]||(e[4]=s("p",{class:"tw-mb-1 tw-text-xs+ tw-text-neutral-500"},"Individual offers can be re-used in multiple groups to show them in many places at the same time. You can set fine-tuned limits and conditions to both individual offers and their groups to create advanced shop management scenarios.",-1)),_.value==="NotConfigured"?(o(),u(t(I),{key:0,class:"tw-mt-4",title:"LiveOps Timeline Presence Not Configured",variant:"neutral"},{default:a(()=>[s("p",null,"This page would normally include a LiveOps Timeline, but timeline presence for "+f(b)+" has not been configured. This means that no "+f(b)+" would be seen on the timeline and, because of this, it has been hidden."),s("p",W,[g("You can configure timeline presence for "+f(b)+" by following the "),i(t(L),{to:"https://docs.metaplay.io/liveops-dashboard/liveops-timeline.html#configuring-offer-groups-for-the-timeline"},{default:a(()=>[...e[1]||(e[1]=[g("documentation",-1)])],void 0,!0),_:1}),e[2]||(e[2]=g(".",-1))])],void 0,!0),_:1})):v("",!0)],void 0,!0),_:1})]),default:a(()=>[_.value==="Present"?(o(),u(U,{key:0,class:"tw-mb-4","start-expanded":"","initial-expanded-data-sources":[t(T)("OfferGroup")]},null,8,["initial-expanded-data-sources"])):v("",!0),p.value&&p.value.length>0?(o(),w("div",H,[e[5]||(e[5]=s("h3",{class:"tw-mb-2"},"Offer Groups By Placement",-1)),i(t(j),null,{default:a(()=>[(o(!0),w(N,null,V(p.value,n=>(o(),w("div",{key:n},[i(q,{class:"tw-h-full",title:`${n}`,placement:n,emptyMessage:"This placements has no offer groups in it.",customEvaluationIsoDateTime:h.value?String(h.value.toISO()):void 0,hideCollapse:"",hidePlacement:""},null,8,["title","placement","customEvaluationIsoDateTime"])]))),128))],void 0,!0),_:1}),i(t(E),{class:"tw-my-4"},{default:a(()=>[i(t(A),{class:"tw-bg-white tw-p-4","model-value":l.value,name:"customEvaluationTimeEnabled","on-state-label":"Custom Evaluation Time Enabled","off-state-label":"Enable Custom Evaluation Time","on-state-hint-message":"With custom evaluation time enabled, the phases on the page are evaluated according to the time you set. Disable to use the local time of your browser. ","off-state-hint-message":"Enable custom evaluation time to set an exact time for phase evaluation.",size:"small","onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),"data-testid":"custom-time"},{default:a(()=>[l.value?(o(),u(t(F),{key:0,class:"tw-mt-2 tw-border-t tw-border-neutral-200 tw-pt-2",label:"Evaluation Time (UTC)","model-value":m.value,"onUpdate:modelValue":D},null,8,["model-value"])):v("",!0),s("div",J,"Schedules evaluated at "+f(S.value),1)],void 0,!0),_:1},8,["model-value"])],void 0,!0),_:1})])):(o(),u(t(E),{key:2},{default:a(()=>[i(t(B),{title:"Offer Groups By Placement"},{default:a(()=>[...e[6]||(e[6]=[s("div",{class:"tw-italic tw-text-neutral-400"},"No offer groups were found.",-1)])],void 0,!0),_:1})],void 0,!0),_:1}))],void 0,!0),_:1},8,["is-loading","error"]))}});export{he as default};
