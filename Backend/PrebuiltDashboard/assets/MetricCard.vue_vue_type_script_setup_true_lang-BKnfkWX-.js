import{d as P,c as k,d1 as N,d2 as U,a as T,o as f,e as M,f as p,d3 as A,d4 as G,D as F,bo as J,bp as q,bq as W,br as Q,E as X,b7 as Z,h as tt,bJ as et,K as Y,ah as it,I as at,w as S,q as _,t as I,m as j,Q as $,ae as L,k as V}from"./index-jY1EWd09.js";import{a as O}from"./numberUtils-CkF0oMe2.js";import{b as D,_ as z}from"./MPlot.vue_vue_type_script_setup_true_lang-BKfTeSAz.js";const nt={key:1,class:"tw-m-[60px] tw-text-center tw-italic tw-text-neutral-500"},lt=P({__name:"MDailyCohortsBarChart",props:{data:{},interval:{},yMinValue:{default:10},height:{},xAxisLabels:{},unit:{},unitPlacement:{},onBarClick:{type:Function,default:void 0},fractionDigits:{default:0}},setup(l){const t=l,v=(d,r,s,a,n,i)=>{if(!i)throw new Error("No next render function provided");const c=i(d,r,s,a,n);if(!c)throw new Error("No element returned from next render function");const u=c.querySelectorAll("rect");for(const[y,x]of u.entries()){if(!s.channels.x)throw new Error("No x channel found in values");const b={index:d[y],x:s.channels.x.value[y]};typeof b.x=="number"&&(x.style.cursor="pointer",x.addEventListener("click",()=>{t.onBarClick?.(b.x)}))}return c},e=k(()=>{const d=t.data.map(a=>a.value).filter(a=>a!==null);let r=Math.max(...d);d.length===0&&(r=t.yMinValue??10);const s=t.data.map(a=>a.instant);return{marginTop:t.xAxisLabels?10:void 0,marginBottom:t.xAxisLabels?20:void 0,x:{label:null,interval:1,domain:s,tickFormat:a=>t.xAxisLabels==="show"?`D${a.toString()}`:""},y:{label:t.unit?.length!==1?t.unit:null,labelArrow:"none",labelAnchor:"center",ariaLabel:t.unit,nice:!0,domain:[0,Math.max(Math.ceil(r),t.yMinValue??10)],tickFormat:a=>h(a,t.unit,t.unitPlacement)},marks:[D(t.data,{x:"instant",y:(a,n)=>{const i=Math.max(Math.ceil(r),t.yMinValue??10);return a.value===null?0:a.value===0?.005*i:a.value},fill:(a,n)=>a.value===null||a.value===0?"#e5e5e5":"#2d90dc",rx:".1rem",render:t.onBarClick?v:void 0}),N(t.data,U({x:"instant",y:(a,n)=>{const i=.5*r>t.yMinValue?.5*r:.5*t.yMinValue,y=o(a,t.unit,t.unitPlacement,t.fractionDigits??0).split(`
`).length*14+20,x=Math.max(Math.ceil(r),t.yMinValue??10);return i+y*.5>x*.9?x*.1:i},dy:-10,anchor:"bottom",title:a=>{if(a.value!==null)return o(a,t.unit,t.unitPlacement,t.fractionDigits??0)},stroke:"#d4d4d4",fill:"#fafafa",fontSize:11}))],height:t.height==="half"?150:300}});function o(d,r,s,a){return`D${d.instant.toString()}: ${s==="front"?r:""}${d.value?.toFixed(a)}${s==="back"?r:""}`}function h(d,r,s){return r&&r.length>1?O(d)??d.toString():r?`${s==="front"?r:""}${O(d)}${s==="back"?r:""}`:O(d)??d.toString()}return(d,r)=>(f(),T("div",null,[t.data.length>0?(f(),M(p(z),{key:0,options:e.value},null,8,["options"])):(f(),T("div",nt,"No data available for the selected options."))]))}}),ot={key:1,class:"tw-p-4 tw-text-center tw-italic tw-text-neutral-500"},E=P({__name:"MTimeSeriesBarChart",props:{chartOptions:{}},setup(l){const t=l,v={data:[],interval:"minute",xTickFormat:"%H:%M",yTickFormat:"s",xDomain:void 0,yMinValue:10,tooltipContent:void 0,height:void 0,hideXAxisLabels:!1,unit:"",valueHighlightThreshold:void 0},e=k(()=>({...v,...t.chartOptions})),o=d=>({primary:"#2d90dc",neutral:"#d4d4d4",success:"#10b981",danger:"#ef4444",warning:"#f59e0b"})[d],h=k(()=>{const d=e.value.data.map(n=>n.value).filter(n=>n!=null),r=d.length>0?Math.max(...d):0,s=Math.max(Math.ceil(r),e.value.yMinValue??10),a=[A({ticks:e.value.hideXAxisLabels?[]:[e.value.data[0].instant],label:null,tickFormat:n=>`${n.toFormat(`yyyy-MM-dd
HH:mm`)} UTC`,textAnchor:"start"}),A({ticks:e.value.hideXAxisLabels?[]:[e.value.data[e.value.data.length-1].instant],label:null,tickFormat:n=>`${n.toFormat(`yyyy-MM-dd
HH:mm`)} UTC`,textAnchor:"end"}),N(e.value.data.filter(n=>n.value!==null),U({x:"instant",y:(n,i)=>{const c=r>(e.value.yMinValue??10)?.5*r:.5*(e.value.yMinValue??10),x=(e.value.tooltipContent?e.value.tooltipContent(n):`${n.value} ${e.value.unit}
${n.instant.toFormat("yyyy-MM-dd HH:mm")} UTC`).split(`
`).length*14+20;return c+x*.5>s*.9?s*.1:c},dy:-10,anchor:"bottom",title:e.value.tooltipContent??(n=>`${n.value} ${e.value.unit}
${n.instant.toFormat("yyyy-MM-dd HH:mm")} UTC`),fontSize:11,stroke:"#d4d4d4",fill:"#fafafa"}))];if(e.value.valueHighlightThreshold){const n=e.value.valueHighlightThreshold;a.unshift(D(e.value.data,{x:"instant",y1:0,y2:i=>i.value===null||i.value===0?i.value===0?.005*s:0:Math.min(i.value,n.value),fill:(i,c)=>i.value===null||i.value===0?"#e5e5e5":c===e.value.data.length-1?"#ffcc80":o(n.belowVariant),rx:".1rem"})),a.unshift(D(e.value.data,{x:"instant",y1:i=>i.value===null||i.value===0?0:Math.min(i.value,n.value),y2:i=>{if(i.value===null)return s;if(i.value!==0)return i.value>n.value?i.value:Math.min(i.value,n.value)},fill:i=>i.value===null||i.value===0||i.value<=n.value?"transparent":o(n.aboveVariant),rx:".1rem"})),a.unshift(G([n.value],{stroke:"#a3a3a3",strokeWidth:2,strokeDasharray:"5,5"}))}else a.unshift(D(e.value.data,{x:"instant",y:(n,i)=>n.value===null?0:n.value===0?.005*s:n.value,fill:(n,i)=>n.value===null||n.value===0?"#e5e5e5":i===e.value.data.length-1?"#ffcc80":"#2d90dc",rx:".1rem"}));return{marginTop:e.value.hideXAxisLabels?10:void 0,marginBottom:e.value.hideXAxisLabels?20:void 0,x:{interval:e.value.interval,label:null,tickFormat:e.value.xTickFormat,domain:e.value.xDomain??e.value.data.map(n=>n.instant instanceof F?n.instant.toMillis():n.instant)},y:{label:e.value.unit?.length!==1?e.value.unit:null,nice:!0,labelArrow:"none",labelAnchor:"center",ariaLabel:e.value.unit,domain:[0,s],tickFormat:e.value.yTickFormat},marks:a,height:e.value.height}});return(d,r)=>e.value.data.length>0?(f(),M(z,{key:0,options:h.value},null,8,["options"])):(f(),T("div",ot,"No data available."))}}),rt={key:1,class:"tw-m-[60px] tw-text-center tw-italic tw-text-neutral-500"},st=P({__name:"MTimeSeriesStackedBarChart",props:{data:{},interval:{},yMinValue:{default:10},height:{},xAxisLabels:{},unit:{},unitPlacement:{},fractionDigits:{default:0}},setup(l){const t=l,v=["#2d90dc","#ebbf34","#e34a2f","#4b4cb3","#f06292","#3f6730","#7d83c9","#8702a8","#616161","#ff6d00","#00bcd4","#cddc39","#795548"],e=k(()=>{const r=t.data.map(i=>i.value).filter(i=>i!==null),s={};for(const i of t.data)if(i.value!==null){const c=i.instant.toString();s[c]??=[],s[c].push(i.value)}const a=[];for(const[i,c]of Object.entries(s))a.push(c.reduce((u,y)=>u+y,0));let n=Math.max(...a);return r.length===0&&(n=t.yMinValue??10),{marginTop:t.xAxisLabels==="hide"?10:void 0,marginBottom:t.xAxisLabels==="hide"?20:void 0,x:{label:null,interval:t.interval,tickFormat:t.xAxisLabels==="hide"?()=>"":()=>d(t.data.map(i=>i.instant),"right",t.interval),ariaLabel:t.xAxisLabels==="hide"?"":"Time",ticks:t.xAxisLabels==="hide"?[]:void 0},y:{label:t.unit.length===1?"":t.unit,labelArrow:"none",labelAnchor:"center",ariaLabel:t.unit.length===1?"":t.unit,nice:!0,domain:[0,Math.max(Math.ceil(n),t.yMinValue??10)],tickFormat:i=>o(i,t.unit,t.unitPlacement)},color:{legend:!0,range:v,n:v.length},marks:[D(t.data,{x:"instant",y:i=>{if(i.value===null){const c=t.data.filter(u=>u.instant===i.instant);return c.length>0&&c.some(u=>u.value!==null)?void 0:0}else if(i.value===0){const c=t.data.filter(u=>u.instant===i.instant);return c.length>0&&c.some(u=>u.value!==null&&u.value>0)?void 0:i.cohort===t.data[0]?.cohort?.005*Math.max(Math.ceil(n),t.yMinValue??10):void 0}else return},fill:"cohort"}),D(t.data,{x:"instant",y:"value",fill:"cohort",stroke:"#fff",strokeWidth:.1,reverse:!0}),A({ticks:t.xAxisLabels==="hide"?[]:[t.data[0].instant],label:null,tickFormat:i=>`${i.toFormat(`yyyy-MM-dd
HH:mm`)} UTC`,textAnchor:"start"}),A({ticks:t.xAxisLabels==="hide"?[]:[t.data[t.data.length-1].instant],label:null,tickFormat:i=>`${i.toFormat(`yyyy-MM-dd
HH:mm`)} UTC`,textAnchor:"end"}),N(t.data,U({x:"instant",y:(i,c)=>{const u=n>t.yMinValue?.5*n:.5*t.yMinValue,b=h(t.data,i,t.interval!=="1 day",t.unit,t.unitPlacement==="front",t.fractionDigits).split(`
`).length*14+20,H=Math.max(Math.ceil(n),t.yMinValue??10);return u+b*.5>H*.9?0:u},dy:-10,anchor:"bottom",title:i=>{if(i.value===null){const c=t.data.filter(u=>u.instant===i.instant);if(c.length>0&&c.every(u=>u.value===null))return}return h(t.data,i,t.interval!=="1 day",t.unit,t.unitPlacement==="front",t.fractionDigits)},fontSize:11,stroke:"#d4d4d4",fill:"#fafafa"}))],height:t.height==="full"?300:t.height==="half"?150:300}});function o(r,s,a){const n=O(r)??r.toString();return s.length>1?n:a==="front"?s+n:n+s}function h(r,s,a,n,i,c){const u=n.length===1&&i?n:"",y=n.length===1&&!i?n:"";return r.filter(b=>b.instant instanceof F).map(b=>b.instant.equals(s.instant)?`${b.cohort}: ${u}`+b.value?.toFixed(c)+`${y}
`:"").join("")+`
`+(a?s.instant.toFormat("yyyy-MM-dd HH:mm")+" UTC":s.instant.toFormat("yyyy-MM-dd"))}function d(r,s,a){return r[r.length-1]?.toFormat("yyyy-MM-dd HH:mm")+" UTC"}return(r,s)=>(f(),T("div",null,[t.data.length>0?(f(),M(p(z),{key:0,options:e.value},null,8,["options"])):(f(),T("div",rt,"No data available."))]))}});function ut(l,t){if(!l.cohorts)return{data:[],interval:"1 day",unit:"",unitPlacement:"back",height:"full",xAxisLabels:"hide",yMinValue:10};let v=[];if(t!==void 0){const[,e]=Object.entries(l.cohorts).find(o=>Date.parse(o[0])===Date.parse(t))??["",{"":0}];Object.entries(e).some(([,o])=>o!==null)?v=Object.entries(e).filter(([,o])=>o!==null).map(([o,h])=>({instant:Number.parseInt(o,10),value:h})):v=[]}else v=Object.entries(l.weightedAverage??{}).filter(([,e])=>e!==null).map(([e,o])=>({instant:Number.parseInt(e,10),value:o}));return{data:v,interval:"1 day",yMinValue:l.dashboardInfo?.yMinValue??10,unit:l.dashboardInfo?.unit??"",unitPlacement:l.dashboardInfo?.unitOnFront?"front":"back",height:"full",xAxisLabels:"hide",fractionDigits:l.dashboardInfo?.decimalPrecision??0}}function ct(l,t){if(!l?.cohorts||!l.dashboardInfo)return{data:[],xTickFormat:void 0,yTickFormat:void 0};const e=Object.entries(l.cohorts).map(i=>{const c=Object.entries(i[1]).find(([u])=>u===t.toString())?.[1];return c!==void 0?{instant:F.fromISO(i[0],{zone:"utc"}),value:c}:void 0}).filter(i=>i!==void 0),o=l.dashboardInfo,h=o.decimalPrecision??0,d=o.unit?.length===1&&o.unitOnFront?o.unit:"",r=o.unit?.length===1&&!o.unitOnFront?o.unit:"",s=o.unit&&o.unit.length>1,a=i=>s||o.unit===""?O(i)??i.toString():d+O(i)+r,n=i=>`${o.unitOnFront?o.unit:""}${i.value?.toFixed(h)}${o.unitOnFront?"":o.unit}
${i.instant.toFormat("yyyy-MM-dd")}`;return{data:e,interval:"1 day",yTickFormat:a,yMinValue:o.yMinValue!==0?o.yMinValue:void 0,tooltipContent:n,unit:o.unit}}const kt=[{label:"Live Update",value:"liveUpdate"},{label:"Fixed Window",value:"fixedWindow"}],K={Minutely:{label:"Per Minute",interval:"1 minute",windowSizeSeconds:3600,maxWindowSizeSeconds:86400},Hourly:{label:"Hourly",interval:"1 hour",windowSizeSeconds:3*86400,maxWindowSizeSeconds:30*86400},Daily:{label:"Daily",interval:"1 day",windowSizeSeconds:60*86400,maxWindowSizeSeconds:365*3*86400}};function wt(l,t){if(l)return t?.metrics?.find(v=>v.id===l)}function dt(l,t,v,e=void 0){if(!l)return{data:[],xTickFormat:void 0,yTickFormat:void 0};const o=Object.entries(l).map(([a,n])=>({instant:F.fromISO(a,{zone:"utc"}),value:n}));if(e){if(o.length<e&&o.length>0){const a=o.length;for(let n=a;n<e;n++){let i;v==="Daily"?i=o[a-1]?.instant.startOf("day").minus({days:n}):v==="Hourly"?i=o[a-1]?.instant.startOf("hour").minus({hours:n}):i=o[a-1]?.instant.startOf("minute").minus({minutes:n}),i&&o.push({instant:i,value:null})}}o.sort((a,n)=>a.instant.toMillis()-n.instant.toMillis())}const h=K[v],d=t.decimalPrecision??0,r=a=>t.unit&&t.unit.length>1?O(a)??a.toString():(t.unit&&t.unitOnFront?t.unit:"")+O(a)+(t.unit&&!t.unitOnFront?t.unit:""),s=a=>`${t.unit&&t.unitOnFront?t.unit:""}${a.value?.toFixed(d)}${t.unit&&!t.unitOnFront?t.unit:""}
${v==="Daily"?a.instant.toFormat("yyyy-MM-dd"):a.instant.toFormat("yyyy-MM-dd HH:mm")+" UTC"}`;return{data:o,interval:h.interval,yTickFormat:r,yMinValue:t.yMinValue!==0?t.yMinValue:void 0,tooltipContent:s,unit:t.unit}}function mt(l){return l.values?Object.entries(l.values).some(t=>t[1]!==null):l.cohorts?Object.entries(l.cohorts).some(t=>Object.entries(t[1]).some(v=>v[1]!==null)):!1}function vt(l,t,v=void 0){if(!l.cohorts||!l.dashboardInfo)return{data:[],interval:"1 day",unit:"",unitPlacement:"back",height:"full",fractionDigits:0,xAxisLabels:"datetime"};const e=[];let o=0;for(const[s,a]of Object.entries(l.cohorts)){let n=0;const i=F.fromISO(s,{zone:"utc"});for(const[c,u]of Object.entries(a))e.push({instant:i,value:u,cohort:c}),n+=u;o=Math.max(o,n)}if(v){const s=e.map(a=>a.instant.toISODate()).filter((a,n,i)=>i.indexOf(a)===n).length;if(s<v){const a=Array.from(new Set(e.map(n=>n.cohort)));for(let n=s;n<v;n++){const i=e[s-1]?.instant.startOf("day").minus({days:n});if(i&&!e.find(c=>c.instant.day===i.day))for(const c of a)e.push({instant:i,value:null,cohort:c})}}e.sort((a,n)=>a.instant.toMillis()-n.instant.toMillis())}const h=K[t],d=l.dashboardInfo,r=d.decimalPrecision??0;return{data:e,interval:h.interval,yMinValue:Math.max(o,d.yMinValue??10),unit:d.unit,unitPlacement:d.unitOnFront?"front":"back",height:"full",xAxisLabels:"datetime",fractionDigits:r}}function ht(l,t,v,e){return{permission:"api.metrics.view",pollingPolicy:W(5e3),fetcherPolicy:q(`/metrics/single/${l}?resolution=${t}&startTime=${v.toUTC().toString()}&endTime=${e.toUTC().toString()}`),cacheRetentionPolicy:Q(6e4)}}function ft(){return{permission:"api.metrics.view",pollingPolicy:W(6e4),fetcherPolicy:q("/metrics"),cacheRetentionPolicy:J()}}const yt={class:"tw-mt-2"},gt={key:0,class:"tw-mb-5 tw-text-center tw-text-neutral-500"},xt={key:1},Ct=P({__name:"MetricCard",props:{metricId:{},timeSeriesResolution:{},startTime:{},endTime:{},badge:{default:void 0},linkMode:{},customLink:{default:void 0},customLinkTitle:{default:void 0},compact:{type:Boolean,default:!1},cohortDate:{default:void 0},selectedCohort:{default:void 0},hideDescription:{type:Boolean,default:!1},fillWithNulls:{default:void 0}},emits:["cohort-selected"],setup(l,{emit:t}){const v=Z(),e=l,o=t,h=k(()=>{if(!s.value)return{warning:"You do not have the permission to view metrics."};if(r.value)return{error:r.value};if(!d.value)return{isLoading:!0};if(!v.doesHavePermission(a.value?.requiredPermission))return{warning:"You do not have the permission to view this metric."};if(a.value?.dailyOnly&&e.timeSeriesResolution!=="Daily")return{warning:"This metric is only available on a daily resolution."};if(i.value)return{error:i.value};if(!u.value)return{isLoading:!0};const m=c.value;return m===void 0?{error:new et("Invalid Metric ID",`The requested metric "${e.metricId}" does not exist.`)}:a.value?.hasCohorts&&(Object.values(m?.cohorts??{}).length===0||Object.values(m.cohorts??{}).every(g=>g.length===0)||Object.values(m.cohorts??{}).every(g=>Object.values(g).every(B=>B===null)))?{warning:"No data available for this metric."}:{}}),{data:d,error:r,hasPermission:s}=X(()=>ft()),a=k(()=>d.value?.metrics?.find(m=>m.id===e.metricId)?.dashboardInfo),{data:n,error:i}=X(()=>{if(!(e.timeSeriesResolution!=="Daily"&&a.value?.dailyOnly||!v.doesHavePermission(a.value?.requiredPermission)))return ht(e.metricId,e.timeSeriesResolution,e.startTime,e.endTime)}),c=tt();Y([n],([m],[g])=>{m&&(c.value=m)},{immediate:!0}),Y([()=>e.metricId,()=>e.timeSeriesResolution==="Daily"],()=>{c.value=void 0});const u=k(()=>c.value);function y(){return`metrics/${e.metricId}?resolution=${e.timeSeriesResolution}&preset=custom&start=${e.startTime.toISO()}&end=${e.endTime.toISO()}`}function x(){const m=Math.round(e.endTime.diff(e.startTime).as("minutes"));return`metrics/${e.metricId}?resolution=${e.timeSeriesResolution}&preset=custom&timeWindowMode=liveUpdate&duration=PT${m}M`}function b(){switch(e.linkMode){case"detail-view":return`/metrics/${e.metricId}`;case"live-updating-link-to-metric":return x()??"";case"time-range-link-to-metric":return y()??"";case"custom-link":return e.customLink??"";case"none":throw new Error('Requested link when linkMode is "none"')}}const H=k(()=>{if(!u.value||!a.value)return{data:[]};const m=dt(u.value.values,a.value,e.timeSeriesResolution,e.fillWithNulls);return m.hideXAxisLabels=e.compact||m.hideXAxisLabels,m.height=e.compact?200:void 0,m.unit=a.value.unit,m}),w=k(()=>{if(!u.value||!a.value)return{data:[],interval:"1 day",height:"full",unit:"",unitPlacement:"back",fractionDigits:0,xAxisLabels:"datetime"};const m=vt(u.value,e.timeSeriesResolution,e.fillWithNulls);return m.xAxisLabels=e.compact?"hide":"datetime",m.height=e.compact?"half":"full",m.unit=a.value.unit,m}),C=k(()=>{if(!u.value||!a.value)return{data:[],interval:"1 day",unit:"",resolution:"Daily",fractionDigits:0,xAxisLabels:"show",height:"full",unitPlacement:"back",yMinValue:10};const m=ut(u.value,e.cohortDate);return m.xAxisLabels=e.compact?"hide":"show",m.height=e.compact?"half":"full",m.unit=a.value.unit,m}),R=k(()=>{if(e.selectedCohort===void 0||!u.value)return;const m=ct(u.value,e.selectedCohort);return m.height=e.compact?200:void 0,m.hideXAxisLabels=e.compact||void 0,m});return(m,g)=>(f(),M(p(it),{title:a.value?.name??u.value?.id??"Metric Chart",variant:h.value.warning?"neutral":"primary","is-loading":h.value.isLoading,error:h.value.error,badge:l.badge,"no-body-padding":!!l.compact,"overflow-card":"","data-testid":`metrics-card-${l.metricId}`},at({"header-right":S(()=>[l.linkMode==="detail-view"?(f(),M(p(L),{key:0,"disabled-tooltip":h.value.warning?"No details available for this metric.":void 0,to:b()},{default:S(()=>[...g[0]||(g[0]=[V("View metric",-1)])],void 0,!0),_:1},8,["disabled-tooltip","to"])):l.linkMode==="live-updating-link-to-metric"?(f(),M(p(L),{key:1,"disabled-tooltip":h.value.warning?"No details available for this metric.":void 0,to:x()},{default:S(()=>[...g[1]||(g[1]=[V("View metric",-1)])],void 0,!0),_:1},8,["disabled-tooltip","to"])):l.linkMode==="time-range-link-to-metric"?(f(),M(p(L),{key:2,"disabled-tooltip":h.value.warning?"No details available for this metric.":void 0,to:y()},{default:S(()=>[...g[2]||(g[2]=[V("View metric",-1)])],void 0,!0),_:1},8,["disabled-tooltip","to"])):l.linkMode==="custom-link"?(f(),M(p(L),{key:3,"disabled-tooltip":h.value.warning?"No details available for this metric.":void 0,to:l.customLink},{default:S(()=>[V(I(l.customLinkTitle),1)],void 0,!0),_:1},8,["disabled-tooltip","to"])):j("",!0)]),default:S(()=>[h.value.warning?(f(),T("div",gt,I(h.value.warning),1)):a.value&&u.value&&p(mt)(u.value)?(f(),T("div",xt,[g[3]||(g[3]=_("div",{class:"tw-h-full tw-overflow-y-auto"},null,-1)),a.value.hasCohorts?a.value.isDailyCohorts&&R.value?(f(),M(p(E),{key:1,"chart-options":R.value,class:$({"tw-px-3":l.compact})},null,8,["chart-options","class"])):a.value.isDailyCohorts?(f(),M(p(lt),{key:2,data:C.value.data,interval:C.value.interval,unit:C.value.unit,"fraction-digits":C.value.fractionDigits,"x-axis-labels":C.value.xAxisLabels,height:C.value.height,"y-min-value":C.value.yMinValue,"unit-placement":C.value.unitPlacement,class:$({"tw-px-3":l.compact}),onBarClick:B=>o("cohort-selected",B)},null,8,["data","interval","unit","fraction-digits","x-axis-labels","height","y-min-value","unit-placement","class","onBarClick"])):a.value.hasCohorts?(f(),M(p(st),{key:3,data:w.value.data,interval:w.value.interval,"y-min-value":w.value.yMinValue,height:w.value.height,"x-axis-labels":w.value.xAxisLabels,unit:w.value.unit,"unit-placement":w.value.unitPlacement,"fraction-digits":w.value.fractionDigits,class:$({"tw-px-3":l.compact})},null,8,["data","interval","y-min-value","height","x-axis-labels","unit","unit-placement","fraction-digits","class"])):j("",!0):(f(),M(p(E),{key:0,"chart-options":H.value,class:$({"tw-px-3":l.compact})},null,8,["chart-options","class"]))])):j("",!0)],void 0,!0),_:2},[!l.compact&&!l.hideDescription?{name:"subtitle",fn:S(()=>[_("p",yt,I(a.value?.purposeDescription??"No description available"),1)]),key:"0"}:void 0]),1032,["title","variant","is-loading","error","badge","no-body-padding","data-testid"]))}});export{Ct as _,wt as a,ht as b,ft as g,K as r,kt as t};
