import{d as h,E as y,c as v,e as l,o as a,w as o,j as n,f as e,x as L,k as s,t as m,a as r,m as p,B as u,D as d,ae as k,q as x,y as A,_ as S}from"./index-jY1EWd09.js";import N from"./MetaListCard-1ZrdC8ii.js";import{M as O,a as _}from"./metaListUtils-B-xQ0HnD.js";import{m as D,l as f,g as I}from"./liveOpsEventUtils-Qop3BoOe.js";import{b as M,a as b}from"./liveOpsEvents-DY308ck4.js";import"./utils-B01yCWQ7.js";import"./_baseIteratee-FGZghVLZ.js";import"./isSymbol-B-tfGeoT.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Wwv8TYAB.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-BmEacL49.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-Bzg4Lkt_.js";import"./MInputSingleSelectRadio-BM2VfYc3.js";import"./index-Dec9dGh3.js";import"./button-group-DH69WWlM.js";const C={key:0},V={key:1},$={key:0},B={key:1},F={key:0},at=h({__name:"OngoingPastEventsListCard",setup(j){const{data:c}=y(M()),{data:w}=y(b()),E=v(()=>w.value?.map(g=>g.eventTypeName)??[]),T=v(()=>c.value?D(E.value,["Active","EndingSoon","InReview","Ended"],!0):[]),P=[new O("Creation time","createdAt",_.Descending),new O("Creation time","createdAt",_.Ascending)];return(g,i)=>(a(),l(e(N),{title:"Ongoing and Past Events",icon:"calendar-days",itemList:e(c)?.ongoingAndPastEvents,searchFields:["displayName","description"],filterSets:T.value,sortOptions:P,emptyMessage:"No ongoing events right now, please create new ones.","data-testid":"past-live-ops-events-list-card"},{"item-card":o(({item:t})=>[n(e(L),null,{"top-right":o(()=>[t.schedule?.isPlayerLocalTime===!0&&t.currentPhase!=="Ended"?(a(),l(e(S),{key:0,variant:"primary"},{default:o(()=>[...i[0]||(i[0]=[s("Player Local",-1)])],void 0,!0),_:1})):(a(),l(e(S),{key:1,variant:e(f)[t.currentPhase].badgeVariant},{default:o(()=>[s(m(e(f)[t.currentPhase].displayString),1)],void 0,!0),_:2},1032,["variant"]))]),"bottom-left":o(()=>[t.description?(a(),r("div",C,m(t.description),1)):p("",!0),t.schedule!==null&&!t.schedule?.isPlayerLocalTime&&t.startTime&&t.endTime?(a(),r("div",V,[x("span",null,[i[1]||(i[1]=s("Started ",-1)),n(e(A),{instant:e(d).fromISO(t.startTime)},null,8,["instant"])]),t.hasEnded?(a(),r("span",$,[i[2]||(i[2]=s(" and ran for ",-1)),n(e(u),{duration:e(d).fromISO(t.endTime).diff(e(d).fromISO(t.startTime)),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[3]||(i[3]=s(".",-1))])):(a(),r("span",B,[i[4]||(i[4]=s(" and will end in ",-1)),n(e(u),{duration:e(d).fromISO(t.endTime).diffNow(),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[5]||(i[5]=s(".",-1))]))])):p("",!0)]),"bottom-right":o(()=>[t.nextPhase&&t.nextPhaseTime?(a(),r("div",F,[s("Entering '"+m(e(f)[t.nextPhase].displayString)+"' in ",1),n(e(u),{duration:e(d).fromISO(t.nextPhaseTime).diffNow(),showAs:e(I)(t.nextPhaseTime),hideMilliseconds:""},null,8,["duration","showAs"]),i[6]||(i[6]=s(".",-1))])):p("",!0),n(e(k),{to:`/liveOpsEvents/${t.eventId}`,"data-testid":"view-live-ops-event"},{default:o(()=>[...i[7]||(i[7]=[s("View event",-1)])],void 0,!0),_:1},8,["to"])]),default:o(()=>[s(m(t.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets"]))}});export{at as default};
