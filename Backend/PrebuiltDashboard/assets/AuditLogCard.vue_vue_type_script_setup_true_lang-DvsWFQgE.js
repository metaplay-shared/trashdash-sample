import{d,c as i,E as u,e as l,o as p,f as m}from"./index-B-VT6L6o.js";import{E as c,w as g,M as v}from"./MetaEventStreamCard-CtY5PThH.js";import{g as f}from"./auditLogs-DMbSgLi0.js";const h=d({__name:"AuditLogCard",props:{targetType:{},targetId:{type:[String,Function],default:void 0},limit:{default:50},maxHeight:{default:"30rem"}},setup(s){const t=s,n=i(()=>typeof t.targetId=="string"?t.targetId:t.targetId?t.targetId():void 0),{data:r}=u(f(t.targetType,n.value,t.limit)),o=i(()=>{if(r.value){let a=r.value.entries.map(e=>new c(e.createdAt,e.displayTitle,e.displayDescription,e.eventId,e,e.source.sourceId,"event",`/auditLogs/${e.eventId}`)).reverse();return a=g(a),a}else return null});return(a,e)=>(p(),l(m(v),{class:"tw-mb-4",title:"Latest Audit Log Events",icon:"clipboard-list",eventStream:o.value,searchIsFilter:!0,maxHeight:a.maxHeight,permission:"api.audit_logs.view",showViewMoreLink:"","data-testid":"audit-log-card"},null,8,["eventStream","maxHeight"]))}});export{h as _};
