import{d as S,e as x,o as E,f as t,x as b,w as e,k as r,t as l,j as s,ae as A,q as m,E as L,c as u,r as T}from"./index-B-VT6L6o.js";import{M as c,a as d,b as $}from"./metaListUtils-B-xQ0HnD.js";import{g as D}from"./analyticsEvents-B4g3w6s0.js";import{_ as M}from"./MTwoColumnLayout.vue_vue_type_script_setup_true_lang-D6aFP-Lf.js";import{_ as O}from"./MRawDataCard.vue_vue_type_script_setup_true_lang-DhJnJrxb.js";import{_ as V,a as k}from"./MViewContainer.vue_vue_type_script_setup_true_lang-sbviMV0h.js";const j={class:"tw-text-neutral-500"},B={class:"tw-font-mono tw-text-xs"},N=S({__name:"AnalyticsTypeListGroupItem",props:{event:{type:Object,required:!0}},setup(i){return(n,o)=>(E(),x(t(b),null,{"top-right":e(()=>[m("span",j,[o[0]||(o[0]=r("Code: ",-1)),m("span",B,l(i.event.typeCode),1)])]),"bottom-left":e(()=>[r(l(i.event.docString||"No description provided."),1)]),"bottom-right":e(()=>[s(t(A),{to:`/analyticsEvents/${i.event.typeCode}`,"data-testid":"analytics-details-link"},{default:e(()=>o[1]||(o[1]=[r("View details",-1)]),void 0,!0),_:1,__:[1]},8,["to"])]),default:e(()=>[r(l(i.event.categoryName)+" "+l(i.event.displayName),1)],void 0,!0),_:1}))}}),Y=S({__name:"AnalyticsEventListView",setup(i){const{data:n,error:o}=L(D()),p=[new c("Category","categoryName",d.Ascending),new c("Category","categoryName",d.Descending),new c("Name","displayName",d.Ascending),new c("Name","displayName",d.Descending)],y=["categoryName","displayName","docString","typeCode","eventType"],f=u(()=>[$.asDynamicFilterSet(n.value,"category",a=>a.categoryName)]);function _(a){return a.type.startsWith("Metaplay.")}const h=u(()=>Object.values(n.value??{}).filter(a=>_(a))),C=u(()=>Object.values(n.value??{}).filter(a=>!_(a)));return(a,g)=>{const w=T("meta-list-card");return E(),x(t(k),{permission:"api.analytics_events.view","is-loading":!t(n),error:t(o)},{overview:e(()=>[s(t(V),{title:"View Analytics Event Types","data-testid":"analytics-event-list-overview-card"},{default:e(()=>g[0]||(g[0]=[m("p",null,"These are all the currently implemented server-side analytics events.",-1),m("div",{class:"tw-text-xs+ tw-text-neutral-500"},"You can use this page to explore and inspect the individual analytics events. This might be especially useful for data analysts who need to know the exact contents and formatting of events.",-1)]),void 0,!0),_:1,__:[0]})]),default:e(()=>[s(t(M),null,{default:e(()=>[s(w,{title:"Core Event Types",icon:"list",itemList:h.value,searchFields:y,filterSets:f.value,sortOptions:p,pageSize:20,"data-testid":"analytics-event-list-core-events-card"},{"item-card":e(v=>[s(N,{event:v.item},null,8,["event"])]),_:1},8,["itemList","filterSets"]),s(w,{title:"Custom Event Types",icon:"list",itemList:C.value,searchFields:y,filterSets:f.value,sortOptions:p,emptyMessage:"No custom analytics events have been registered in the game.",pageSize:20,"data-testid":"analytics-event-list-custom-events-card"},{"item-card":e(v=>[s(N,{event:v.item},null,8,["event"])]),_:1},8,["itemList","filterSets"])],void 0,!0),_:1}),s(t(O),{data:t(n),label:"analyticsEvents"},null,8,["data"])],void 0,!0),_:1},8,["is-loading","error"])}}});export{Y as default};
