import{d as P,N as _,O as N,h as n,P as k,c as F,i as I,G as M,r as U,e as f,a as S,o as d,q as C,m as G,j as p,w as V,k as $,t as m,f as c,Q as B,n as E,J as j}from"./index-B-VT6L6o.js";import{_ as z}from"./LabelWithLogicVersion.vue_vue_type_script_setup_true_lang-D14uXKK6.js";import{_ as D}from"./GeneratedUiFormDynamicComponent.vue_vue_type_script_setup_true_lang-DFWvQe41.js";import{_ as K}from"./MInputSwitch.vue_vue_type_script_setup_true_lang-jCyUDcM1.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";const q={key:1,class:"tw-rounded-md tw-bg-neutral-100 tw-px-3 tw-py-2.5"},J={class:"tw-flex tw-items-center tw-justify-between tw-font-semibold"},R=P({__name:"GeneratedUiFormNullableField",props:{...N,value:{type:null,default:()=>null}},emits:_,setup(r,{emit:v}){const l=r,a=n(!1);function g(e){a.value=e,h(e)}const y=v,t=n(),s=n(),{displayName:b,update:i}=k(l,y),T=F(()=>l.logicVersion&&l.disabled?"This field is not available for the player's current logic version.":l.isTargetingMultiplePlayers&&l.disabled?`This field is not available for target players with logic version ${l.fieldInfo.removedInVersion} and above.`:l.disabled?"This field is disabled.":void 0);function u(e){if(e===null)i(null);else if(s.value.typeKind===j.Primitive)t.value=e,i(e);else{const o={...e,$type:s.value.jsonType};t.value=o,i(o)}}I(async()=>{s.value=await M(l.fieldSchema.valueType??""),u(l.value),l.value||(a.value=!1)});function h(e){i(e?t.value:null)}return(e,o)=>{const w=U("b-skeleton");return!e.fieldSchema||!s.value?(d(),f(w,{key:0})):(d(),S("div",q,[C("div",J,[p(z,{fieldInfo:e.fieldInfo,"is-header":!1,class:B({"tw-text-neutral-400":e.disabled}),isTargetingMultiplePlayers:e.isTargetingMultiplePlayers},{default:V(()=>[$(m(a.value?"Disable":"Enable")+" "+m(c(b)),1)],void 0,!0),_:1},8,["fieldInfo","class","isTargetingMultiplePlayers"]),p(c(K),{"model-value":a.value,size:"small","disabled-tooltip":e.disabled?T.value:void 0,"onUpdate:modelValue":g},null,8,["model-value","disabled-tooltip"])]),a.value?(d(),f(D,E({key:0},l,{fieldInfo:{...e.fieldInfo,fieldType:e.fieldSchema.valueType??""},value:r.value,"logic-version":e.logicVersion,disabled:e.disabled,isTargetingMultiplePlayers:e.isTargetingMultiplePlayers,onInput:u}),null,16,["fieldInfo","value","logic-version","disabled","isTargetingMultiplePlayers"])):G("",!0)]))}}});export{R as default};
