import{d as C,c as p,a,o as e,q as r,m as n,Q as g,a7 as o,t as m,j as h,bk as j,k as c,e as f,bl as L,F as _,b as B,a6 as V,w as y,ae as N,bm as P,n as S,bn as T,b7 as W,f as z,ah as I,_ as U,bj as M}from"./index-B-VT6L6o.js";const O=["data-isloading"],D={class:"tw-px-4 tw-pb-2 tw-pt-3"},F={key:0},q={key:1},A={class:g(["sm:tw-flex tw-items-center tw-justify-between tw-gap-2"])},E={key:0,class:"tw-flex tw-h-9 tw-w-9 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border tw-border-neutral-200 tw-border-opacity-25 tw-bg-neutral-100 hover:tw-brightness-90 active:tw-brightness-75"},G=["src"],H={role:"heading",class:g(["tw-font-bold tw-overflow-ellipsis tw-basis-full "]),"data-testid":"overviewcard-title"},Q={class:"tw-ml-1 tw-text-lg"},J={key:0,class:"tw-flex tw-min-w-52 tw-items-center tw-justify-end tw-space-x-1 tw-text-right tw-text-neutral-500"},K={key:1,class:"tw-animate-pulse"},R={key:2},X={key:0,class:"tw-mt-4"},Y={key:0},Z={class:"tw-mr-1"},tt={key:0},et={key:1},st={key:0,class:"tw-mb-4 tw-mt-2 tw-w-full tw-text-right tw-text-xs tw-text-neutral-500"},at=C({__name:"MPageOverviewCard",props:{title:{},isLoading:{type:Boolean},error:{default:void 0},subtitle:{default:void 0},variant:{default:"primary"},avatarImageUrl:{default:void 0},id:{default:void 0},idLabel:{default:"ID"},alerts:{default:void 0}},emits:["headerClick"],setup(k,{emit:$}){const i=k,b=p(()=>i.error?"danger":i.variant),x=p(()=>{const t="tw-border-neutral-200 tw-bg-neutral-50",w={primary:"tw-border-neutral-200 tw-bg-white",neutral:"tw-border-neutral-200 tw-bg-neutral-50",success:"tw-border-green-200 tw-bg-green-100",warning:"tw-border-orange-200 tw-bg-orange-100",danger:"tw-border-red-200 tw-bg-red-200"};return i.isLoading?t:w[b.value]}),s=p(()=>{const t="tw-text-neutral-300",w={primary:"tw-text-neutral-800",neutral:"tw-text-neutral-500",success:"tw-text-green-800",warning:"tw-text-orange-800",danger:"tw-text-red-800"};return i.isLoading?t:w[b.value]}),d=p(()=>({primary:"tw-text-neutral-500",neutral:"tw-text-neutral-400",success:"tw-text-green-500",warning:"tw-text-orange-500",danger:"tw-text-red-500"})[b.value]),l=p(()=>({primary:"tw-text-neutral-900",neutral:"tw-text-neutral-500",success:"tw-text-green-900",warning:"tw-text-orange-900",danger:"tw-text-red-900"})[b.value]),v=t=>/\s/g.test(t);return(t,w)=>(e(),a(_,null,[r("div",S(t.$attrs,{class:["tw-relative tw-z-10 tw-rounded-lg tw-shadow tw-border tw-@container",x.value],"data-isloading":t.isLoading?!0:void 0}),[r("div",D,[t.isLoading?(e(),a("div",F,w[0]||(w[0]=[r("div",{class:"tw-my-3 tw-h-6 tw-w-6/12 tw-animate-pulse tw-rounded tw-bg-neutral-200","data-testid":"overviewcard-loading-indicator"},null,-1)]))):(e(),a("div",q,[r("div",A,[r("div",{class:g(["tw-grow tw-flex tw-items-center tw-space-x-2 tw-my-1 tw-text-2xl",s.value])},[t.avatarImageUrl?(e(),a("div",E,[r("img",{class:"tw-rounded-full",src:t.avatarImageUrl},null,8,G)])):n("",!0),r("div",H,[o(t.$slots,"title",{},()=>[r("span",{class:g(["tw-break-words tw-align-middle",{"tw-break-all":!v(t.title)}])},m(t.title),3),r("span",Q,[o(t.$slots,"badge")])])])],2),t.id?(e(),a("div",J,[r("span",null,m(t.idLabel)+": "+m(t.id),1),h(j,{contents:t.id},null,8,["contents"])])):n("",!0)]),t.$slots.subtitle||t.subtitle?(e(),a("p",{key:0,class:g(["tw-text-sm tw-mb-2",d.value]),"data-testid":"overviewcard-subtitle"},[o(t.$slots,"subtitle",{},()=>[c(m(t.subtitle),1)])],2)):n("",!0)]))]),r("div",{class:g(["tw-mt-1 tw-mb-5 tw-px-4 tw-@container",l.value])},[t.error?(e(),f(L,{key:0,class:"tw-shadow",error:t.error},null,8,["error"])):t.isLoading?(e(),a("div",K,w[1]||(w[1]=[r("div",{class:"tw-mb-2 tw-h-4 tw-w-9/12 tw-rounded tw-bg-neutral-200"},null,-1),r("div",{class:"tw-mb-2 tw-h-4 tw-w-7/12 tw-rounded tw-bg-neutral-200"},null,-1),r("div",{class:"tw-mb-2 tw-h-4 tw-w-8/12 tw-rounded tw-bg-neutral-200"},null,-1)]))):(e(),a("div",R,[o(t.$slots,"default"),t.alerts||t.$slots.alerts?(e(),a("div",X,[t.alerts?(e(),a("div",Y,[(e(!0),a(_,null,B(t.alerts,u=>(e(),f(V,{class:"tw-mb-2",key:u.key||u.title,title:u.title,variant:u.variant,"data-testid":u.dataTest},{default:y(()=>[r("span",Z,m(u.message),1),u.link&&u.linkText?(e(),a("span",tt,[h(N,{to:u.link},{default:y(()=>[c(m(u.linkText),1)],void 0,!0),_:2},1032,["to"]),w[2]||(w[2]=c("!",-1))])):n("",!0)],void 0,!0),_:2},1032,["title","variant","data-testid"]))),128))])):n("",!0),t.$slots.alerts?(e(),a("div",et,[o(t.$slots,"alerts")])):n("",!0)])):n("",!0),t.$slots.buttons?(e(),f(P,{key:1,class:"tw-mt-6"},{default:y(()=>[o(t.$slots,"buttons")],void 0,!0),_:3})):n("",!0)]))],2)],16,O),t.$slots.caption?(e(),a("div",st,[o(t.$slots,"caption")])):n("",!0)],64))}}),rt={key:1},nt={key:1,class:"tw-mx-2 tw-mt-3 tw-max-w-xl sm:tw-mx-auto"},it={key:2,class:"tw-mx-auto tw-mb-12 tw-max-w-2xl"},lt={key:0,class:"tw-mx-auto tw-mb-6 tw-w-full tw-max-w-xl"},ot={key:0},dt={key:1},ut=C({__name:"MViewContainer",props:{variant:{},fullWidth:{type:Boolean},fullWidthOverview:{type:Boolean},alerts:{},isLoading:{type:Boolean},error:{},permission:{}},setup(k){const{doesHavePermission:$}=W(),i=k,b=T(),x=p(()=>{const s="background: repeating-linear-gradient(135deg, rgba(104, 104, 104, 0.05), rgba(104, 104, 104, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)",d="background: repeating-linear-gradient(135deg, rgba(229, 170, 0, 0.05), rgba(229, 170, 0, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)",l="background: repeating-linear-gradient(135deg, rgba(250, 96, 63, 0.05), rgba(250, 96, 63, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)";return i.variant==="neutral"?s:i.variant==="warning"?d:i.variant==="danger"||(i.error??b.errors)||i.alerts?.some(v=>v.variant==="danger")?l:i.alerts?.some(v=>v.variant==="warning")?d:i.alerts?.some(v=>v.variant==="neutral")?s:i.permission&&!$(i.permission)?d:void 0});return(s,d)=>(e(),a("div",{class:"tw-bg-neutral-50 tw-py-6",style:M([{"min-height":"calc(100dvh - 3.5rem)"},x.value])},[s.permission&&!z($)(s.permission)?(e(),f(I,{key:0,class:"tw-mx-1 tw-my-3 tw-w-full tw-max-w-xl sm:tw-mx-auto",title:"Not Authorized",variant:"warning"},{default:y(()=>[r("div",null,[d[0]||(d[0]=c("Unfortunately, you do not have the ",-1)),h(U,{variant:"warning"},{default:y(()=>[c(m(s.permission),1)],void 0,!0),_:1}),d[1]||(d[1]=c(" permission to view this page. Please contact your game admin for access.",-1))])],void 0,!0),_:1})):s.error||s.$slots.errors?(e(),a("div",rt,[s.error?(e(),f(L,{key:0,class:"tw-mx-2 tw-max-w-xl sm:tw-mx-auto",error:s.error},null,8,["error"])):n("",!0),s.$slots.errors?(e(),a("div",nt,[o(s.$slots,"errors")])):n("",!0)])):s.isLoading?(e(),a("div",it,[h(at,{title:"Loading...","is-loading":!0})])):(e(),a("div",{key:3,class:g(["tw-px-1 tw-@container @sm:tw-px-3",[{"tw-max-w-6xl tw-mx-auto":!s.fullWidth}]])},[s.alerts||s.$slots.alerts?(e(),a("div",lt,[s.alerts||s.$slots.alerts?(e(),a("div",ot,[(e(!0),a(_,null,B(s.alerts,l=>(e(),f(V,{class:"tw-mb-3",key:l.key||l.title,title:l.title,variant:l.variant,"data-testid":l.dataTest},{default:y(()=>[c(m(l.message),1)],void 0,!0),_:2},1032,["title","variant","data-testid"]))),128))])):n("",!0),s.$slots.alerts?(e(),a("div",dt,[o(s.$slots,"alerts")])):n("",!0)])):n("",!0),s.$slots.overview?(e(),a("div",{key:1,class:g(["tw-mx-auto tw-mb-12 tw-max-w-2xl",{"tw-max-w-6xl":s.fullWidthOverview}])},[o(s.$slots,"overview")],2)):n("",!0),o(s.$slots,"default")],2))],4))}});export{at as _,ut as a};
