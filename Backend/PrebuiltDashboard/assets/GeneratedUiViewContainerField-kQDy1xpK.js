import{d as V,g as $,h as F,i as T,J as f,G as m,K as B,c,L as K,r as G,e as y,a as o,o as a,j as p,w,k as S,f as r,_ as j,m as g,q as u,t as k,F as _,b as N,p as h,n as b,M as d,v as E}from"./index-B-VT6L6o.js";const U={key:1},A={key:2},L={key:0,class:"tw-flex tw-justify-between tw-space-x-4 tw-px-5 tw-py-3"},M={key:1},P={key:3,class:"small"},z=V({__name:"GeneratedUiViewContainerField",props:$,setup(C){const s=C,l=F();T(async()=>{s.fieldInfo.typeKind===f.Abstract&&s.value?l.value=s.value.$type?await m(s.value.$type):void 0:l.value=s.fieldSchema}),B(()=>s.value?.$type,async e=>{s.fieldInfo.typeKind===f.Abstract&&(l.value=e?await m(e):void 0)});const v=c(()=>{if(l.value&&l.value.typeName!==s.fieldInfo.fieldType)return l.value.typeName.split(".").at(-1)}),i=c(()=>l.value?.fields?.filter(e=>!e.notEditable&&K(e,s.logicVersion)));return(e,n)=>{const I=G("b-skeleton");return l.value?e.value?l.value.typeKind==="Class"&&l.value.fields?(a(),o("div",A,[i.value&&(i.value.length>1||v.value)?(a(),y(r(E),{key:0,class:"tw-mb-3",showBorder:""},{default:w(()=>[v.value?(a(),o("div",L,[n[1]||(n[1]=u("div",null,"Type",-1)),u("div",null,k(v.value),1)])):g("",!0),(a(!0),o(_,null,N(i.value,t=>(a(),o("div",{class:"tw-px-5 tw-py-3",key:t.fieldName},[p(h,b(e.$props,{fieldInfo:t,value:r(d)(t.fieldName)in e.value?e.value[r(d)(t.fieldName)]:void 0,"logic-version":e.logicVersion}),null,16,["fieldInfo","value","logic-version"])]))),128))],void 0,!0),_:1})):i.value&&i.value.length===1?(a(),o("div",M,[(a(!0),o(_,null,N(i.value,t=>(a(),o("span",{key:t.fieldName},[p(h,b(e.$props,{fieldInfo:t,value:r(d)(t.fieldName)in e.value?e.value[r(d)(t.fieldName)]:void 0,"logic-version":e.logicVersion}),null,16,["fieldInfo","value","logic-version"])]))),128))])):g("",!0)])):(a(),o("div",P,[n[2]||(n[2]=u("div",{class:"text-danger"},"Failed to find out how to visualize the fields for this object:",-1)),u("pre",null,k(e.value),1)])):(a(),o("div",U,[p(r(j),null,{default:w(()=>n[0]||(n[0]=[S("null",-1)]),void 0,!0),_:1,__:[0]})])):(a(),y(I,{key:0}))}}});export{z as default};
