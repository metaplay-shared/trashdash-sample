import{a_ as D,b2 as H,b3 as B,b4 as O,aH as z,b5 as L,b6 as K,an as c,a$ as M,b0 as R,ao as q,b1 as G,aN as X,d as j,c as k,aj as A,ak as Q,K as U,a as p,o as C,Q as m,m as V,q as f,j as Z,t as P,n as $,a7 as J,be as W,bf as Y,w as _,k as ee,al as te}from"./index-B-VT6L6o.js";import{_ as ae}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";var re=q("checkbox").parts("root","label","control","indicator"),E=re.build(),x=e=>e.ids?.root??`checkbox:${e.id}`,S=e=>e.ids?.label??`checkbox:${e.id}:label`,se=e=>e.ids?.control??`checkbox:${e.id}:control`,I=e=>e.ids?.hiddenInput??`checkbox:${e.id}:input`,de=e=>e.getById(x(e)),g=e=>e.getById(I(e));function ne(e,r){const{send:a,context:s,prop:n,computed:b,scope:i}=e,o=n("disabled"),h=n("readOnly"),d=n("invalid"),t=!o&&s.get("focused"),w=!o&&s.get("focusVisible"),u=b("checked"),T=b("indeterminate"),v={"data-active":c(s.get("active")),"data-focus":c(t),"data-focus-visible":c(w),"data-readonly":c(h),"data-hover":c(s.get("hovered")),"data-disabled":c(o),"data-state":T?"indeterminate":u?"checked":"unchecked","data-invalid":c(d)};return{checked:u,disabled:o,indeterminate:T,focused:t,checkedState:u,setChecked(l){a({type:"CHECKED.SET",checked:l,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return r.label({...E.root.attrs,...v,dir:n("dir"),id:x(i),htmlFor:I(i),onPointerMove(){o||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){o||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(l){G(l)===g(i)&&l.stopPropagation()}})},getLabelProps(){return r.element({...E.label.attrs,...v,dir:n("dir"),id:S(i)})},getControlProps(){return r.element({...E.control.attrs,...v,dir:n("dir"),id:se(i),"aria-hidden":!0})},getIndicatorProps(){return r.element({...E.indicator.attrs,...v,dir:n("dir"),hidden:!T&&!u})},getHiddenInputProps(){return r.input({id:I(i),type:"checkbox",required:n("required"),defaultChecked:u,disabled:o,"aria-labelledby":S(i),"aria-invalid":d,name:n("name"),form:n("form"),value:n("value"),style:M,onFocus(){const l=R();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:l}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(l){if(h){l.preventDefault();return}const N=l.currentTarget.checked;a({type:"CHECKED.SET",checked:N,isTrusted:!0})}})}}}var{not:F}=H(),ie=D({props({props:e}){return{value:"on",...e,defaultChecked:!!e.defaultChecked}},initialState(){return"ready"},context({prop:e,bindable:r}){return{checked:r(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(a){e("onCheckedChange")?.({checked:a})}})),fieldsetDisabled:r(()=>({defaultValue:!1})),focusVisible:r(()=>({defaultValue:!1})),active:r(()=>({defaultValue:!1})),focused:r(()=>({defaultValue:!1})),hovered:r(()=>({defaultValue:!1}))}},watch({track:e,context:r,prop:a,action:s}){e([()=>a("disabled")],()=>{s(["removeFocusIfNeeded"])}),e([()=>r.get("checked")],()=>{s(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:F("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:F("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>y(e.get("checked")),checked:({context:e})=>oe(e.get("checked")),disabled:({context:e,prop:r})=>!!r("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:r,scope:a}){if(!r("disabled"))return K({pointerNode:de(a),keyboardNode:g(a),isValidKey:s=>s.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:r}){if(!e("disabled"))return L({root:r.getRootNode?.()})},trackFormControlState({context:e,scope:r}){return z(g(r),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:r}){for(const a in r.context)e.set(a,r.context[a])},syncInputElement({context:e,computed:r,scope:a}){const s=g(a);s&&(O(s,r("checked")),s.indeterminate=y(e.get("checked")))},removeFocusIfNeeded({context:e,prop:r}){r("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:r}){e.set("checked",r.checked)},toggleChecked({context:e,computed:r}){const a=y(r("checked"))?!0:!r("checked");e.set("checked",a)},dispatchChangeEvent({computed:e,scope:r}){queueMicrotask(()=>{const a=g(r);B(a,{checked:e("checked")})})}}}});function y(e){return e==="indeterminate"}function oe(e){return y(e)?!1:!!e}X()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const le=["disabled","aria-checked","data-testid"],be=j({__name:"MInputCheckbox",props:{modelValue:{type:Boolean},label:{default:void 0},inlineLabel:{type:Boolean},disabled:{type:Boolean,default:!1},variant:{default:"default"},hintMessage:{default:void 0},description:{default:void 0},size:{default:"default"},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:r}){const a=e,s=r,n=k(()=>{const t=a.size==="default"?"tw-size-4":"tw-size-3.5";if(a.disabled)if(d.value.checked)switch(a.variant){case"danger":return`${t} tw-border-red-200 tw-border-2 tw-bg-red-300`;case"success":return`${t} tw-border-green-200 tw-border-2 tw-bg-green-300`;default:return`${t} tw-border-neutral-200 tw-border-2 tw-bg-neutral-300`}else switch(a.variant){case"danger":return`${t} tw-border-red-200 tw-border-2 tw-bg-neutral-50`;case"success":return`${t} tw-border-green-200 tw-border-2 tw-bg-neutral-50`;default:return`${t} tw-border-neutral-200 tw-border-2 tw-bg-neutral-50`}if(d.value.checked)switch(a.variant){case"danger":return`${t} tw-border-red-400 tw-bg-red-500 hover:tw-bg-red-600 active:tw-bg-red-700 focus:tw-ring-red-600`;case"success":return`${t} tw-border-green-500 tw-bg-green-500 hover:tw-bg-green-600 active:tw-bg-green-700 focus:tw-ring-green-600`;default:return`${t} tw-border-blue-300 tw-bg-blue-500 hover:tw-bg-blue-600 active:tw-bg-blue-700 focus:tw-ring-blue-600`}else switch(a.variant){case"danger":return`${t} tw-border-red-400 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-red-600`;case"success":return`${t} tw-border-green-500 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-green-600`;default:return`${t} tw-border-neutral-300 tw-bg-neutral-50 hover:tw-bg-neutral-200 active:tw-bg-neutral-300 focus:tw-ring-blue-600`}}),b=k(()=>{const t=a.size==="small"?"tw-text-sm":"tw-text-base";return a.disabled?a.variant==="danger"?`${t} tw-text-red-300`:`${t} tw-text-neutral-400`:a.variant==="danger"?`${t} tw-text-red-400`:`${t} tw-text-inherit`}),i=A("checkbox"),o=k(()=>({id:i,onCheckedChange:t=>{a.disabled?d.value.checked=!t.checked:s("update:modelValue",t.checked==="indeterminate"?!1:t.checked)},disabled:a.disabled,defaultChecked:a.modelValue})),h=Q(ie,o),d=k(()=>ne(h,te));return U(()=>a.modelValue,t=>{d.value.checked=t}),(t,w)=>(C(),p("div",{class:m({"tw-flex tw-items-center tw-justify-between":t.inlineLabel,"tw-space-y-0.5":!t.inlineLabel&&t.size==="default"})},[t.label?(C(),p("div",{key:0,class:m(["tw-grow tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":t.disabled}])},P(t.label),3)):V("",!0),f("label",$(d.value.getRootProps(),{class:"tw-inline-flex tw-shrink-0 tw-items-center tw-space-x-2"},{class:{"tw-cursor-not-allowed":t.disabled,"tw-cursor-pointer":!t.disabled},disabled:t.disabled,"aria-checked":d.value.checked,"data-testid":t.dataTestid}),[f("div",$(d.value.getControlProps(),{class:"tw-flex tw-shrink-0 tw-items-center tw-justify-center tw-rounded tw-border tw-text-white tw-shadow-inner focus:tw-ring-inset"},{class:[n.value,{"tw-ring-2":d.value.focused}]}),[d.value.checked?(C(),p("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:m(t.size==="default"?"tw-size-4":"tw-size-3.5")},w[0]||(w[0]=[f("path",{"fill-rule":"evenodd",d:"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.353 2.353 4.493-6.74a.75.75 0 0 1 1.04-.207Z","clip-rule":"evenodd"},null,-1)]),2)):V("",!0)],16),t.description?(C(),p("span",$({key:0},d.value.getLabelProps(),{class:b.value}),P(t.description),17)):V("",!0),f("span",{class:m(b.value)},[J(t.$slots,"default")],2),f("input",W(Y(d.value.getHiddenInputProps())),null,16)],16,le),Z(ae,{variant:t.variant,tabindex:"-1"},{default:_(()=>[ee(P(t.hintMessage),1)],void 0,!0),_:1},8,["variant"])],2))}});export{be as _};
