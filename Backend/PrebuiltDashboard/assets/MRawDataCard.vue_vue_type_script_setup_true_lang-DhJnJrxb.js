import{d as S,a,o as t,t as y,f as $,c as C,h as I,i as E,r as R,q as d,m as w,Q as j,j as A,e as h,_ as k,w as b,k as m,aU as L,bj as V,aV as F,F as O,b as z,K as N,ag as T,bk as D}from"./index-B-VT6L6o.js";function U(o){const s=Object.keys(o);return s.length>5?`{ ${s.slice(0,5).join(", ")}, ... } (${s.length})`:s.length>0?`{ ${s.join(", ")} } (${s.length})`:"Empty object (0)"}function M(o){return o===null?"null":o===void 0?"undefined":o===""?"''":typeof o=="string"?`'${o}'`:typeof o=="object"?Array.isArray(o)?`[${o.length}]`:`{${Object.keys(o).length}}`:String(o)}function _(o){return o.length>5?`[ ${o.slice(0,5).map(M).join(", ")}, ... ] (${o.length})`:o.length>0?`[ ${o.map(M).join(", ")} ] (${o.length})`:"Empty array (0)"}function K(o,s=1e4){const u=new WeakSet;function i(p){if(p===null)return 0;if(typeof p!="object")return 8;if(u.has(p))return 0;u.add(p);let n=0;for(const[l,v]of Object.entries(p))if(n+=l.length*2,n+=i(v),n>s)return n;return n}return i(o)}const q={key:0},H={key:1},W={key:2},J={key:3},Q={key:0},X={key:1},Z={key:2},G={key:4},Y={key:5},x={key:6},ee=S({__name:"MRawDataValuePreview",props:{value:{},maxLength:{default:40}},setup(o){return(s,u)=>s.value===null?(t(),a("span",q,"null")):Array.isArray(s.value)?(t(),a("span",H,y($(_)(s.value)),1)):typeof s.value=="object"?(t(),a("span",W,y($(U)(s.value)),1)):typeof s.value=="string"?(t(),a("span",J,[s.value?s.value.length>s.maxLength?(t(),a("span",X,y(s.value.slice(0,s.maxLength))+"...",1)):(t(),a("span",Z,y(s.value),1)):(t(),a("span",Q,"''"))])):typeof s.value=="boolean"?(t(),a("span",G,y(s.value),1)):typeof s.value=="number"?(t(),a("span",Y,y(s.value),1)):(t(),a("span",x,y(typeof s.value),1))}}),te=["tabindex"],se={key:1,class:"tw-shrink-0"},ne={class:"tw-select-all"},ae={key:2,class:"tw-ml-1 tw-grow tw-text-xs tw-text-neutral-500"},le={key:3,class:"tw-grow"},oe={class:"tw-select-all"},re={key:4,class:"tw-select-all"},ue={key:0,class:"tw-ml-4"},ie={key:0},pe={key:1,class:"tw-text-red-500"},B=S({__name:"MRawDataProperty",props:{name:{},path:{},depth:{},value:{},openPaths:{}},emits:["toggle"],setup(o,{emit:s}){const u=C(()=>i.openPaths.includes(i.path)),i=o,p=s,n=I(0);E(()=>{const e=document.querySelectorAll('[data-type="MTabLayout"]');n.value=Array.from(e).length*47});const l=C(()=>Array.isArray(i.value)&&i.value.length>0||typeof i.value=="object"&&i.value!==null&&Object.keys(i.value).length>0),v=e=>/\s/g.test(e);return(e,r)=>{const P=R("MRawDataProperty",!0);return t(),a("div",null,[d("div",{class:j(["tw-sticky tw-flex tw-items-start tw-gap-1 tw-bg-neutral-100",{"tw-cursor-pointer hover:tw-bg-neutral-200 tw-rounded-sm":l.value}]),style:V({top:`${e.depth*16+n.value}px`,zIndex:500-e.depth}),tabindex:l.value?0:-1,onClick:r[0]||(r[0]=g=>l.value?p("toggle",e.path):null),onKeydown:[r[1]||(r[1]=L(g=>l.value?p("toggle",e.path):null,["enter"])),r[2]||(r[2]=L(F(g=>l.value?p("toggle",e.path):null,["prevent"]),["space"]))]},[l.value?(t(),a("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",class:j(["tw-size-3 tw-shrink-0 tw-fill-neutral-900 tw-transition-transform tw-relative tw-top-0.5",{"tw-rotate-90":u.value}])},r[5]||(r[5]=[d("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"},null,-1)]),2)):w("",!0),e.name?(t(),a("span",se,[d("span",ne,y(e.name),1),r[6]||(r[6]=d("span",null,":",-1))])):w("",!0),l.value&&!u.value?(t(),a("span",ae,[A(ee,{value:e.value},null,8,["value"])])):l.value?w("",!0):(t(),a("span",le,[e.value===null?(t(),h(k,{key:0},{default:b(()=>r[7]||(r[7]=[m("null",-1)]),void 0,!0),_:1,__:[7]})):e.value===void 0?(t(),h(k,{key:1},{default:b(()=>r[8]||(r[8]=[m("undefined",-1)]),void 0,!0),_:1,__:[8]})):typeof e.value=="boolean"?(t(),h(k,{key:2},{default:b(()=>[m(y(e.value),1)],void 0,!0),_:1})):typeof e.value=="string"?(t(),a("p",{key:3,class:j(v(e.value)?"tw-break-normal":"tw-break-all")},[r[9]||(r[9]=d("span",null,"'",-1)),d("span",oe,y(e.value),1),r[10]||(r[10]=d("span",null,"'",-1))],2)):(t(),a("p",re,y(e.value),1))]))],46,te),l.value&&u.value?(t(),a("div",ue,[typeof e.value=="object"?(t(),a("div",ie,[Array.isArray(e.value)?(t(!0),a(O,{key:1},z(e.value,(g,f)=>(t(),h(P,{key:f,depth:e.depth+1,path:`${e.path}.${f}`,name:String(f),value:g,"open-paths":e.openPaths,onToggle:r[4]||(r[4]=c=>p("toggle",c))},null,8,["depth","path","name","value","open-paths"]))),128)):(t(!0),a(O,{key:0},z(e.value,(g,f)=>(t(),h(P,{key:f,depth:e.depth+1,path:`${e.path}.${f}`,name:f,value:g,"open-paths":e.openPaths,onToggle:r[3]||(r[3]=c=>p("toggle",c))},null,8,["depth","path","name","value","open-paths"]))),128))])):(t(),a("div",pe,"Unhandled type"))])):w("",!0)])}}}),de={key:0,class:"tw-relative tw-z-0 tw-mt-5 tw-rounded tw-border tw-border-neutral-300 tw-bg-neutral-100 tw-p-3 tw-shadow"},ye={class:"tw-flex tw-justify-between"},ve={class:"tw-flex tw-items-center tw-gap-2"},we={key:0},fe={key:1,class:"tw-text-xs tw-text-neutral-500"},he={key:0},me={key:0,class:"tw-text-xs"},ge={key:1,class:"tw-text-neutral-500"},be=S({__name:"MRawDataCard",props:{data:{},label:{},showAlways:{type:Boolean},hideClipboardCopy:{type:Boolean}},setup(o){const s=o,u=I([]),{isDeveloperUiEnabled:i}=T();function p(n){const l=u.value.indexOf(n);l>=0?u.value.splice(l,1):u.value.push(n)}return N(()=>s.data,(n,l)=>{if(!n||l||!Array.isArray(n)&&typeof n!="object")return;const v=800;for(const e of Object.keys(n))n[e]&&K(n[e],v)<v&&u.value.push(e)},{immediate:!0,deep:!1}),(n,l)=>$(i)||n.showAlways?(t(),a("div",de,[d("div",ye,[d("div",ve,[l[5]||(l[5]=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",class:"tw-size-4 tw-fill-neutral-900"},[d("path",{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"})],-1)),d("span",null,[l[2]||(l[2]=d("span",{class:"tw-font-bold"},"Raw data",-1)),l[3]||(l[3]=m()),n.label?(t(),a("span",we,[l[1]||(l[1]=m("for ",-1)),A(k,null,{default:b(()=>[m(y(n.label),1)],void 0,!0),_:1})])):w("",!0),l[4]||(l[4]=m()),$(i)&&!n.showAlways?(t(),a("span",fe,"(enabled with developer UI)")):w("",!0)])]),n.data!=null&&Object.keys(n.data).length>0&&!s.hideClipboardCopy?(t(),h(D,{key:0,contents:JSON.stringify(n.data,null,2),fullSize:!1},null,8,["contents"])):w("",!0)]),typeof n.data=="object"&&n.data!=null?(t(),a("div",he,[Object.keys(n.data).length>0?(t(),a("ul",me,[(t(!0),a(O,null,z(n.data,(v,e)=>(t(),a("li",{class:"tw-px-0 tw-py-1 tw-font-mono",key:e},[A(B,{depth:0,name:String(e),path:String(e),value:v,"open-paths":u.value,onToggle:l[0]||(l[0]=r=>p(r))},null,8,["name","path","value","open-paths"])]))),128))])):(t(),a("p",ge,"0 items."))])):(t(),h(B,{key:1,class:"tw-px-0 tw-py-1 tw-font-mono tw-text-xs",depth:0,path:"",value:n.data,"open-paths":[]},null,8,["value"]))])):w("",!0)}});export{be as _};
