import{cD as o,bs as u}from"./index-jY1EWd09.js";const m=u();function x(i,l){return{setup:(e,a,r)=>{const c=o.CancelToken.source(),s=e.url??i,t=e.method??l;console.assert(s!==void 0,"URL must be defined"),console.assert(t!==void 0,"Method must be defined");const d=s+(e.queryString?`?${e.queryString}`:"");return m.request({url:d,method:t,cancelToken:c.token,data:e.data}).then(n=>{a(n)}).catch(n=>{if(!o.isCancel(r))if(o.isAxiosError(n))r(n);else throw new Error("Unexpected non-axios error in AxiosActionHandler")}),c},cancel:e=>{e.cancel("Request canceled by user.")}}}export{x as m};
