import{d as te,E as H,c as p,e as h,o as a,f as e,w as t,j as i,a as r,k as s,B as M,A as I,t as c,ah as z,Q as ve,q as n,_ as k,e3 as le,y as q,D as L,U as P,z as w,r as C,v as ce,x as T,ad as V,b as me,F as _e,ae as pe,m as D,s as ge,bz as he,c5 as X,H as we,ec as ye,a6 as be,bx as xe,bj as Y,bg as Se}from"./index-B-VT6L6o.js";import{_ as ke}from"./MetaAudienceSizeEstimate.vue_vue_type_script_setup_true_lang-kl1v2Ekb.js";import{_ as Z}from"./MetaActivablePhaseBadge.vue_vue_type_script_setup_true_lang-CRWiJBnG.js";import{_ as Oe}from"./PlayerConditionsCard.vue_vue_type_script_setup_true_lang-C_Sb973y.js";import{_ as $e}from"./SegmentsCard.vue_vue_type_script_setup_true_lang-CJHFuyvr.js";import{c as ne,a as Te}from"./offers-Dp3_UdYq.js";import{_ as re}from"./MTwoColumnLayout.vue_vue_type_script_setup_true_lang-D6aFP-Lf.js";import{a as se}from"./numberUtils-CkF0oMe2.js";import{M as F,a as N}from"./metaListUtils-B-xQ0HnD.js";import{_ as Me}from"./MTabLayout.vue_vue_type_script_setup_true_lang-FP3nWndb.js";import{M as Ce}from"./MSingleColumnLayout-Bc4oHrRo.js";import{_ as ae}from"./MRawDataCard.vue_vue_type_script_setup_true_lang-DhJnJrxb.js";import{_ as Ie,a as Ae}from"./MViewContainer.vue_vue_type_script_setup_true_lang-sbviMV0h.js";import{_ as ee}from"./MAbbreviateNumber.vue_vue_type_script_setup_true_lang-B4a9hmVO.js";import{B as Fe,a as j}from"./progress-Bi_Kliux.js";import"./players-CbfgGr44.js";import"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-Dv81Anyh.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";const Pe={key:0,class:"tw-my-4"},De={key:0,class:"tw-text-center tw-text-neutral-400"},Ge={key:1,class:"tw-text-center tw-text-neutral-400"},Ne={key:2,class:"tw-text-center"},Be={key:3,class:"tw-text-neutral-400"},Le={key:1,class:"tw-text-center tw-text-neutral-400"},Ue={key:0,class:"tw-my-4"},Ee={key:0,class:"tw-text-center tw-text-neutral-400"},Re={key:2},ze={class:"tw-text-neutral-400"},Ve={style:{"font-size":"0.7rem"}},je={key:1,class:"tw-text-center tw-text-neutral-400"},qe={key:0},He={key:0,class:"tw-w-full"},Qe={class:"tw-divide-y tw-divide-neutral-200 *:*:tw-py-1.5"},Je={key:0,class:"text-right"},Ke={key:1,class:"text-right"},We={key:0,class:"text-right"},Xe={key:1,class:"text-right"},Ye={class:"text-right"},Ze={class:"text-right"},et={class:"text-right"},tt={class:"text-right"},it={key:0,class:"text-right tw-italic tw-text-neutral-400"},ot={key:1,class:"text-right"},st={class:"text-right"},at={key:0},lt={key:1},nt={class:"tw-text-neutral-400"},rt={style:{"font-size":"0.7rem"}},ut={key:1,class:"tw-text-center tw-text-neutral-400"},dt={class:"tw-w-full"},ft={class:"tw-divide-y tw-divide-neutral-200 *:*:tw-py-1.5"},vt={key:0,class:"text-right tw-italic tw-text-neutral-400"},ct={key:1,class:"text-right"},mt={key:0,class:"text-right tw-italic tw-text-neutral-400"},_t={key:1,class:"text-right"},pt={key:0,class:"text-right tw-italic tw-text-neutral-400"},gt={key:1,class:"text-right"},ht=te({__name:"OfferGroupScheduleCard",props:{offerGroupId:{}},setup(B){const A=B,{data:x}=H(()=>ne(A.offerGroupId)),l=p(()=>x.value.config.activableParams),d=p(()=>l.value.lifetime.$type.match(/Metaplay\.Core.Activables\.MetaActivableLifetimeSpec\+(.*)/)[1]),G=p(()=>l.value.schedule.$type.match(/Metaplay\.Core\.Schedule\.(.*)/)[1]),O=p(()=>l.value.cooldown.$type.match(/Metaplay\.Core\.Activables\.MetaActivableCooldownSpec\+(.*)/)[1]);return(v,f)=>(a(),h(e(re),null,{default:t(()=>[i(e(z),{title:"Lifetime",variant:!l.value.lifetime||d.value==="ScheduleBased"?"neutral":void 0,badge:!l.value.lifetime||d.value==="ScheduleBased"?"Off":"On","badge-variant":!l.value.lifetime||d.value==="ScheduleBased"?void 0:"success","data-testid":"offer-group-detail-lifetime-card"},{default:t(()=>[l.value.lifetime?(a(),r("div",Pe,[d.value==="ScheduleBased"?(a(),r("div",De,"This activable's lifetime follows the schedule.")):d.value==="Forever"?(a(),r("div",Ge,"This activable exists forever.")):d.value==="Fixed"?(a(),r("div",Ne,[f[0]||(f[0]=s("This activable's lifetime is ",-1)),i(e(M),{duration:e(I)(l.value.lifetime.duration)},null,8,["duration"]),f[1]||(f[1]=s(".",-1))])):(a(),r("div",Be,"Unknown lifetime type: "+c(d.value)+".",1))])):(a(),r("div",Le,"No lifetime defined."))],void 0,!0),_:1},8,["variant","badge","badge-variant"]),i(e(z),{title:"Cooldown",variant:!l.value.cooldown||O.value==="ScheduleBased"||e(I)(l.value.cooldown.duration).toMillis()===0?"neutral":void 0,badge:!l.value.cooldown||O.value==="ScheduleBased"||e(I)(l.value.cooldown.duration).toMillis()===0?"Off":"On","badge-variant":!l.value.cooldown||O.value==="ScheduleBased"||e(I)(l.value.cooldown.duration).toMillis()===0?void 0:"success","data-testid":"offer-group-detail-cooldown-card"},{default:t(()=>[l.value.cooldown?(a(),r("div",Ue,[O.value==="ScheduleBased"?(a(),r("div",Ee,"This activable's cooldown period follows the schedule.")):O.value==="Fixed"?(a(),r("div",{key:1,class:ve(["tw-text-center",{"tw-text-neutral-400":e(I)(l.value.cooldown.duration).as("seconds")===0}])},[f[2]||(f[2]=s("This activable's cooldown period is ",-1)),i(e(M),{duration:e(I)(l.value.cooldown.duration)},null,8,["duration"]),f[3]||(f[3]=s(".",-1))],2)):(a(),r("div",Re,[n("div",ze,"Unknown cooldown type: "+c(O.value)+".",1),n("pre",Ve,c(l.value.cooldown),1)]))])):(a(),r("div",je,"No cooldown defined."))],void 0,!0),_:1},8,["variant","badge","badge-variant"]),i(e(z),{title:"Schedule",variant:l.value.schedule?void 0:"neutral",badge:l.value.schedule?"On":"Off","badge-variant":l.value.schedule?"success":void 0,"data-testid":"offer-group-detail-schedule-card"},{default:t(()=>[l.value.schedule?(a(),r("div",qe,[G.value==="MetaRecurringCalendarSchedule"?(a(),r("table",He,[n("tbody",Qe,[n("tr",null,[f[4]||(f[4]=n("td",null,"Time mode",-1)),l.value.schedule.timeMode!=="Utc"?(a(),r("td",Je,[i(e(k),null,{default:t(()=>[s(c(l.value.schedule.timeMode),1)],void 0,!0),_:1})])):(a(),r("td",Ke,[i(e(k),null,{default:t(()=>[s(c(e(le)(l.value.schedule.timeMode)),1)],void 0,!0),_:1})]))]),n("tr",null,[f[5]||(f[5]=n("td",null,"Start",-1)),l.value.schedule.timeMode==="Utc"?(a(),r("td",We,[i(e(q),{instant:e(L).fromISO(l.value.schedule.start,{zone:"utc"}),"show-as":"dateTime"},null,8,["instant"])])):(a(),r("td",Xe,[i(e(P),{content:"The local start time of this schedule is local to the player's game time offset."},{default:t(()=>[s(c(e(L).fromISO(l.value.schedule.start).toFormat("ccc, DD, T"))+" local",1)],void 0,!0),_:1})]))]),n("tr",null,[f[6]||(f[6]=n("td",null,"Preview",-1)),n("td",Ye,[i(e(M),{duration:e(w).fromISO(l.value.schedule.preview),"show-as":"exactDuration"},null,8,["duration"])])]),n("tr",null,[f[7]||(f[7]=n("td",null,"Duration",-1)),n("td",Ze,[i(e(M),{duration:e(w).fromISO(l.value.schedule.duration),"show-as":"exactDuration"},null,8,["duration"])])]),n("tr",null,[f[8]||(f[8]=n("td",null,"Ending Soon",-1)),n("td",et,[i(e(M),{duration:e(w).fromISO(l.value.schedule.endingSoon),"show-as":"exactDuration"},null,8,["duration"])])]),n("tr",null,[f[9]||(f[9]=n("td",null,"Review",-1)),n("td",tt,[i(e(M),{duration:e(w).fromISO(l.value.schedule.review),"show-as":"exactDuration"},null,8,["duration"])])]),n("tr",null,[f[10]||(f[10]=n("td",null,"Repeats",-1)),l.value.schedule.numRepeats===null?(a(),r("td",it,"Unlimited")):(a(),r("td",ot,c(l.value.maxTotalConsumes),1))]),n("tr",null,[f[11]||(f[11]=n("td",null,"Recurrence",-1)),n("td",st,[l.value.schedule.recurrence===null?(a(),r("div",at,"Never")):(a(),h(e(M),{key:1,duration:e(w).fromISO(l.value.schedule.recurrence),"show-as":"exactDuration"},null,8,["duration"]))])])])])):(a(),r("div",lt,[n("div",nt,"Unknown schedule type: "+c(G.value)+".",1),n("pre",rt,c(l.value.schedule),1)]))])):(a(),r("div",ut,"No schedule defined."))],void 0,!0),_:1},8,["variant","badge","badge-variant"]),i(e(z),{title:"Activations","data-testid":"offer-group-detail-activations-card"},{default:t(()=>[n("table",dt,[n("tbody",ft,[n("tr",null,[f[12]||(f[12]=n("td",null,"Max Activations",-1)),l.value.maxActivations===null?(a(),r("td",vt,"Unlimited")):(a(),r("td",ct,c(l.value.maxActivations),1))]),n("tr",null,[f[13]||(f[13]=n("td",null,"Max Total Consumes",-1)),l.value.maxTotalConsumes===null?(a(),r("td",mt,"Unlimited")):(a(),r("td",_t,c(l.value.maxTotalConsumes),1))]),n("tr",null,[f[14]||(f[14]=n("td",null,"Max Consumed Per Activation",-1)),l.value.maxConsumesPerActivation===null?(a(),r("td",pt,"Unlimited")):(a(),r("td",gt,c(l.value.maxConsumesPerActivation),1))])])])],void 0,!0),_:1})],void 0,!0),_:1}))}}),wt={key:0,class:"tw-mt-0.5 tw-text-sm tw-text-neutral-500"},yt={key:0},bt={key:1,class:"tw-italic tw-text-neutral-400"},xt={key:0},St={key:1,class:"tw-italic tw-text-neutral-400"},kt=te({__name:"OfferGroupsOffersCard",props:{title:{default:"Offers"},offerGroupId:{},emptyMessage:{}},setup(B){const A=B,{data:x}=H(Te());function l(g){if(!A.offerGroupId)return;const u=g.config.offerId;return x.value.offerGroups[A.offerGroupId].perOfferStatistics[u]}const d=p(()=>{if(x.value){const g=x.value.offerGroups[A.offerGroupId].config.offers;return Object.values(x.value.offers??{}).filter(u=>g===null||g.includes(u.config.offerId)).map(u=>{const $=l(u),S=$.numPurchasedForFirstTime,m=$.numActivatedForFirstTime;return{...u,conversion:O(S,m),conversionTooltip:v(S,m)}})}else return});function G(g){return Object.values(x.value.offerGroups).some(u=>u.config.offers.includes(g.config.offerId))}function O(g,u){return u===0?0:g/u*100}function v(g,u){return u===0?"Not activated in this offer group by any players yet.":`In this offer group, activated by ${se(u)} players and purchased by ${se(g)}.`}const f=p(()=>[F.asUnsorted(),new F("Name","config.displayName",N.Ascending),new F("Name","config.displayName",N.Descending),new F("Conversion","conversion",N.Ascending),new F("Conversion","conversion",N.Descending),new F("Revenue","statistics.revenue",N.Ascending),new F("Revenue","statistics.revenue",N.Descending)]),U=["config.displayName","config.description"];return(g,u)=>{const $=C("meta-reward-badge"),S=C("meta-list-card");return a(),h(S,{title:g.title,icon:"tag",emptyMessage:g.emptyMessage,itemList:d.value,searchFields:U,sortOptions:f.value},{"item-card":t(m=>[i(e(ge),{extraMListItemMargin:""},{header:t(()=>[i(e(T),{noLeftPadding:""},{badge:t(()=>[m.item.referencePrice!==null?(a(),r("span",wt,c(m.item.referencePrice),1)):D("",!0),G(m.item)?D("",!0):(a(),h(e(k),{key:1,variant:"warning"},{default:t(()=>u[0]||(u[0]=[s("Unused",-1)]),void 0,!0),_:1,__:[0]}))]),"top-right":t(()=>[i(e(P),{content:m.item.conversionTooltip},{default:t(()=>[s(c(m.item.conversion.toFixed(0))+"% conversion",1)],void 0,!0),_:2},1032,["content"])]),"bottom-left":t(()=>[s(c(m.item.config.description),1)]),"bottom-right":t(()=>[i(e(pe),{to:`/offerGroups/offer/${m.item.config.offerId}`,"data-testid":"view-offer"},{default:t(()=>u[1]||(u[1]=[s("View offer",-1)]),void 0,!0),_:2,__:[1]},1032,["to"])]),default:t(()=>[s(c(m.item.config.displayName),1)],void 0,!0),_:2},1024)]),default:t(()=>[i(e(ce),{showBorder:"",striped:""},{default:t(()=>[i(e(T),{condensed:""},{"top-right":t(()=>[s(c(e(V)(l(m.item).numActivatedForFirstTime,"player",!0)),1)]),default:t(()=>[i(e(P),{content:"Value in the context of this offer group."},{default:t(()=>u[2]||(u[2]=[s("Local",-1)]),void 0,!0),_:1,__:[2]}),u[3]||(u[3]=s(" Seen by",-1))],void 0,!0),_:2,__:[3]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[s(c(e(V)(l(m.item).numPurchasedForFirstTime,"player",!0)),1)]),default:t(()=>[i(e(P),{content:"Value in the context of this offer group."},{default:t(()=>u[4]||(u[4]=[s("Local",-1)]),void 0,!0),_:1,__:[4]}),u[5]||(u[5]=s(" Purchased by",-1))],void 0,!0),_:2,__:[5]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[s(c(e(V)(l(m.item).numActivated,"time",!0)),1)]),default:t(()=>[i(e(P),{content:"Value in the context of this offer group."},{default:t(()=>u[6]||(u[6]=[s("Local",-1)]),void 0,!0),_:1,__:[6]}),u[7]||(u[7]=s(" Total Seen Count",-1))],void 0,!0),_:2,__:[7]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[s(c(e(V)(l(m.item).numPurchased,"time",!0)),1)]),default:t(()=>[i(e(P),{content:"Value in the context of this offer group."},{default:t(()=>u[8]||(u[8]=[s("Local",-1)]),void 0,!0),_:1,__:[8]}),u[9]||(u[9]=s(" Total Purchased Count",-1))],void 0,!0),_:2,__:[9]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[s("$"+c(l(m.item).revenue.toFixed(2)),1)]),default:t(()=>[i(e(P),{content:"Value in the context of this offer group."},{default:t(()=>u[10]||(u[10]=[s("Local",-1)]),void 0,!0),_:1,__:[10]}),u[11]||(u[11]=s(" Total Revenue",-1))],void 0,!0),_:2,__:[11]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[m.item.config.segments&&m.item.config.segments.length>0?(a(),r("div",yt,c(m.item.config.segments.length),1)):(a(),r("div",bt,"None"))]),default:t(()=>[u[12]||(u[12]=s("Segments",-1))],void 0,!0),_:2,__:[12]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[m.item.config.additionalConditions&&m.item.config.additionalConditions.length>0?(a(),r("div",xt,c(m.item.config.additionalConditions.length),1)):(a(),r("div",St,"None"))]),default:t(()=>[u[13]||(u[13]=s("Additional Conditions",-1))],void 0,!0),_:2,__:[13]},1024),i(e(T),{condensed:""},{"top-right":t(()=>[n("div",null,[(a(!0),r(_e,null,me(m.item.config.rewards,E=>(a(),h($,{key:E.type,reward:E},null,8,["reward"]))),128))])]),default:t(()=>[u[14]||(u[14]=s("Rewards",-1))],void 0,!0),_:2,__:[14]},1024)],void 0,!0),_:2},1024)],void 0,!0),_:2},1024)]),_:1},8,["title","emptyMessage","itemList","sortOptions"])}}}),Ot={key:1},$t={class:"font-weight-bold tw-mb-1"},Tt={key:0},Mt={key:1},Ct={class:"font-weight-bold tw-mb-1"},It={class:"font-weight-bold tw-mb-1"},At={key:0},Ft={key:1},Pt={key:2,class:"text-danger"},Dt={key:0},Gt={key:0,class:"text-muted tw-italic"},Nt={key:1,class:"text-danger"},Bt={key:0},Lt={key:1},Ut={key:2},Et={class:"tw-w-full"},Rt={key:0,class:"small"},zt={class:"tw-w-full"},Vt={key:0,class:"small"},jt=te({__name:"OfferGroupDetailView",props:{kindId:{}},setup(B){const A=B,x=he(),l=X(x.params.id),{data:d,error:G}=H(ne(l)),{data:O}=H(we()),v=p(()=>d.value.config.activableParams),f=p(()=>U.value?U.value.kinds[A.kindId].gameSpecificConfigDataMembers.map(o=>({key:o,value:d.value.config[o]})):void 0),U=p(()=>O.value?.activablesMetadata),g=p(()=>v.value.lifetime.$type.match(/Metaplay\.Core.Activables\.MetaActivableLifetimeSpec\+(.*)/)[1]),u=p(()=>v.value.cooldown.$type.match(/Metaplay\.Core\.Activables\.MetaActivableCooldownSpec\+(.*)/)[1]),$=p(()=>v.value.schedule?w.fromISO(v.value.schedule.preview).toMillis()+w.fromISO(v.value.schedule.duration).toMillis()+w.fromISO(v.value.schedule.review).toMillis():1),S=p(()=>{const y=d.value?.scheduleStatus;return y?y.currentPhase.phase:null}),m=p(()=>{const y=d.value?.scheduleStatus;return y?.nextPhase?y.nextPhase.phase:null}),E=p(()=>{const y=d.value.scheduleStatus;return y?.nextPhase?y.nextPhase.startTime:null}),R=p(()=>{const y=d.value.scheduleStatus;return y?y.relevantEnabledRange:null}),ue=p(()=>ye(d.value.statistics.numConsumedForFirstTime/d.value.statistics.numActivatedForFirstTime*100,2)),ie=p(()=>(d.value?.config.offers??[]).length>0),de=p(()=>v.value.segments!==null&&v.value.segments.length!==0),oe=p(()=>v.value.isEnabled);return(y,o)=>{const Q=C("fa-icon"),_=C("b-td"),b=C("b-tr"),J=C("b-tbody"),K=C("b-table-simple"),W=C("b-col"),fe=C("b-row");return a(),h(e(Ae),{permission:"api.activables.view","is-loading":!e(d),error:e(G),variant:ie.value?void 0:"warning","full-width":""},{overview:t(()=>[i(e(Ie),{title:e(d).config.displayName,subtitle:e(d).config.description,id:e(d).config.activableId,"data-testid":"offer-group-detail-overview-card"},{default:t(()=>[ie.value?(a(),r("div",Ot,[n("div",$t,[i(Q,{icon:"chart-bar"}),o[1]||(o[1]=s(" Overview",-1))]),i(K,{small:"",responsive:""},{default:t(()=>[i(J,null,{default:t(()=>[i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[2]||(o[2]=[s("Status",-1)]),void 0,!0),_:1,__:[2]}),i(_,{class:"text-right"},{default:t(()=>[oe.value?(a(),h(e(k),{key:0,variant:"success"},{default:t(()=>o[3]||(o[3]=[s("Enabled",-1)]),void 0,!0),_:1,__:[3]})):(a(),h(e(k),{key:1,variant:"danger"},{default:t(()=>o[4]||(o[4]=[s("Disabled",-1)]),void 0,!0),_:1,__:[4]}))],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[5]||(o[5]=[s("Placement",-1)]),void 0,!0),_:1,__:[5]}),i(_,{class:"text-right"},{default:t(()=>[s(c(e(d).config.placement),1)],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[6]||(o[6]=[s("Priority",-1)]),void 0,!0),_:1,__:[6]}),i(_,{class:"tw-text-right"},{default:t(()=>[e(d).config.priority>0?(a(),r("span",Tt,c(e(xe)(e(d).config.priority)),1)):(a(),r("span",Mt,c(e(d).config.priority),1))],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[7]||(o[7]=[s("Audience Size Estimate",-1)]),void 0,!0),_:1,__:[7]}),i(_,{class:"text-right"},{default:t(()=>[i(ke,{sizeEstimate:de.value?e(d).audienceSizeEstimate:void 0},null,8,["sizeEstimate"])],void 0,!0),_:1})],void 0,!0),_:1})],void 0,!0),_:1})],void 0,!0),_:1}),n("div",Ct,[i(Q,{icon:"chart-line"}),o[8]||(o[8]=s(" Statistics",-1))]),i(K,{small:"",responsive:""},{default:t(()=>[i(J,null,{default:t(()=>[i(b,null,{default:t(()=>[i(_,null,{default:t(()=>[o[10]||(o[10]=s("Activated By",-1)),i(e(k),{class:"tw-ml-1",tooltip:"Number of players who have seen this group.",shape:"pill"},{default:t(()=>o[9]||(o[9]=[s("?",-1)]),void 0,!0),_:1,__:[9]})],void 0,!0),_:1,__:[10]}),i(_,{class:"text-right"},{default:t(()=>[i(e(ee),{number:e(d).statistics.numActivatedForFirstTime,unit:"player"},null,8,["number"])],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>[o[12]||(o[12]=s("Consumed By",-1)),i(e(k),{class:"tw-ml-1",tooltip:"Number of players who have bought something from this group.",shape:"pill"},{default:t(()=>o[11]||(o[11]=[s("?",-1)]),void 0,!0),_:1,__:[11]})],void 0,!0),_:1,__:[12]}),i(_,{class:"text-right"},{default:t(()=>[i(e(ee),{number:e(d).statistics.numConsumedForFirstTime,unit:"player"},null,8,["number"])],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>[o[14]||(o[14]=s("Conversion",-1)),i(e(k),{class:"tw-ml-1",tooltip:"The percentage of players who have bought something from this group after seeing it.",shape:"pill"},{default:t(()=>o[13]||(o[13]=[s("?",-1)]),void 0,!0),_:1,__:[13]})],void 0,!0),_:1,__:[14]}),e(d).statistics.numActivatedForFirstTime>0?(a(),h(_,{key:0,class:"text-right"},{default:t(()=>[s(c(ue.value)+"%",1)],void 0,!0),_:1})):(a(),h(_,{key:1,class:"text-right text-muted tw-italic"},{default:t(()=>o[15]||(o[15]=[s("None",-1)]),void 0,!0),_:1,__:[15]}))],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>[o[17]||(o[17]=s("Total Consumes",-1)),i(e(k),{class:"tw-ml-1",tooltip:"Total number of purchases from this group.",shape:"pill"},{default:t(()=>o[16]||(o[16]=[s("?",-1)]),void 0,!0),_:1,__:[16]})],void 0,!0),_:1,__:[17]}),i(_,{class:"text-right"},{default:t(()=>[i(e(ee),{number:e(d).statistics.numConsumed,unit:"time"},null,8,["number"])],void 0,!0),_:1})],void 0,!0),_:1}),i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[18]||(o[18]=[s("Total Revenue",-1)]),void 0,!0),_:1,__:[18]}),i(_,{class:"text-right"},{default:t(()=>[s("$"+c(e(d).revenue.toFixed(2)),1)],void 0,!0),_:1})],void 0,!0),_:1})],void 0,!0),_:1})],void 0,!0),_:1}),n("div",It,[i(Q,{icon:"calendar-alt"}),o[19]||(o[19]=s(" Scheduling",-1))]),i(K,{small:"",responsive:""},{default:t(()=>[i(J,null,{default:t(()=>[i(b,null,{default:t(()=>[i(_,null,{default:t(()=>o[20]||(o[20]=[s("Activation Mode",-1)]),void 0,!0),_:1,__:[20]}),i(_,{class:"text-right"},{default:t(()=>[i(e(k),{variant:v.value.schedule?"neutral":"primary"},{default:t(()=>[s(c(v.value.schedule?"Scheduled":"Dynamic"),1)],void 0,!0),_:1},8,["variant"])],void 0,!0),_:1})],void 0,!0),_:1}),v.value.schedule?D("",!0):(a(),h(b,{key:0},{default:t(()=>[i(_,null,{default:t(()=>o[21]||(o[21]=[s("Lifetime After Activation",-1)]),void 0,!0),_:1,__:[21]}),i(_,{class:"text-right"},{default:t(()=>[g.value==="Forever"?(a(),r("span",At,"Forever")):g.value==="Fixed"?(a(),r("span",Ft,[i(e(M),{duration:e(I)(v.value.lifetime.duration),"show-as":"humanizedSentenceCase"},null,8,["duration"])])):(a(),r("span",Pt,"Unknown!"))],void 0,!0),_:1})],void 0,!0),_:1})),v.value.schedule?D("",!0):(a(),h(b,{key:1},{default:t(()=>[i(_,null,{default:t(()=>o[22]||(o[22]=[s("Cooldown After Deactivation",-1)]),void 0,!0),_:1,__:[22]}),i(_,{class:"text-right"},{default:t(()=>[u.value==="Fixed"?(a(),r("span",Dt,[e(I)(v.value.cooldown.duration).as("seconds")===0?(a(),r("span",Gt,"None")):(a(),h(e(M),{key:1,duration:e(I)(v.value.cooldown.duration),"show-as":"humanizedSentenceCase"},null,8,["duration"]))])):(a(),r("span",Nt,"Unknown!"))],void 0,!0),_:1})],void 0,!0),_:1})),v.value.schedule?(a(),h(b,{key:2},{default:t(()=>[i(_,{colspan:"2"},{default:t(()=>[i(fe,{class:"mx-0 tw-my-4"},{default:t(()=>[i(W,{class:"pl-0",md:""},{default:t(()=>[n("span",null,[o[23]||(o[23]=s("Time Mode:",-1)),i(e(k),{class:"tw-ml-1",tooltip:v.value.schedule.timeMode!=="Utc"?"Using UTC time to preview the schedule.":void 0},{default:t(()=>[s(c(e(le)(v.value.schedule.timeMode)),1)],void 0,!0),_:1},8,["tooltip"])])],void 0,!0),_:1}),i(W,{md:""},{default:t(()=>[n("span",null,[o[24]||(o[24]=s("Current Phase: ",-1)),i(Z,{activable:e(d)},null,8,["activable"])])],void 0,!0),_:1}),i(W,{md:"auto"},{default:t(()=>[oe.value?m.value?(a(),r("span",Lt,[o[26]||(o[26]=s("Next Phase: ",-1)),i(Z,{activable:e(d),phase:m.value},null,8,["activable","phase"]),n("div",null,[i(e(q),{instant:e(L).fromISO(E.value)},null,8,["instant"])])])):(a(),r("span",Ut,"No longer occurring")):(a(),r("span",Bt,[o[25]||(o[25]=s("Next Phase: ",-1)),i(Z,{activable:e(d),phase:"Disabled"},null,8,["activable"])]))],void 0,!0),_:1})],void 0,!0),_:1}),n("div",Et,[n("div",{class:"pb-3 pl-2 border-left border-dark",style:Y(`margin-left: ${e(w).fromISO(v.value.schedule.preview).toMillis()/$.value*100}%; position: relative; left: -1px`)},[o[27]||(o[27]=n("div",{class:"small font-weight-bold"},"Start",-1)),R.value?(a(),r("div",Rt,[i(e(q),{instant:e(L).fromISO(R.value.start)},null,8,["instant"])])):D("",!0)],4)]),i(e(Fe),{class:"font-weight-bold",max:$.value,height:"3rem",style:Y(S.value==="Inactive"?"filter: contrast(50%) brightness(130%)":"")},{default:t(()=>[i(e(j),{value:e(w).fromISO(v.value.schedule.preview).toMillis(),variant:"info",animated:S.value==="Preview"},{default:t(()=>o[28]||(o[28]=[s("Preview",-1)]),void 0,!0),_:1,__:[28]},8,["value","animated"]),i(e(j),{value:e(w).fromISO(v.value.schedule.duration).toMillis()-e(w).fromISO(v.value.schedule.endingSoon).toMillis(),variant:"success",animated:S.value==="Active"},{default:t(()=>o[29]||(o[29]=[s("Active",-1)]),void 0,!0),_:1,__:[29]},8,["value","animated"]),i(e(j),{value:e(w).fromISO(v.value.schedule.endingSoon).toMillis(),variant:"warning",animated:S.value==="EndingSoon"},{default:t(()=>o[30]||(o[30]=[s("Ending soon",-1)]),void 0,!0),_:1,__:[30]},8,["value","animated"]),i(e(j),{value:e(w).fromISO(v.value.schedule.review).toMillis(),variant:"info",animated:S.value==="Review"},{default:t(()=>o[31]||(o[31]=[s("Review",-1)]),void 0,!0),_:1,__:[31]},8,["value","animated"])],void 0,!0),_:1},8,["max","style"]),n("div",zt,[n("div",{class:"pt-3 pr-2 pb-1 border-right border-dark text-right",style:Y(`margin-right: ${e(w).fromISO(v.value.schedule.review).toMillis()/$.value*100}%; position: relative; right: -1px`)},[o[32]||(o[32]=n("div",{class:"small font-weight-bold"},"End",-1)),R.value?(a(),r("div",Vt,[i(e(q),{instant:e(L).fromISO(R.value.end)},null,8,["instant"])])):D("",!0)],4)])],void 0,!0),_:1})],void 0,!0),_:1})):D("",!0)],void 0,!0),_:1})],void 0,!0),_:1})])):(a(),h(e(be),{key:0,class:"tw-mt-3",title:"No Offers Found",variant:"warning"},{default:t(()=>o[0]||(o[0]=[n("div",null,"This offer group contains no offers and thus will not be visible in the game! Did you forget to configure the offers in the game configs?",-1)]),void 0,!0),_:1,__:[0]}))],void 0,!0),_:1},8,["title","subtitle","id"])]),default:t(()=>[i(e(Me),{tabs:[{label:"Offers"},{label:"Scheduling"},{label:"Targeting"}]},{"tab-0":t(()=>[i(kt,{"offer-group-id":e(X)(e(x).params.id),"empty-message":"This offer group contains no offers and thus will not be visible in the game! Did you forget to configure the offers in the game configs?","data-testid":"offer-group-detail-offers-list-card"},null,8,["offer-group-id"])]),"tab-1":t(()=>[i(ht,{"offer-group-id":e(X)(e(x).params.id)},null,8,["offer-group-id"])]),"tab-2":t(()=>[i(e(re),null,{default:t(()=>[i($e,{segments:v.value.segments,"owner-title":"This offer group"},null,8,["segments"]),i(Oe,{"player-conditions":v.value.additionalConditions},null,8,["player-conditions"])],void 0,!0),_:1})]),_:1}),i(e(Ce),{class:"tw-max-w-6xl"},{default:t(()=>[i(e(ae),{data:e(d),label:"singleOfferGroupData"},null,8,["data"]),i(e(ae),{data:f.value,label:"gameSpecificInfo"},null,8,["data"])],void 0,!0),_:1})]),_:1},8,["is-loading","error","variant"])}}}),ui=Se(jt,[["__scopeId","data-v-3ddb0207"]]);export{ui as default};
