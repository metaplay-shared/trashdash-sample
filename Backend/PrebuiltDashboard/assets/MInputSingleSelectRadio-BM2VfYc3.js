import{d as H,c as n,bK as U,aP as p,aj as O,ak as A,K as I,a as b,o,m as h,j as $,n as u,t as v,w as V,q as w,F as G,b as Q,f as x,S as y,e as W,Q as z,aU as M,aV as k,a7 as J,k as C,U as X,al as Y,bg as Z}from"./index-jY1EWd09.js";import{m as ee,c as te}from"./index-Dec9dGh3.js";import{_ as S}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";const ae=["data-testid"],le=["data-testid"],se=["onKeydown","data-testid"],ie=["data-testid"],de=H({inheritAttrs:!1,__name:"MInputSingleSelectRadio",props:{modelValue:{default:void 0},options:{},label:{default:void 0},inlineLabel:{type:Boolean},disabledTooltip:{default:void 0},variant:{default:"primary"},hintMessage:{default:void 0},vertical:{type:Boolean},size:{default:"default"},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(i,{emit:T}){const a=i,r=n(()=>!!a.disabledTooltip),P=n(()=>{if(r.value)return a.disabledTooltip}),_=T,d=n(()=>a.options.map(e=>({...e,id:U(e.value)}))),R=n(()=>d.value.some(e=>e.hintMessage));function B(e){const l=d.value.find(t=>t.id===e);return l?l.value:a.options[0].value}function K(e){const l=d.value.find(t=>p(t.value,e));return l?l.id:d.value[0].id}const j=n(()=>{let e;return typeof a.modelValue=="object"?e=d.value.find(l=>p(l.value,a.modelValue))?.id:e=d.value.find(l=>l.value===a.modelValue)?.id,e||(console.warn("The modelValue of the radio group does not match any of the options. Defaulting to the first option."),e=d.value[0].id),e}),F=O("radio-group"),L=n(()=>({id:F,name:a.label,onValueChange:e=>{_("update:modelValue",B(e.value))},defaultValue:j.value,disabled:r.value})),D=A(ee,L),s=n(()=>te(D,Y));I(()=>a.options,e=>{const l=e.map(t=>t.label);l.length!==new Set(l).size&&console.warn("Duplicate labels found in the options array of a radio group. This is confusing for users. Options: ",l)}),I(()=>a.modelValue,e=>{s.value.setValue(K(e))});function N(e){const l="tw-rounded-full tw-border tw-flex tw-items-center tw-justify-center tw-flex-none",f={default:"tw-h-4 tw-w-4",small:"tw-h-3.5 tw-w-3.5"}[a.size],E={danger:{enabled:"tw-border-red-500 tw-bg-red-500",disabled:"tw-border-red-300 tw-bg-red-300"},warning:{enabled:"tw-border-orange-500 tw-bg-orange-500",disabled:"tw-border-orange-300 tw-bg-orange-300"},success:{enabled:"tw-border-green-500 tw-bg-green-500",disabled:"tw-border-green-300 tw-bg-green-300"},primary:{enabled:"tw-border-blue-500 tw-bg-blue-500",disabled:"tw-border-blue-300 tw-bg-blue-300"}};let m=!1;typeof a.modelValue=="object"?m=p(a.modelValue,e.value):m=a.modelValue===e.value;let c="";if(m){const g=E[a.variant];if(!g)throw new Error(`Invalid variant: ${a.variant}`);r.value||e.disabled?c=g.disabled:c=g.enabled}else e.disabled??r.value?c="tw-border-neutral-300 tw-bg-neutral-200":c="tw-border-neutral-300 tw-bg-white hover:tw-bg-neutral-100 active:tw-bg-neutral-200";return`${l} ${f} ${c}`}function q(e){const l=a.size==="small"?"tw-text-sm":"tw-text-base";return e.disabled??r.value?`${l} tw-text-neutral-300`:a.variant==="danger"?`${l} tw-text-red-400`:`${l} tw-text-inherit`}return(e,l)=>(o(),b("span",u(s.value.getRootProps(),{class:"tw-space-y-1"},{class:{"tw-flex tw-w-full tw-items-center tw-justify-between":i.inlineLabel},"data-testid":i.dataTestid}),[i.label?(o(),b("div",u({key:0},s.value.getLabelProps(),{class:"tw-text-sm tw-leading-6"},{role:"heading",class:{"tw-text-neutral-400":r.value,"tw-font-bold tw-mb-0.5":a.size==="default","tw-font-semibold":a.size==="small"}}),v(i.label),17)):h("",!0),$(X,{content:P.value,"no-underline":"","data-testid":"tooltip-"+i.label},{default:V(()=>[w("span",{class:z(["tw-inline-flex tw-gap-x-1 tw-align-top",{"tw-flex-col tw-mb-1":a.vertical||R.value,"tw-gap-x-2 tw-flex-wrap":!a.vertical}])},[(o(!0),b(G,null,Q(d.value,t=>(o(),b("label",u(s.value.getItemProps({value:t.id,disabled:t.disabled}),{key:t.label},{"data-testid":`${x(y)(t.label)}-radio-button`}),[w("span",{class:z(["tw-mb-0 tw-flex tw-items-start tw-gap-x-2",{"tw-items-center":!a.vertical}])},[w("div",u(s.value.getItemControlProps({value:t.id,disabled:t.disabled}),{class:[N(t),{"tw-mt-1":a.vertical}],tabindex:"0",onKeydown:[M(k(f=>s.value.setValue(t.id),["prevent"]),["space"]),M(k(f=>s.value.setValue(t.id),["prevent"]),["enter"])],"data-testid":`${x(y)(t.label)}-control`}),[s.value.value===t.id?(o(),b("div",{key:0,class:z(["tw-rounded-full tw-bg-white",{"tw-size-1.5":a.size==="default","tw-size-[0.315rem]":a.size==="small"}])},null,2)):h("",!0)],16,se),w("span",u(s.value.getItemTextProps({value:t.id,disabled:t.disabled}),{class:[q(t),"tw-overflow-hidden tw-overflow-ellipsis"]}),[J(e.$slots,"option",{option:t},()=>[C(v(t.label),1)],!0)],16),w("input",u(s.value.getItemHiddenInputProps({value:t.id,disabled:t.disabled}),{tabindex:"-1","data-testid":`${x(y)(t.label)}-input`}),null,16,ie)],2),t.hintMessage?(o(),W(S,{key:0,variant:a.variant},{default:V(()=>[C(v(t.hintMessage),1)],void 0,!0),_:2},1032,["variant"])):h("",!0)],16,le))),128))],2)],void 0,!0),_:3},8,["content","data-testid"]),$(S,{variant:i.variant},{default:V(()=>[C(v(i.hintMessage),1)],void 0,!0),_:1},8,["variant"])],16,ae))}}),ue=Z(de,[["__scopeId","data-v-4cedf36a"]]);export{ue as M};
