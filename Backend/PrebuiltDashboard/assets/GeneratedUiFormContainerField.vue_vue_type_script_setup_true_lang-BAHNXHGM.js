import{d as O,N as j,O as w,P as C,c as o,M as r,i as M,L as g,a as d,f as i,J as I,o as l,e as p,m as T,w as k,k as U,a6 as E,F as L,b as _,n as $,t as h}from"./index-B-VT6L6o.js";import{_ as A}from"./GeneratedUiFormDynamicComponent.vue_vue_type_script_setup_true_lang-DFWvQe41.js";const B={key:0,class:"tw-space-y-2"},G={key:1},D=O({__name:"GeneratedUiFormContainerField",props:{...w,value:{type:Object,default:()=>({})}},emits:j,setup(n,{emit:b}){const a=n,y=b,{displayName:F,update:m}=C(a,y),u=o(()=>a.fieldSchema.fields.filter(e=>!e.notEditable)),c=o(()=>new Set(a.fieldSchema.fields.map(e=>r(e.fieldName)))),f=o(()=>Object.fromEntries(Object.entries(a.value).filter(([e,s])=>e==="$type"||c.value.has(e))));M(()=>{(Object.entries(a.value).some(([e,s])=>!(e==="$type"||c.value.has(e)))||Object.entries(a.value).length<=1)&&setTimeout(()=>{m(f.value)},10)});const P=e=>e in a.value&&a.value[e]!==void 0,V=o(()=>a.isTargetingMultiplePlayers||a.disabled?!1:u.value.some(e=>!v(e))),v=e=>!a.disabled&&g(a.fieldSchema,a.logicVersion)&&g(e,a.logicVersion),N=(e,s)=>{m({...f.value,[e]:s})};return(e,s)=>e.fieldSchema.typeKind===i(I).Class&&e.fieldSchema.fields?(l(),d("div",B,[V.value?(l(),p(i(E),{key:0,class:"tw-mt-3",title:"Logic Version Mismatch",variant:"warning"},{default:k(()=>s[0]||(s[0]=[U("Some members are not available in this player's logic version, as such these members are disabled.",-1)]),void 0,!0),_:1,__:[0]})):T("",!0),(l(!0),d(L,null,_(u.value,t=>(l(),p(A,$(a,{key:t.fieldName},{fieldInfo:t,value:P(i(r)(t.fieldName))?n.value[i(r)(t.fieldName)]:t.default,fieldPath:e.fieldPath.length===0?t.fieldName:e.fieldPath+"/"+t.fieldName,contextObj:e.fieldSchema.useAsContext?n.value:e.contextObj,logicVersion:a.logicVersion,disabled:!v(t),isTargetingMultiplePlayers:e.isTargetingMultiplePlayers,onInput:S=>N(i(r)(t.fieldName),S)}),null,16,["fieldInfo","value","fieldPath","contextObj","logicVersion","disabled","isTargetingMultiplePlayers","onInput"]))),128))])):(l(),d("div",G,h(i(F))+": "+h(n.value),1))}});export{D as _};
