import{d as ee,b8 as we,c as u,aj as H,D as s,h as R,i as fe,bc as ce,ak as J,aQ as pe,aR as be,a as w,o as v,m as N,q as r,j as K,e as oe,Q as E,f as b,t as O,n as k,aU as T,aV as Z,w as Q,k as te,aS as ge,bd as he,be as De,bf as ye,F as ae,b as le,aW as Te,al as X,bg as xe,K as _,bh as Ie}from"./index-B-VT6L6o.js";import{_ as Y}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";import{_ as Se}from"./MInputSwitch.vue_vue_type_script_setup_true_lang-jCyUDcM1.js";import{c as ne,m as se}from"./index-FJT0vWS8.js";const Oe={class:"tw-space-y-1"},Me=["for"],$e={class:"tw-relative"},Ve=["value","disabled","aria-invalid","aria-describedby"],ke=["disabled"],Ce=["disabled"],Ne={class:"tw-flex tw-h-10 tw-items-center"},Ee={key:0,class:"tw-flex tw-h-10 tw-flex-grow tw-items-center tw-justify-center tw-text-sm tw-font-medium tw-text-neutral-700"},ze={class:"tw-grid tw-grid-cols-7 tw-gap-px"},Pe={key:0,class:"tw-pointer-events-none tw-absolute tw-inset-0.5 -tw-z-10 tw-rounded-full tw-bg-neutral-200","aria-hidden":"true"},Ue=["aria-label","aria-current","aria-selected","onClick"],Ae={key:2,class:"tw-flex tw-size-10 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-md tw-bg-neutral-50 tw-leading-5 tw-text-neutral-300 tw-ring-neutral-200"},Be=ee({__name:"MInputDate",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoDate:{},maxIsoDate:{},variant:{}},emits:["update:modelValue"],setup(F,{emit:G}){const e=F,{internalDisabled:f}=we(u(()=>e.disabled)),z=H("date"),P=H("date-input-hint"),g=u(()=>{if(e.modelValue)return s.fromISO(e.modelValue)}),h=u(()=>{if(e.minIsoDate)return e.minIsoDate==="utcNow"?s.fromISO(s.utc().toISODate()):s.fromISO(e.minIsoDate)}),c=u(()=>{if(e.maxIsoDate)return e.maxIsoDate==="utcNow"?s.fromISO(s.utc().toISODate()):s.fromISO(e.maxIsoDate)}),D=R();function U(o){D.value=o}const L=new ResizeObserver(()=>{x.value=D.value?.clientWidth??0});fe(()=>{D.value&&L.observe(D.value)}),ce(()=>{L.disconnect()});const x=R(0),I={keyUp:{days:1},keyDown:{days:-1},keyRight:{days:1},keyLeft:{days:-1},buttonUp:{days:1},buttonDown:{days:-1},scrollwheelUp:{days:1},scrollwheelDown:{days:-1},popoverKeyUp:{weeks:-1},popoverKeyDown:{weeks:1},popoverKeyRight:{days:1},popoverKeyLeft:{days:-1}};function A(o,a,n){const W=I[a];return console.assert(a in I,`Invalid action: ${a}`),n?l(o.plus(W)):o.plus(W)}function B(o){return g.value?!g.value.hasSame(A(g.value,o,!0),"day"):!1}function S(o){g.value&&d(A(g.value,o,!0))}function l(o){return h.value&&o<h.value?h.value:c.value&&o>c.value?c.value:o}function y(o){o.preventDefault(),!f.value&&(o.deltaY<0?S("scrollwheelUp"):S("scrollwheelDown"))}function M(o){i.value&&(o.deltaY<0?i.value=i.value.plus({months:1}):i.value=i.value.minus({months:1}),o.stopPropagation())}const i=R(g.value),m=R(),C=u(()=>{if(!i.value)return[];const o=i.value.startOf("month").startOf("week"),a=o.plus({weeks:6}).minus({days:1}),n=s.utc().toISODate(),W=[];for(let V=o;V<=a;V=V.plus({days:1})){const ie=V.month!==i.value.month,ue=!!h.value&&V<h.value||!!c.value&&V>c.value,de=!!e.modelValue&&V.toISODate()===e.modelValue,me=V.toISODate()===n,ve=m.value?.toISODate()===V.toISODate();W.push({date:V,isDifferentMonth:ie,isDisabled:ue,isSelected:de,isToday:me,isKeyboardHighlight:ve})}return W});function p(o){m.value??=s.utc();const a=A(m.value,o,!1),n=A(m.value,o,!0);a.hasSame(n,"day")&&(m.value=a,m.value.month!==i.value?.month&&(i.value=m.value))}const q=u(()=>{if(e.modelValue){let o;return x.value<130?o=s.DATE_SHORT:x.value<220?o=s.DATE_MED:o=s.DATE_HUGE,s.fromISO(e.modelValue).toLocaleString(o,{locale:"en-US"})}else return}),j=u(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),t=G;function d(o){o&&($.value.setOpen(!1),t("update:modelValue",o.toISODate()))}const re=J(pe,{id:H("popover"),modal:!0,autoFocus:!1,onOpenChange:o=>{o.open&&(i.value=g.value??s.utc(),m.value=g.value)}}),$=u(()=>be(re,X));return(o,a)=>(v(),w("div",Oe,[o.label?(v(),w("label",{key:0,for:b(z),class:E(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":b(f),"tw-text-neutral-900":!b(f)}])},O(o.label),11,Me)):N("",!0),r("div",$e,[r("input",k($.value.getTriggerProps(),{type:"text",value:q.value,disabled:o.disabled,class:["tw-w-full tw-rounded-md tw-shadow-sm tw-border-0 tw-py-1.5 tw-text-neutral-900 tw-ring-1 tw-ring-inset placeholder:tw-text-neutral-400 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 sm:tw-text-sm sm:tw-leading-6 disabled:tw-cursor-not-allowed disabled:tw-bg-neutral-50 disabled:tw-text-neutral-500 disabled:ring-neutral-200",j.value],"aria-invalid":o.variant==="danger"?!0:void 0,"aria-describedby":b(P),ref:U,readonly:"",onWheel:Z(y,["stop"]),onKeydown:[a[0]||(a[0]=T(n=>$.value.setOpen(!0),["enter"])),a[1]||(a[1]=T(n=>$.value.setOpen(!0),["space"])),a[2]||(a[2]=T(Z(n=>S("keyUp"),["prevent"]),["up"])),a[3]||(a[3]=T(Z(n=>S("keyDown"),["prevent"]),["down"])),a[4]||(a[4]=T(n=>S("keyLeft"),["left"])),a[5]||(a[5]=T(n=>S("keyRight"),["right"]))]}),null,16,Ve),r("button",{class:E(["tw-absolute tw-top-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":o.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":b(f)||!B("buttonUp")}]),disabled:b(f)||!B("buttonUp"),tabindex:"-1",onClick:a[6]||(a[6]=n=>S("buttonUp"))},a[17]||(a[17]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),10,ke),r("button",{class:E(["tw-absolute tw-bottom-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":o.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":b(f)||!B("buttonDown")}]),disabled:b(f)||!B("buttonDown"),tabindex:"-1",onClick:a[7]||(a[7]=n=>S("buttonDown"))},a[18]||(a[18]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),10,Ce)]),K(Y,{id:b(P),variant:o.variant},{default:Q(()=>[te(O(o.hintMessage),1)],void 0,!0),_:1},8,["id","variant"]),(v(),oe(Te,{to:"body"},[r("div",k($.value.getPositionerProps(),{style:{"z-index":"9999"}}),[ge(r("div",De(ye($.value.getArrowProps())),[r("div",k($.value.getArrowTipProps(),{class:"tw-z-0 tw-border-l tw-border-t tw-border-neutral-200"}),null,16)],16),[[he,$.value.open]]),r("div",k($.value.getContentProps(),{class:"tw-max-h-[calc(100vh_-_100px)] tw-max-w-sm tw-overflow-auto tw-rounded-lg tw-border tw-border-neutral-200 tw-bg-white tw-shadow-md focus-visible:tw-outline-none"},{onWheel:M,onKeydown:[a[10]||(a[10]=T(n=>p("popoverKeyUp"),["up"])),a[11]||(a[11]=T(n=>p("popoverKeyDown"),["down"])),a[12]||(a[12]=T(n=>p("popoverKeyLeft"),["left"])),a[13]||(a[13]=T(n=>p("popoverKeyRight"),["right"])),a[14]||(a[14]=T(n=>d(m.value),["enter"])),a[15]||(a[15]=T(n=>d(m.value),["space"])),a[16]||(a[16]=T(n=>$.value.setOpen(!1),["tab"]))]}),[r("div",Ne,[r("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",tabindex:"-1",onClick:a[8]||(a[8]=n=>i.value=i.value?.minus({months:1}))},a[19]||(a[19]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[r("path",{"fill-rule":"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1)])),i.value?(v(),w("div",Ee,O(i.value.monthLong)+" "+O(i.value.year),1)):N("",!0),r("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",tabindex:"-1",onClick:a[9]||(a[9]=n=>i.value=i.value?.plus({months:1}))},a[20]||(a[20]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[r("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)]))]),r("div",ze,[(v(),w(ae,null,le(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=>r("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-xs tw-font-medium tw-text-neutral-500",key:n},O(n),1)),64)),(v(!0),w(ae,null,le(C.value,n=>(v(),w("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-sm tw-font-medium",key:n.date.toISODate()||""},[n.isToday?(v(),w("span",Pe)):N("",!0),n.isDisabled?(v(),w("span",Ae,O(n.date.day),1)):(v(),w("button",{key:1,class:E(["tw-size-10 tw-cursor-pointer tw-rounded-md tw-leading-5 focus:tw-border-2 focus:tw-border-blue-600 focus:tw-outline-none",{"tw-bg-blue-500 tw-text-white":n.isSelected,"hover:tw-text-neutral-700 hover:tw-bg-neutral-200 active:tw-bg-neutral-300":!n.isSelected,"tw-text-neutral-700":!n.isDifferentMonth&&!n.isSelected,"tw-text-neutral-400":n.isDifferentMonth&&!n.isSelected,"tw-bg-neutral-200":n.isKeyboardHighlight&&!n.isSelected}]),ref_for:!0,ref:`day-${n.date.day}`,"aria-label":n.date.toLocaleString(b(s).DATE_HUGE),"aria-current":n.isToday?"date":void 0,"aria-selected":n.isSelected,tabindex:"-1",onClick:W=>d(n.date)},O(n.date.day),11,Ue))]))),128))])],16)],16)]))]))}}),He=xe(Be,[["__scopeId","data-v-d4c6ad13"]]),Ke={class:"tw-space-y-1"},Le=["for"],je={class:"tw-relative"},We=["aria-invalid","aria-describedby","data-testid"],Re={class:"tw-relative"},Fe=["aria-invalid","aria-describedby","data-testid"],Ge=ee({__name:"MInputTime",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoTime:{},maxIsoTime:{},variant:{},dataTestid:{}},emits:["update:modelValue"],setup(F,{emit:G}){const e=F,f=G;function z(t){const d=t.toISOTime({suppressSeconds:!0,includeOffset:!1});if(!d)throw new Error("Failed to convert time to ISO string",{cause:t});f("update:modelValue",d)}const P=H("date"),g=H("date-input-hint"),h=u(()=>s.fromISO(e.modelValue).hour),c=u(()=>s.fromISO(e.modelValue).minute),D=u(()=>{if(e.minIsoTime)return e.minIsoTime==="utcNow"?s.fromISO(s.utc().toISOTime({suppressSeconds:!0,includeOffset:!1})):s.fromISO(e.minIsoTime)}),U=u(()=>{if(e.maxIsoTime)return e.maxIsoTime==="utcNow"?s.fromISO(s.utc().toISOTime({suppressSeconds:!0,includeOffset:!1})):s.fromISO(e.maxIsoTime)}),L=u(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),x=u(()=>D.value?D.value.hour:0),I=u(()=>U.value?U.value.hour:23),A=H("time-hours"),B=u(()=>({disabled:e.disabled,defaultValue:String(h.value),min:0,max:23,id:A,allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},focusInputOnChange:!0,onValueChange:t=>{q(t,!1)&&z(s.fromObject({hour:t.valueAsNumber,minute:c.value}))},onFocusChange:t=>{t.focused||(q(t,!0),j(c.value,!0))}})),S=J(se,B),l=u(()=>ne(S,X)),y=u(()=>D.value&&h.value===x.value?D.value.minute:0),M=u(()=>U.value&&h.value===I.value?U.value.minute:59),i=H("time-minutes"),m=u(()=>({disabled:e.disabled,min:0,max:59,defaultValue:String(c.value),id:i,allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},onValueChange:t=>{j(t,!1)&&z(s.fromObject({hour:h.value,minute:t.valueAsNumber}))},onFocusChange:t=>{t.focused||j(t,!0)}})),C=J(se,m),p=u(()=>ne(C,X));_(h,t=>{t===x.value&&c.value<y.value&&z(s.fromObject({hour:t,minute:y.value})),t===I.value&&c.value>M.value&&z(s.fromObject({hour:t,minute:M.value}))});const q=(t,d)=>(typeof t=="number"&&(t={valueAsNumber:t}),isNaN(t.valueAsNumber)?(d&&l.value.setValue(h.value),!1):x.value!==void 0&&(t.valueAsNumber<x.value||t.valueAsNumber>I.value)?(d&&l.value.setValue(t.valueAsNumber<x.value?x.value:I.value),!1):!0),j=(t,d)=>(typeof t=="number"&&(t={valueAsNumber:t}),isNaN(t.valueAsNumber)?(d&&p.value.setValue(c.value),!1):y.value!==void 0&&(t.valueAsNumber<y.value||t.valueAsNumber>M.value)?(d&&p.value.setValue(t.valueAsNumber<y.value?y.value:M.value),!1):!0);return _(()=>e.modelValue,t=>{l.value.focused||l.value.setValue(s.fromISO(t).hour),p.value.focused||p.value.setValue(s.fromISO(t).minute)}),(t,d)=>(v(),w("div",Ke,[t.label?(v(),w("label",{key:0,for:b(P),class:E(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":t.disabled,"tw-text-neutral-900":!t.disabled}])},O(t.label),11,Le)):N("",!0),r("div",{class:E(["tw-flex tw-items-center tw-max-w-fit tw-rounded-md tw-text-neutral-900 tw-shadow-sm tw-ring-1 tw-ring-inset sm:tw-text-sm sm:tw-leading-6",{"ring-neutral-200 tw-bg-neutral-50 tw-cursor-not-allowed":t.disabled,"tw-bg-white":!t.disabled},L.value])},[r("div",je,[r("input",k(l.value.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{class:{"tw-text-red-500":!q(l.value.valueAsNumber,!1)},"aria-invalid":t.variant==="danger"?!0:void 0,"aria-describedby":b(g),"data-testid":`${t.dataTestid}-hours`}),null,16,We),r("button",k(l.value.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||l.value.getIncrementTriggerProps().disabled}]}),d[0]||(d[0]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),16),r("button",k(l.value.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||l.value.getDecrementTriggerProps().disabled}]}),d[1]||(d[1]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),16)]),d[4]||(d[4]=r("div",{class:"tw-relative tw-bottom-[1px] tw-text-lg tw-text-neutral-400"},":",-1)),r("div",Re,[r("input",k(p.value.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{class:{"tw-text-red-500":!j(p.value.valueAsNumber,!1)},"aria-invalid":t.variant==="danger"?!0:void 0,"aria-describedby":b(g),"data-testid":`${t.dataTestid}-minutes`}),null,16,Fe),r("button",k(p.value.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||p.value.getIncrementTriggerProps().disabled}]}),d[2]||(d[2]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),16),r("button",k(p.value.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":t.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":t.disabled||p.value.getDecrementTriggerProps().disabled}]}),d[3]||(d[3]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[r("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),16)])],2),K(Y,{id:b(g),variant:t.variant},{default:Q(()=>[te(O(t.hintMessage),1)],void 0,!0),_:1},8,["id","variant"])]))}}),qe={key:0,class:"tw-flex tw-items-center tw-justify-between"},Qe=["for"],Ye={key:1},Ze={key:1},tt=ee({__name:"MInputDateTime",props:{modelValue:{},allowEmpty:{type:Boolean,default:!1},label:{default:void 0},hintMessage:{default:void 0},disabled:{type:Boolean,default:!1},minDateTime:{default:void 0},maxDateTime:{default:void 0},variant:{default:"neutral"},dataTestid:{default:void 0},showGameTimeHint:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(F,{emit:G}){const e=F,f=R(e.modelValue!==void 0);function z(l){f.value=l,l?I("update:modelValue",P.value):I("update:modelValue",void 0)}const P=R(e.modelValue??s.utc());_(()=>e.modelValue,l=>{if(!e.allowEmpty&&l===void 0)throw new TypeError("modelValue cannot be undefined without setting allowEmpty to true.");l===void 0&&f.value&&(f.value=!1)},{immediate:!0});const g=H("datetime"),h=u(()=>e.modelValue?.toISODate()??""),c=u(()=>e.minDateTime instanceof s?e.minDateTime.toISODate():e.minDateTime==="utcNow"?s.utc().endOf("day").toISODate():e.minDateTime),D=u(()=>e.maxDateTime instanceof s?e.maxDateTime.toISODate():e.maxDateTime==="utcNow"?s.utc().startOf("day").toISODate():e.maxDateTime),U=u(()=>e.modelValue?.toUTC().toISOTime({includeOffset:!1})??""),L=u(()=>{if(e.minDateTime&&e.modelValue?.toUTC().toISODate()===c.value)return e.minDateTime instanceof s?e.minDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):s.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),x=u(()=>{if(e.maxDateTime&&e.modelValue?.toUTC().toISODate()===D.value)return e.maxDateTime instanceof s?e.maxDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):s.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),I=G;function A(l){const y=e.modelValue?.toUTC().hour,M=e.modelValue?.toUTC().minute;let i=s.fromISO(l,{zone:"utc"}).set({hour:y,minute:M});const m=e.minDateTime instanceof s?e.minDateTime:s.utc().startOf("minute"),C=e.maxDateTime instanceof s?e.maxDateTime:s.utc().startOf("minute");e.minDateTime&&i<m?i=m:D.value&&i>C&&(i=C),P.value=i,I("update:modelValue",i)}function B(l){const[y,M]=l.split(":"),i=parseInt(y,10),m=parseInt(M,10);if(isNaN(i)||isNaN(m)){console.warn(`[WARNING MINPUT-DATETIME00001] Invalid time format received: ${l}`);return}const C=s.fromObject({year:e.modelValue?.year,month:e.modelValue?.month,day:e.modelValue?.day,hour:i,minute:m,second:0,millisecond:0},{zone:"utc"});P.value=C,I("update:modelValue",C)}const S=u(()=>e.disabled?!0:e.allowEmpty&&!e.modelValue?.isValid);return(l,y)=>(v(),w("div",{class:E(["tw-space-y-1",{"tw-bg-neutral-100 tw-rounded-md tw-border tw-border-neutral-200 tw-p-3":l.allowEmpty}])},[l.label||l.allowEmpty?(v(),w("div",qe,[l.label?(v(),w("label",{key:0,for:b(g),class:E(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":l.disabled,"tw-text-neutral-900":!l.disabled}])},O(l.label),11,Qe)):N("",!0),l.allowEmpty?(v(),w("div",Ye,[K(Se,{class:"tw-text-neutral-500","model-value":f.value,"disabled-tooltip":l.disabled?"Disabled":void 0,label:"Enable",size:"small","onUpdate:modelValue":z,"data-testid":`${l.dataTestid}-enable-toggle`},null,8,["model-value","disabled-tooltip","data-testid"])])):N("",!0)])):N("",!0),!l.allowEmpty||f.value?(v(),w("div",Ze,[r("div",{class:E(["tw-flex tw-space-x-1",{"tw-mt-1":l.allowEmpty}])},[K(He,{class:"tw-flex-auto","model-value":h.value,disabled:l.disabled,"min-iso-date":c.value,"max-iso-date":D.value,variant:l.variant,"onUpdate:modelValue":A,"data-testid":`${l.dataTestid}-date`},null,8,["model-value","disabled","min-iso-date","max-iso-date","variant","data-testid"]),K(Ge,{"model-value":U.value,disabled:S.value,"min-iso-time":L.value,"max-iso-time":x.value,variant:l.variant,"onUpdate:modelValue":B,"data-testid":`${l.dataTestid}-time`},null,8,["model-value","disabled","min-iso-time","max-iso-time","variant","data-testid"])],2),l.showGameTimeHint?(v(),oe(Y,{key:0},{default:Q(()=>[K(Ie)],void 0,!0),_:1})):N("",!0)])):N("",!0),K(Y,{variant:l.variant},{default:Q(()=>[te(O(l.hintMessage),1)],void 0,!0),_:1},8,["variant"])],2))}});export{He as M,tt as _};
