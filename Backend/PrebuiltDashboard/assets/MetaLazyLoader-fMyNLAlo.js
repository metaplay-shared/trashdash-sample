import{d as c,h as r,i as f,cn as m,a as i,o as u,a7 as v,q as h,bj as p}from"./index-B-VT6L6o.js";const y={key:1},b=c({__name:"MetaLazyLoader",props:{placeholderEventHeight:{default:100},margin:{default:500},remainVisible:{type:Boolean,default:!0},renderAfterDelayInMs:{default:250},hideAfterDelayInMs:{default:1e4}},setup(d){const a=d,l=r(),t=r(!1),n=r(),s=r();let o;return f(()=>{o=new IntersectionObserver(([e])=>{e&&(clearTimeout(n.value),clearTimeout(s.value),e.isIntersecting?t.value||(n.value=setTimeout(()=>{t.value=!0,a.remainVisible&&o.unobserve(l.value)},a.renderAfterDelayInMs)):e.isIntersecting||t.value&&(s.value=setTimeout(()=>{t.value=!1},a.hideAfterDelayInMs)))},{rootMargin:`${a.margin}px`,root:document}),o.observe(l.value)}),m(()=>{o.disconnect(),clearTimeout(n.value),clearTimeout(s.value)}),(e,g)=>(u(),i("div",{ref_key:"root",ref:l},[t.value?v(e.$slots,"default",{key:0}):(u(),i("div",y,[h("div",{style:p(`min-height: ${e.placeholderEventHeight}px`)},null,4)]))],512))}});export{b as default};
