import{d as z,a as n,o as t,t as v,f as $,c as P,h as B,i as I,r as E,q as d,m as c,Q as x,j,e as h,_ as k,w as b,k as m,aU as C,bj as R,aV as V,F as A,b as O,K as F,ag as N,bk as T}from"./index-jY1EWd09.js";function D(e){const o=Object.keys(e);return o.length>5?`{ ${o.slice(0,5).join(", ")}, ... } (${o.length})`:o.length>0?`{ ${o.join(", ")} } (${o.length})`:"Empty object (0)"}function L(e){return e===null?"null":e===void 0?"undefined":e===""?"''":typeof e=="string"?`'${e}'`:typeof e=="object"?Array.isArray(e)?`[${e.length}]`:`{${Object.keys(e).length}}`:String(e)}function U(e){return e.length>5?`[ ${e.slice(0,5).map(L).join(", ")}, ... ] (${e.length})`:e.length>0?`[ ${e.map(L).join(", ")} ] (${e.length})`:"Empty array (0)"}function K(e,o=1e4){const u=new WeakSet;function i(r){if(r===null)return 0;if(typeof r!="object")return 8;if(u.has(r))return 0;u.add(r);let s=0;for(const[a,w]of Object.entries(r))if(s+=a.length*2,s+=i(w),s>o)return s;return s}return i(e)}const q={key:0},H={key:1},W={key:2},J={key:3},Q={key:0},X={key:1},Z={key:2},G={key:4},Y={key:5},_={key:6},ee=z({__name:"MRawDataValuePreview",props:{value:{},maxLength:{default:40}},setup(e){return(o,u)=>e.value===null?(t(),n("span",q,"null")):Array.isArray(e.value)?(t(),n("span",H,v($(U)(e.value)),1)):typeof e.value=="object"?(t(),n("span",W,v($(D)(e.value)),1)):typeof e.value=="string"?(t(),n("span",J,[e.value?e.value.length>e.maxLength?(t(),n("span",X,v(e.value.slice(0,e.maxLength))+"...",1)):(t(),n("span",Z,v(e.value),1)):(t(),n("span",Q,"''"))])):typeof e.value=="boolean"?(t(),n("span",G,v(e.value),1)):typeof e.value=="number"?(t(),n("span",Y,v(e.value),1)):(t(),n("span",_,v(typeof e.value),1))}}),te=["tabindex"],ne={key:1,class:"tw-shrink-0"},ae={class:"tw-select-all"},le={key:2,class:"tw-ml-1 tw-grow tw-text-xs tw-text-neutral-500"},se={key:3,class:"tw-grow"},oe={class:"tw-select-all"},ue={key:4,class:"tw-select-all"},ie={key:0,class:"tw-ml-4"},re={key:0},de={key:1,class:"tw-text-red-500"},M=z({__name:"MRawDataProperty",props:{name:{},path:{},depth:{},value:{},openPaths:{}},emits:["toggle"],setup(e,{emit:o}){const u=P(()=>i.openPaths.includes(i.path)),i=e,r=o,s=B(0);I(()=>{const y=document.querySelectorAll('[data-type="MTabLayout"]');s.value=Array.from(y).length*47});const a=P(()=>Array.isArray(i.value)&&i.value.length>0||typeof i.value=="object"&&i.value!==null&&Object.keys(i.value).length>0),w=y=>/\s/g.test(y);return(y,l)=>{const S=E("MRawDataProperty",!0);return t(),n("div",null,[d("div",{class:x(["tw-sticky tw-flex tw-items-start tw-gap-1 tw-bg-neutral-100",{"tw-cursor-pointer hover:tw-bg-neutral-200 tw-rounded-sm":a.value}]),style:R({top:`${e.depth*16+s.value}px`,zIndex:500-e.depth}),tabindex:a.value?0:-1,onClick:l[0]||(l[0]=g=>a.value?r("toggle",e.path):null),onKeydown:[l[1]||(l[1]=C(g=>a.value?r("toggle",e.path):null,["enter"])),l[2]||(l[2]=C(V(g=>a.value?r("toggle",e.path):null,["prevent"]),["space"]))]},[a.value?(t(),n("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",class:x(["tw-size-3 tw-shrink-0 tw-fill-neutral-900 tw-transition-transform tw-relative tw-top-0.5",{"tw-rotate-90":u.value}])},[...l[5]||(l[5]=[d("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"},null,-1)])],2)):c("",!0),e.name?(t(),n("span",ne,[d("span",ae,v(e.name),1),l[6]||(l[6]=d("span",null,":",-1))])):c("",!0),a.value&&!u.value?(t(),n("span",le,[j(ee,{value:e.value},null,8,["value"])])):a.value?c("",!0):(t(),n("span",se,[e.value===null?(t(),h(k,{key:0},{default:b(()=>[...l[7]||(l[7]=[m("null",-1)])],void 0,!0),_:1})):e.value===void 0?(t(),h(k,{key:1},{default:b(()=>[...l[8]||(l[8]=[m("undefined",-1)])],void 0,!0),_:1})):typeof e.value=="boolean"?(t(),h(k,{key:2},{default:b(()=>[m(v(e.value),1)],void 0,!0),_:1})):typeof e.value=="string"?(t(),n("p",{key:3,class:x(w(e.value)?"tw-break-normal":"tw-break-all")},[l[9]||(l[9]=d("span",null,"'",-1)),d("span",oe,v(e.value),1),l[10]||(l[10]=d("span",null,"'",-1))],2)):(t(),n("p",ue,v(e.value),1))]))],46,te),a.value&&u.value?(t(),n("div",ie,[typeof e.value=="object"?(t(),n("div",re,[Array.isArray(e.value)?(t(!0),n(A,{key:1},O(e.value,(g,f)=>(t(),h(S,{key:f,depth:e.depth+1,path:`${e.path}.${f}`,name:String(f),value:g,"open-paths":e.openPaths,onToggle:l[4]||(l[4]=p=>r("toggle",p))},null,8,["depth","path","name","value","open-paths"]))),128)):(t(!0),n(A,{key:0},O(e.value,(g,f)=>(t(),h(S,{key:f,depth:e.depth+1,path:`${e.path}.${f}`,name:f,value:g,"open-paths":e.openPaths,onToggle:l[3]||(l[3]=p=>r("toggle",p))},null,8,["depth","path","name","value","open-paths"]))),128))])):(t(),n("div",de,"Unhandled type"))])):c("",!0)])}}}),ye={key:0,class:"tw-relative tw-z-0 tw-mt-5 tw-rounded tw-border tw-border-neutral-300 tw-bg-neutral-100 tw-p-3 tw-shadow"},ve={class:"tw-flex tw-justify-between"},we={class:"tw-flex tw-items-center tw-gap-2"},ce={key:0},fe={key:1,class:"tw-text-xs tw-text-neutral-500"},he={key:0},me={key:0,class:"tw-text-xs"},ge={key:1,class:"tw-text-neutral-500"},be=z({__name:"MRawDataCard",props:{data:{},label:{},showAlways:{type:Boolean},hideClipboardCopy:{type:Boolean}},setup(e){const o=e,u=B([]),{isDeveloperUiEnabled:i}=N();function r(s){const a=u.value.indexOf(s);a>=0?u.value.splice(a,1):u.value.push(s)}return F(()=>o.data,(s,a)=>{if(!s||a||!Array.isArray(s)&&typeof s!="object")return;const w=800;for(const y of Object.keys(s))s[y]&&K(s[y],w)<w&&u.value.push(y)},{immediate:!0,deep:!1}),(s,a)=>$(i)||e.showAlways?(t(),n("div",ye,[d("div",ve,[d("div",we,[a[5]||(a[5]=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",class:"tw-size-4 tw-fill-neutral-900"},[d("path",{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"})],-1)),d("span",null,[a[2]||(a[2]=d("span",{class:"tw-font-bold"},"Raw data",-1)),a[3]||(a[3]=m()),e.label?(t(),n("span",ce,[a[1]||(a[1]=m("for ",-1)),j(k,null,{default:b(()=>[m(v(e.label),1)],void 0,!0),_:1})])):c("",!0),a[4]||(a[4]=m()),$(i)&&!e.showAlways?(t(),n("span",fe,"(enabled with developer UI)")):c("",!0)])]),e.data!=null&&Object.keys(e.data).length>0&&!o.hideClipboardCopy?(t(),h(T,{key:0,contents:JSON.stringify(e.data,null,2),fullSize:!1},null,8,["contents"])):c("",!0)]),typeof e.data=="object"&&e.data!=null?(t(),n("div",he,[Object.keys(e.data).length>0?(t(),n("ul",me,[(t(!0),n(A,null,O(e.data,(w,y)=>(t(),n("li",{class:"tw-px-0 tw-py-1 tw-font-mono",key:y},[j(M,{depth:0,name:String(y),path:String(y),value:w,"open-paths":u.value,onToggle:a[0]||(a[0]=l=>r(l))},null,8,["name","path","value","open-paths"])]))),128))])):(t(),n("p",ge,"0 items."))])):(t(),h(M,{key:1,class:"tw-px-0 tw-py-1 tw-font-mono tw-text-xs",depth:0,path:"",value:e.data,"open-paths":[]},null,8,["value"]))])):c("",!0)}});export{be as _};
