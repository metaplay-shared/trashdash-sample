import{am as se,an as m,ao as oe,ap as A,aq as le,ar as ue,as as G,at as ce,au as me,av as H,aw as de,ax as fe,ay as _,az as C,aA as ge,aB as pe,aC as be,aD as F,aE as z,aF as he,aG as ye,aH as ve,aI as Ee,aJ as k,aK as Pe,aL as D,aM as Ne,aN as Re,aO as Ie}from"./index-jY1EWd09.js";let M=new Map,B=!1;try{B=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $=!1;try{$=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const J={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Te{format(t){let r="";if(!B&&this.options.signDisplay!=null?r=xe(this.numberFormatter,this.options.signDisplay,t):r=this.numberFormatter.format(t),this.options.style==="unit"&&!$){var n;let{unit:i,unitDisplay:a="short",locale:s}=this.resolvedOptions();if(!i)return r;let l=(n=J[i])===null||n===void 0?void 0:n[a];r+=l[s]||l.default}return r}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(r)}`}formatRangeToParts(t,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(r);return[...n.map(a=>({...a,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(a=>({...a,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!B&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!$&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,r={}){this.numberFormatter=Se(t,r),this.options=r}}function Se(e,t={}){let{numberingSystem:r}=t;if(r&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${r}`),t.style==="unit"&&!$){var n;let{unit:s,unitDisplay:l="short"}=t;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=J[s])===null||n===void 0)&&n[l]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${l}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((s,l)=>s[0]<l[0]?-1:1).join():"");if(M.has(i))return M.get(i);let a=new Intl.NumberFormat(e,t);return M.set(i,a),a}function xe(e,t,r){if(t==="auto")return e.format(r);if(t==="never")return e.format(Math.abs(r));{let n=!1;if(t==="always"?n=r>0||Object.is(r,0):t==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let i=e.format(-r),a=e.format(r),s=i.replace(a,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(a,"!!!").replace(s,"+").replace("!!!",a)}else return e.format(r)}}const De=new RegExp("^.*\\(.*\\).*$"),we=["latn","arab","hanidec","deva","beng","fullwide"];class Q{parse(t){return L(this.locale,this.options,t).parse(t)}isValidPartialNumber(t,r,n){return L(this.locale,this.options,t).isValidPartialNumber(t,r,n)}getNumberingSystem(t){return L(this.locale,this.options,t).options.numberingSystem}constructor(t,r={}){this.locale=t,this.options=r}}const W=new Map;function L(e,t,r){let n=j(e,t);if(!e.includes("-nu-")&&!n.isValidPartialNumber(r)){for(let i of we)if(i!==n.options.numberingSystem){let a=j(e+(e.includes("-u-")?"-nu-":"-u-nu-")+i,t);if(a.isValidPartialNumber(r))return a}}return n}function j(e,t){let r=e+(t?Object.entries(t).sort((i,a)=>i[0]<a[0]?-1:1).join():""),n=W.get(r);return n||(n=new Ce(e,t),W.set(r,n)),n}class Ce{parse(t){let r=this.sanitize(t);if(this.symbols.group&&(r=N(r,this.symbols.group,"")),this.symbols.decimal&&(r=r.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(r=r.replace(this.symbols.minusSign,"-")),r=r.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=r.indexOf("-");r=r.replace("-",""),r=r.replace("+","");let l=r.indexOf(".");l===-1&&(l=r.length),r=r.replace(".",""),l-2===0?r=`0.${r}`:l-2===-1?r=`0.0${r}`:l-2===-2?r="0.00":r=`${r.slice(0,l-2)}.${r.slice(l-2)}`,s>-1&&(r=`-${r}`)}let n=r?+r:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,a;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)+2,20)};return new Q(this.locale,s).parse(new Te(this.locale,s).format(n))}return this.options.currencySign==="accounting"&&De.test(t)&&(n=-1*n),n}sanitize(t){return t=t.replace(this.symbols.literals,""),this.symbols.minusSign&&(t=t.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(t=t.replace(",",this.symbols.decimal),t=t.replace("،",this.symbols.decimal)),this.symbols.group&&(t=N(t,".",this.symbols.group))),this.symbols.group==="’"&&t.includes("'")&&(t=N(t,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(t=N(t," ",this.symbols.group),t=N(t,/\u00A0/g,this.symbols.group)),t}isValidPartialNumber(t,r=-1/0,n=1/0){return t=this.sanitize(t),this.symbols.minusSign&&t.startsWith(this.symbols.minusSign)&&r<0?t=t.slice(this.symbols.minusSign.length):this.symbols.plusSign&&t.startsWith(this.symbols.plusSign)&&n>0&&(t=t.slice(this.symbols.plusSign.length)),this.symbols.group&&t.startsWith(this.symbols.group)||this.symbols.decimal&&t.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(t=N(t,this.symbols.group,"")),t=t.replace(this.symbols.numeral,""),this.symbols.decimal&&(t=t.replace(this.symbols.decimal,"")),t.length===0)}constructor(t,r={}){this.locale=t,r.roundingIncrement!==1&&r.roundingIncrement!=null&&(r.maximumFractionDigits==null&&r.minimumFractionDigits==null?(r.maximumFractionDigits=0,r.minimumFractionDigits=0):r.maximumFractionDigits==null?r.maximumFractionDigits=r.minimumFractionDigits:r.minimumFractionDigits==null&&(r.minimumFractionDigits=r.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(t,r),this.options=this.formatter.resolvedOptions(),this.symbols=Oe(t,this.formatter,this.options,r);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const q=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),$e=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Oe(e,t,r,n){var i,a,s,l;let c=new Intl.NumberFormat(e,{...r,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),u=c.formatToParts(-10000.111),p=c.formatToParts(10000.111),f=$e.map(d=>c.formatToParts(d));var R;let b=(R=(i=u.find(d=>d.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&R!==void 0?R:"-",v=(a=p.find(d=>d.type==="plusSign"))===null||a===void 0?void 0:a.value;!v&&(n?.signDisplay==="exceptZero"||n?.signDisplay==="always")&&(v="+");let w=(s=new Intl.NumberFormat(e,{...r,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(d=>d.type==="decimal"))===null||s===void 0?void 0:s.value,o=(l=u.find(d=>d.type==="group"))===null||l===void 0?void 0:l.value,g=u.filter(d=>!q.has(d.type)).map(d=>Z(d.value)),T=f.flatMap(d=>d.filter(E=>!q.has(E.type)).map(E=>Z(E.value))),h=[...new Set([...g,...T])].sort((d,E)=>E.length-d.length),O=h.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${h.join("|")}|[\\p{White_Space}]`,"gu"),V=[...new Intl.NumberFormat(r.locale,{useGrouping:!1}).format(9876543210)].reverse(),ie=new Map(V.map((d,E)=>[d,E])),ae=new RegExp(`[${V.join("")}]`,"g");return{minusSign:b,plusSign:v,decimal:w,group:o,literals:O,numeral:ae,index:d=>String(ie.get(d))}}function N(e,t,r){return e.replaceAll?e.replaceAll(t,r):e.split(t).join(r)}function Z(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Ve=oe("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),y=Ve.build(),Ae=e=>e.ids?.root??`number-input:${e.id}`,S=e=>e.ids?.input??`number-input:${e.id}:input`,ee=e=>e.ids?.incrementTrigger??`number-input:${e.id}:inc`,te=e=>e.ids?.decrementTrigger??`number-input:${e.id}:dec`,Fe=e=>e.ids?.scrubber??`number-input:${e.id}:scrubber`,re=e=>`number-input:${e.id}:cursor`,Me=e=>e.ids?.label??`number-input:${e.id}:label`,x=e=>e.getById(S(e)),Le=e=>e.getById(ee(e)),Ue=e=>e.getById(te(e)),ne=e=>e.getDoc().getElementById(re(e)),Be=(e,t)=>{let r=null;return t==="increment"&&(r=Le(e)),t==="decrement"&&(r=Ue(e)),r},Ge=(e,t)=>{if(!z())return ke(e,t),()=>{ne(e)?.remove()}},He=e=>{const t=e.getDoc(),r=t.documentElement,n=t.body;return n.style.pointerEvents="none",r.style.userSelect="none",r.style.cursor="ew-resize",()=>{n.style.pointerEvents="",r.style.userSelect="",r.style.cursor="",r.style.length||r.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},_e=(e,t)=>{const{point:r,isRtl:n,event:i}=t,a=e.getWin(),s=D(i.movementX,a.devicePixelRatio),l=D(i.movementY,a.devicePixelRatio);let c=s>0?"increment":s<0?"decrement":null;n&&c==="increment"&&(c="decrement"),n&&c==="decrement"&&(c="increment");const u={x:r.x+s,y:r.y+l},p=a.innerWidth,f=D(7.5,a.devicePixelRatio);return u.x=Ie(u.x+f,p)-f,{hint:c,point:u}},ke=(e,t)=>{const r=e.getDoc(),n=r.createElement("div");n.className="scrubber--cursor",n.id=re(e),Object.assign(n.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:Pe,transform:t?`translate3d(${t.x}px, ${t.y}px, 0px)`:void 0,willChange:"transform"}),n.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,r.body.appendChild(n)};function We(e,t){if(!(!e||!t.isActiveElement(e)))try{const{selectionStart:r,selectionEnd:n,value:i}=e;return r==null||n==null?void 0:{start:r,end:n,value:i}}catch{return}}function je(e,t,r){if(!(!e||!r.isActiveElement(e))){if(!t){const n=e.value.length;e.setSelectionRange(n,n);return}try{const n=e.value,{start:i,end:a,value:s}=t;if(n===s){e.setSelectionRange(i,a);return}const l=Y(s,n,i),c=i===a?l:Y(s,n,a),u=Math.max(0,Math.min(l,n.length)),p=Math.max(u,Math.min(c,n.length));e.setSelectionRange(u,p)}catch{const n=e.value.length;e.setSelectionRange(n,n)}}}function Y(e,t,r){const n=e.slice(0,r),i=e.slice(r);let a=0;const s=Math.min(n.length,t.length);for(let u=0;u<s&&n[u]===t[u];u++)a=u+1;let l=0;const c=Math.min(i.length,t.length-a);for(let u=0;u<c;u++){const p=i.length-1-u,f=t.length-1-u;if(i[p]===t[f])l=u+1;else break}if(a>=n.length)return a;if(l>=i.length)return t.length-l;if(a>0)return a;if(l>0)return t.length-l;if(e.length>0){const u=r/e.length;return Math.round(u*t.length)}return t.length}function et(e,t){const{state:r,send:n,prop:i,scope:a,computed:s}=e,l=r.hasTag("focus"),c=s("isDisabled"),u=!!i("readOnly"),p=!!i("required"),f=r.matches("scrubbing"),R=s("isValueEmpty"),b=s("isOutOfRange")||!!i("invalid"),v=c||!s("canIncrement")||u,I=c||!s("canDecrement")||u,w=i("translations");return{focused:l,invalid:b,empty:R,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(o){n({type:"VALUE.SET",value:o})},clearValue(){n({type:"VALUE.CLEAR"})},increment(){n({type:"VALUE.INCREMENT"})},decrement(){n({type:"VALUE.DECREMENT"})},setToMax(){n({type:"VALUE.SET",value:i("max")})},setToMin(){n({type:"VALUE.SET",value:i("min")})},focus(){x(a)?.focus()},getRootProps(){return t.element({id:Ae(a),...y.root.attrs,dir:i("dir"),"data-disabled":m(c),"data-focus":m(l),"data-invalid":m(b),"data-scrubbing":m(f)})},getLabelProps(){return t.label({...y.label.attrs,dir:i("dir"),"data-disabled":m(c),"data-focus":m(l),"data-invalid":m(b),"data-required":m(p),"data-scrubbing":m(f),id:Me(a),htmlFor:S(a)})},getControlProps(){return t.element({...y.control.attrs,dir:i("dir"),role:"group","aria-disabled":c,"data-focus":m(l),"data-disabled":m(c),"data-invalid":m(b),"data-scrubbing":m(f),"aria-invalid":G(b)})},getValueTextProps(){return t.element({...y.valueText.attrs,dir:i("dir"),"data-disabled":m(c),"data-invalid":m(b),"data-focus":m(l),"data-scrubbing":m(f)})},getInputProps(){return t.input({...y.input.attrs,dir:i("dir"),name:i("name"),form:i("form"),id:S(a),role:"spinbutton",defaultValue:s("formattedValue"),pattern:i("formatOptions")?void 0:i("pattern"),inputMode:i("inputMode"),"aria-invalid":G(b),"data-invalid":m(b),disabled:c,"data-disabled":m(c),readOnly:u,required:i("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":i("min"),"aria-valuemax":i("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),"data-scrubbing":m(f),onFocus(){n({type:"INPUT.FOCUS"})},onBlur(){n({type:"INPUT.BLUR"})},onInput(o){const g=We(o.currentTarget,a);n({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set",selection:g})},onBeforeInput(o){try{const{selectionStart:g,selectionEnd:T,value:h}=o.currentTarget,O=h.slice(0,g)+(o.data??"")+h.slice(T);s("parser").isValidPartialNumber(O)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||u||ce(o))return;const g=me(o)*i("step"),h={ArrowUp(){n({type:"INPUT.ARROW_UP",step:g}),o.preventDefault()},ArrowDown(){n({type:"INPUT.ARROW_DOWN",step:g}),o.preventDefault()},Home(){k(o)||(n({type:"INPUT.HOME"}),o.preventDefault())},End(){k(o)||(n({type:"INPUT.END"}),o.preventDefault())},Enter(){n({type:"INPUT.ENTER"})}}[o.key];h?.(o)}})},getDecrementTriggerProps(){return t.button({...y.decrementTrigger.attrs,dir:i("dir"),id:te(a),disabled:I,"data-disabled":m(I),"aria-label":w.decrementLabel,type:"button",tabIndex:-1,"aria-controls":S(a),"data-scrubbing":m(f),onPointerDown(o){I||A(o)&&(n({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&o.currentTarget?.focus({preventScroll:!0}))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){I||n({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return t.button({...y.incrementTrigger.attrs,dir:i("dir"),id:ee(a),disabled:v,"data-disabled":m(v),"aria-label":w.incrementLabel,type:"button",tabIndex:-1,"aria-controls":S(a),"data-scrubbing":m(f),onPointerDown(o){v||!A(o)||(n({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&o.currentTarget?.focus({preventScroll:!0}))},onPointerUp(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){n({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return t.element({...y.scrubber.attrs,dir:i("dir"),"data-disabled":m(c),id:Fe(a),role:"presentation","data-scrubbing":m(f),onMouseDown(o){if(c||!A(o))return;const g=le(o),h=ue(o.currentTarget).devicePixelRatio;g.x=g.x-D(7.5,h),g.y=g.y-D(7.5,h),n({type:"SCRUBBER.PRESS_DOWN",point:g}),o.preventDefault()},style:{cursor:c?void 0:"ew-resize"}})}}}var qe=(e,t={})=>new Intl.NumberFormat(e,t),Ze=(e,t={})=>new Q(e,t),U=(e,t)=>{const{prop:r,computed:n}=t;return r("formatOptions")?e===""?Number.NaN:n("parser").parse(e):parseFloat(e)},P=(e,t)=>{const{prop:r,computed:n}=t;return Number.isNaN(e)?"":r("formatOptions")?n("formatter").format(e):e.toString()},Ye=(e,t)=>{let r=e!==void 0&&!Number.isNaN(e)?e:1;return t?.style==="percent"&&(e===void 0||Number.isNaN(e))&&(r=.01),r},{choose:Ke,guards:Xe,createMachine:ze}=se(),{not:K,and:X}=Xe,tt=ze({props({props:e}){const t=Ye(e.step,e.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!e.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"-?[0-9]*(.[0-9]+)?",defaultValue:"",step:t,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...e,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t,getComputed:r}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){const i=r(),a=U(n,{computed:i,prop:e});e("onValueChange")?.({value:n,valueAsNumber:a})}})),hint:t(()=>({defaultValue:null})),scrubberCursorPoint:t(()=>({defaultValue:null,hash(n){return n?`x:${n.x}, y:${n.y}`:""}})),fieldsetDisabled:t(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:e})=>e("dir")==="rtl",valueAsNumber:({context:e,computed:t,prop:r})=>U(e.get("value"),{computed:t,prop:r}),formattedValue:({computed:e,prop:t})=>P(e("valueAsNumber"),{computed:e,prop:t}),isAtMin:({computed:e,prop:t})=>fe(e("valueAsNumber"),t("min")),isAtMax:({computed:e,prop:t})=>de(e("valueAsNumber"),t("max")),isOutOfRange:({computed:e,prop:t})=>!Ee(e("valueAsNumber"),t("min"),t("max")),isValueEmpty:({context:e})=>e.get("value")==="",isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled"),canIncrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMax"),canDecrement:({prop:e,computed:t})=>e("allowOverflow")||!t("isAtMin"),valueText:({prop:e,context:t})=>e("translations").valueText?.(t.get("value")),formatter:H(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>qe(e,t)),parser:H(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>Ze(e,t))},watch({track:e,action:t,context:r,computed:n,prop:i}){e([()=>r.get("value"),()=>i("locale")],()=>{t(["syncInputElement"])}),e([()=>n("isOutOfRange")],()=>{t(["invokeOnInvalid"])}),e([()=>r.hash("scrubberCursorPoint")],()=>{t(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:X("clampValueOnBlur",K("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:K("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:Ke([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:X("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:e})=>e("clampValueOnBlur"),spinOnPress:({prop:e})=>!!e("spinOnPress"),isInRange:({computed:e})=>!e("isOutOfRange"),isDecrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="decrement",isIncrementHint:({context:e,event:t})=>(t.hint??e.get("hint"))==="increment",isTouchPointer:({event:e})=>e.pointerType==="touch"},effects:{waitForChangeDelay({send:e}){const t=setTimeout(()=>{e({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(t)},spinValue({send:e}){const t=setInterval(()=>{e({type:"SPIN"})},50);return()=>clearInterval(t)},trackFormControl({context:e,scope:t}){const r=x(t);return ve(r,{onFieldsetDisabledChange(n){e.set("fieldsetDisabled",n)},onFormReset(){e.set("value",e.initial("value"))}})},setupVirtualCursor({context:e,scope:t}){const r=e.get("scrubberCursorPoint");return Ge(t,r)},preventTextSelection({scope:e}){return He(e)},trackButtonDisabled({context:e,scope:t,send:r}){const n=e.get("hint"),i=Be(t,n);return ye(i,{attributes:["disabled"],callback(){r({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:e,send:t,prop:r}){const n=x(e);if(!n||!e.isActiveElement(n)||!r("allowMouseWheel"))return;function i(a){a.preventDefault();const s=Math.sign(a.deltaY)*-1;s===1?t({type:"VALUE.INCREMENT"}):s===-1&&t({type:"VALUE.DECREMENT"})}return F(n,"wheel",i,{passive:!1})},activatePointerLock({scope:e}){if(!z())return he(e.getDoc())},trackMousemove({scope:e,send:t,context:r,computed:n}){const i=e.getDoc();function a(l){const c=r.get("scrubberCursorPoint"),u=n("isRtl"),p=_e(e,{point:c,isRtl:u,event:l});p.hint&&t({type:"SCRUBBER.POINTER_MOVE",hint:p.hint,point:p.point})}function s(){t({type:"SCRUBBER.POINTER_UP"})}return be(F(i,"mousemove",a,!1),F(i,"mouseup",s,!1))}},actions:{focusInput({scope:e,prop:t}){if(!t("focusInputOnChange"))return;const r=x(e);e.isActiveElement(r)||_(()=>r?.focus({preventScroll:!0}))},increment({context:e,event:t,prop:r,computed:n}){let i=pe(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=C(i,r("min"),r("max"))),e.set("value",P(i,{computed:n,prop:r}))},decrement({context:e,event:t,prop:r,computed:n}){let i=ge(n("valueAsNumber"),t.step??r("step"));r("allowOverflow")||(i=C(i,r("min"),r("max"))),e.set("value",P(i,{computed:n,prop:r}))},setClampedValue({context:e,prop:t,computed:r}){const n=C(r("valueAsNumber"),t("min"),t("max"));e.set("value",P(n,{computed:r,prop:t}))},setRawValue({context:e,event:t,prop:r,computed:n}){let i=U(t.value,{computed:n,prop:r});r("allowOverflow")||(i=C(i,r("min"),r("max"))),e.set("value",P(i,{computed:n,prop:r}))},setValue({context:e,event:t}){const r=t.target?.value??t.value;e.set("value",r)},clearValue({context:e}){e.set("value","")},incrementToMax({context:e,prop:t,computed:r}){const n=P(t("max"),{computed:r,prop:t});e.set("value",n)},decrementToMin({context:e,prop:t,computed:r}){const n=P(t("min"),{computed:r,prop:t});e.set("value",n)},setHint({context:e,event:t}){e.set("hint",t.hint)},clearHint({context:e}){e.set("hint",null)},invokeOnFocus({computed:e,prop:t}){t("onFocusChange")?.({focused:!0,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnBlur({computed:e,prop:t}){t("onFocusChange")?.({focused:!1,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},invokeOnInvalid({computed:e,prop:t,event:r}){if(r.type==="INPUT.CHANGE")return;const n=e("valueAsNumber")>t("max")?"rangeOverflow":"rangeUnderflow";t("onValueInvalid")?.({reason:n,value:e("formattedValue"),valueAsNumber:e("valueAsNumber")})},syncInputElement({context:e,event:t,computed:r,scope:n}){const i=t.type.endsWith("CHANGE")?e.get("value"):r("formattedValue"),a=x(n),s=t.selection;_(()=>{Ne(a,i),je(a,s,n)})},setFormattedValue({context:e,computed:t}){e.set("value",t("formattedValue"))},setCursorPoint({context:e,event:t}){e.set("scrubberCursorPoint",t.point)},clearCursorPoint({context:e}){e.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:e,scope:t}){const r=ne(t),n=e.get("scrubberCursorPoint");!r||!n||(r.style.transform=`translate3d(${n.x}px, ${n.y}px, 0px)`)}}}});Re()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);export{et as c,tt as m};
