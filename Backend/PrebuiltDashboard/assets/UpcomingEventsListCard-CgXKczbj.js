import{d as P,E as v,c as g,e as l,o as r,w as a,j as o,f as e,x,k as s,t as n,a as d,m as p,B as S,D as m,ae as N,q as _,y as k,_ as y}from"./index-B-VT6L6o.js";import b from"./MetaListCard-CeJPPsYv.js";import{M as T,a as h}from"./metaListUtils-B-xQ0HnD.js";import{m as D,l as u,g as I}from"./liveOpsEventUtils-DY2yXuzV.js";import{b as M,a as V}from"./liveOpsEvents-e5xOesDH.js";import"./utils-3nJB3c7R.js";import"./_baseIteratee-BEmxe7KQ.js";import"./isSymbol-BpirMJeh.js";import"./identity-DKeuBCMA.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Dfga_g5u.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";import"./debounce-B6LajIyo.js";import"./MInputMultiSelectCheckbox.vue_vue_type_script_setup_true_lang-DB0nHSfN.js";import"./MInputCheckbox.vue_vue_type_script_setup_true_lang-x_WXETV5.js";import"./MInputSingleSelectRadio.vue_vue_type_script_setup_true_lang-zO3FqeNb.js";import"./index-llZsRYZ2.js";import"./button-group-Bl0hWwU-.js";const $={key:0},A={key:1},B={key:0},it=P({__name:"UpcomingEventsListCard",setup(C){const{data:c}=v(M()),{data:w}=v(V()),O=g(()=>w.value?.map(f=>f.eventTypeName)??[]),E=g(()=>c.value?D(O.value,["NotYetStarted","InPreview"],!1):[]),L=[new T("Start time","schedule.enabledStartTime",h.Ascending),new T("Start time","schedule.enabledStartTime",h.Descending)];return(f,i)=>(r(),l(e(b),{title:"Upcoming Events",icon:"calendar-days",itemList:e(c)?.upcomingEvents,searchFields:["displayName","description"],filterSets:E.value,sortOptions:L,emptyMessage:"No upcoming events right now, please create new ones.","data-testid":"upcoming-live-ops-events-list-card"},{"item-card":a(({item:t})=>[o(e(x),null,{"top-right":a(()=>[t.schedule?.isPlayerLocalTime===!0?(r(),l(e(y),{key:0,variant:"primary"},{default:a(()=>i[0]||(i[0]=[s("Player Local",-1)]),void 0,!0),_:1,__:[0]})):(r(),l(e(y),{key:1,variant:e(u)[t.currentPhase].badgeVariant},{default:a(()=>[s(n(e(u)[t.currentPhase].displayString),1)],void 0,!0),_:2},1032,["variant"]))]),"bottom-left":a(()=>[t.description?(r(),d("div",$,n(t.description),1)):p("",!0),t.schedule!==null&&!t.schedule?.isPlayerLocalTime&&t.startTime&&t.endTime?(r(),d("div",A,[_("span",null,[i[1]||(i[1]=s("Starting ",-1)),o(e(k),{instant:e(m).fromISO(t.startTime)},null,8,["instant"])]),_("span",null,[i[2]||(i[2]=s("Â and will run for ",-1)),o(e(S),{duration:e(m).fromISO(t.endTime).diff(e(m).fromISO(t.startTime)),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[3]||(i[3]=s(".",-1))])])):p("",!0)]),"bottom-right":a(()=>[t.nextPhase&&t.nextPhaseTime?(r(),d("div",B,[s("Entering '"+n(e(u)[t.nextPhase].displayString)+"' in ",1),o(e(S),{duration:e(m).fromISO(t.nextPhaseTime).diffNow(),showAs:e(I)(t.nextPhaseTime),hideMilliseconds:""},null,8,["duration","showAs"]),i[4]||(i[4]=s(".",-1))])):p("",!0),o(e(N),{to:`/liveOpsEvents/${t.eventId}`,"data-testid":"view-live-ops-event"},{default:a(()=>i[5]||(i[5]=[s("View event",-1)]),void 0,!0),_:2,__:[5]},1032,["to"])]),default:a(()=>[s(n(t.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets"]))}});export{it as default};
