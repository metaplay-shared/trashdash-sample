import{d as V,h as w,D as T,c as a,E as S,H as k,bw as K,e as u,o as m,w as t,m as f,j as o,f as e,S as M,q as g,t as c,a6 as I,k as b,ae as L}from"./index-jY1EWd09.js";import{_ as P}from"./MetaGenericActivablesCard.vue_vue_type_script_setup_true_lang-FymwRyqj.js";import{g as C,_ as B}from"./dataSourceUtils-Di-chQ61.js";import{M as D}from"./MSingleColumnLayout-BSf_YwiY.js";import{_ as U}from"./MInputToggleGroup.vue_vue_type_script_setup_true_lang-BfBi0Sfr.js";import{_ as A}from"./MInputDateTime.vue_vue_type_script_setup_true_lang-BJgw3K8v.js";import{_ as j}from"./MRawDataCard.vue_vue_type_script_setup_true_lang-Db7v8Vrj.js";import{_ as q,a as H}from"./MViewContainer.vue_vue_type_script_setup_true_lang-C_1W2rCL.js";import"./metaListUtils-B-xQ0HnD.js";import"./activables-BjU5qyme.js";import"./MetaActivablePhaseBadge.vue_vue_type_script_setup_true_lang-SumaTD3C.js";import"./players-Dfl1Givn.js";import"./MetaActivablesBaseCard.vue_vue_type_script_setup_true_lang-C4azyES_.js";import"./numberUtils-CkF0oMe2.js";import"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-CqJL3vnO.js";import"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CYiRxbPX.js";import"./debounce-DkFP0rfT.js";import"./isSymbol-B-tfGeoT.js";import"./MAbbreviateNumber.vue_vue_type_script_setup_true_lang-C_9AAI8F.js";import"./MInputText.vue_vue_type_script_setup_true_lang-Wwv8TYAB.js";import"./MInputSwitch.vue_vue_type_script_setup_true_lang-D2jAqk4R.js";import"./index-DtO9IDi2.js";const W={class:"tw-mb-1"},Y={class:"tw-mt-1"},pe=V({__name:"ActivableListView",props:{categoryKey:{}},setup(d){const v=d,n=w(!1),r=w(T.utc()),y=a(()=>{if(n.value)return r.value});function E(l){l&&(r.value=l)}a(()=>n.value?String(r.value.toISO()):T.utc().toISO());const{data:$}=S(k()),{data:N}=S(K()),_=a(()=>p.value.categories[v.categoryKey]),i=a(()=>_.value.displayName),O=a(()=>_.value.description),p=a(()=>$.value?.activablesMetadata),h=a(()=>{const l=C(v.categoryKey);return N.value?.timelineDataSourcePresence[l]??"NotPresent"});return(l,s)=>(m(),u(e(H),{permission:"api.activables.view","is-loading":!p.value,"full-width":""},{overview:t(()=>[o(e(q),{title:`View ${i.value}`,"data-testid":`${e(M)(v.categoryKey)}-overview-card`},{default:t(()=>[g("p",W,c(O.value),1),h.value==="NotConfigured"?(m(),u(e(I),{key:0,class:"tw-mt-4",title:"LiveOps Timeline Presence Not Configured",variant:"neutral"},{default:t(()=>[g("p",null,"This page would normally include a LiveOps Timeline, but timeline presence for "+c(i.value)+" has not been configured. This means that no "+c(i.value)+" would be seen on the timeline and, because of this, it has been hidden.",1),g("p",Y,[b("You can configure timeline presence for "+c(i.value)+" by following the ",1),o(e(L),{to:"https://docs.metaplay.io/liveops-dashboard/liveops-timeline.html#configuring-config-driven-events-for-the-timeline"},{default:t(()=>[...s[1]||(s[1]=[b("documentation",-1)])],void 0,!0),_:1}),s[2]||(s[2]=b(".",-1))])],void 0,!0),_:1})):f("",!0)],void 0,!0),_:1},8,["title","data-testid"])]),default:t(()=>[h.value==="Present"?(m(),u(B,{key:0,class:"tw-mb-4","start-expanded":"","initial-expanded-data-sources":[e(C)(d.categoryKey)]},null,8,["initial-expanded-data-sources"])):f("",!0),o(e(D),null,{default:t(()=>[o(P,{category:d.categoryKey,longList:!0,title:i.value,emptyMessage:`No ${i.value} defined. Set them up in your game configs to start using the feature!`,customEvaluationIsoDateTime:y.value?String(y.value.toISO()):void 0,hideCollapse:""},null,8,["category","title","emptyMessage","customEvaluationIsoDateTime"])],void 0,!0),_:1}),o(e(D),{class:"tw-mt-4"},{default:t(()=>[o(e(U),{class:"tw-bg-white tw-p-4","model-value":n.value,name:"customEvaluationTimeEnabled","on-state-label":"Custom Evaluation Time Enabled","off-state-label":"Enable Custom Evaluation Time","on-state-hint-message":"With custom evaluation time enabled, the phases on the page are evaluated according to the time you set. Disable to use the local time of your browser. ","off-state-hint-message":"Enable custom evaluation time to set an exact time for phase evaluation.","onUpdate:modelValue":s[0]||(s[0]=x=>n.value=x),"data-testid":"custom-time"},{default:t(()=>[n.value?(m(),u(e(A),{key:0,class:"tw-mt-2 tw-border-t tw-border-neutral-200 tw-pt-2",label:"Evaluation Time (UTC)","model-value":r.value,"onUpdate:modelValue":E},null,8,["model-value"])):f("",!0)],void 0,!0),_:1},8,["model-value"])],void 0,!0),_:1}),o(e(j),{data:p.value,label:"activablesMetadata"},null,8,["data"])],void 0,!0),_:1},8,["is-loading"]))}});export{pe as default};
