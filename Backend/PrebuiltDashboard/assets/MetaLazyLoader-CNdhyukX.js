import{d as c,h as r,i as f,co as m,a as u,o as d,a7 as v,q as h,bj as p}from"./index-jY1EWd09.js";const y={key:1},b=c({__name:"MetaLazyLoader",props:{placeholderEventHeight:{default:100},margin:{default:500},remainVisible:{type:Boolean,default:!0},renderAfterDelayInMs:{default:250},hideAfterDelayInMs:{default:1e4}},setup(i){const a=i,l=r(),e=r(!1),n=r(),s=r();let o;return f(()=>{o=new IntersectionObserver(([t])=>{t&&(clearTimeout(n.value),clearTimeout(s.value),t.isIntersecting?e.value||(n.value=setTimeout(()=>{e.value=!0,a.remainVisible&&o.unobserve(l.value)},a.renderAfterDelayInMs)):t.isIntersecting||e.value&&(s.value=setTimeout(()=>{e.value=!1},a.hideAfterDelayInMs)))},{rootMargin:`${a.margin}px`,root:document}),o.observe(l.value)}),m(()=>{o.disconnect(),clearTimeout(n.value),clearTimeout(s.value)}),(t,g)=>(d(),u("div",{ref_key:"root",ref:l},[e.value?v(t.$slots,"default",{key:0}):(d(),u("div",y,[h("div",{style:p(`min-height: ${i.placeholderEventHeight}px`)},null,4)]))],512))}});export{b as default};
