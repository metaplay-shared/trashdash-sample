import{d as j,c as r,aP as b,aj as q,ak as N,al as B,K as D,a as v,o as p,F as g,q as i,j as c,m as K,Q as U,t as w,U as E,w as h,n as o,b as R,f as m,S as f,k as A}from"./index-B-VT6L6o.js";import{m as G,c as H}from"./index-llZsRYZ2.js";import{_ as L}from"./MInputHintMessage.vue_vue_type_script_setup_true_lang-CBCiJKqn.js";import{_ as Q}from"./MInputSingleSelectDropdown.vue_vue_type_script_setup_true_lang-Dv81Anyh.js";const J={class:"tw-relative tw-z-0 tw-hidden tw-space-y-1 sm:tw-block"},O=["data-testid"],W={class:"tw-inline-flex tw-flex-shrink-0 tw-space-x-0.5"},X=["data-testid"],Y=["data-testid"],Z=["data-testid"],se=j({inheritAttrs:!1,__name:"MInputSingleSelectSwitch",props:{modelValue:{},options:{},disabledTooltip:{default:void 0},variant:{default:"primary"},size:{default:"default"},label:{default:void 0},hintMessage:{default:void 0},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(x,{emit:V}){const a=x,y=V,l=r(()=>!!a.disabledTooltip),S=r(()=>{if(l.value)return a.disabledTooltip}),d=r(()=>{const e=a.options.map(t=>({...t,id:t.label})),s=new Set(e.map(t=>t.id));return e.length!==s.size&&console.error("Duplicate labels found in options array of MInputSingleSelectSwitch:",e),e});function C(e){const s=d.value.find(t=>t.id===e);return s?s.value:e}const I=r(()=>typeof a.modelValue=="object"?d.value.find(e=>b(e.value,a.modelValue))?.id:d.value.find(e=>e.value===a.modelValue)?.id),_=q("segmented-switch"),$=r(()=>({id:_,defaultValue:I.value,disabled:l.value,name:a.label,orientation:"horizontal",onValueChange:({value:e})=>{y("update:modelValue",C(e))}})),z=N(G,$),n=r(()=>H(z,B));D(()=>a.modelValue,e=>{const s=d.value.find(t=>t.value===e)?.id;s?n.value.setValue(s):console.warn("MInputSingleSelectSwitch: modelValue does not match any option value:",e)},{immediate:!0});const k=r(()=>a.size==="small"?"padding-bottom: 2px;":"padding-top: 2px; padding-bottom: 2px;");function T(e){const s=`tw-m-0 tw-inline-block tw-rounded-full tw-ring-0 tw-py-1 tw-font-medium tw-transition-colors ${P.value}`,t="tw-text-neutral-500";let u=!1;return typeof n.value.value=="object"?u=b(n.value.value,e.value):u=n.value.value===e.id,l.value&&u?`${s} ${t} tw-pointer-events-none`:l.value&&!u?`${s} ${t} tw-cursor-not-allowed`:u?`${s} tw-cursor-pointer tw-text-white`:`${s} tw-cursor-pointer hover:tw-bg-neutral-200`}const P=r(()=>a.size==="small"?"tw-text-xs tw-px-2":"tw-text-sm tw-px-3"),M=r(()=>a.variant==="success"?l.value?"tw-border-green-200":"tw-border-green-500":a.variant==="warning"?l.value?"tw-border-orange-200":"tw-border-orange-500":a.variant==="danger"?l.value?"tw-border-red-200":"tw-border-red-500":l.value?"tw-border-neutral-200":"tw-border-neutral-300"),F=r(()=>a.variant==="success"?l.value?"tw-bg-green-200":"tw-bg-green-500":a.variant==="warning"?l.value?"tw-bg-orange-200":"tw-bg-orange-500":a.variant==="danger"?l.value?"tw-bg-red-200":"tw-bg-red-500":l.value?"tw-bg-neutral-200":"tw-bg-blue-500");return(e,s)=>(p(),v(g,null,[i("div",J,[e.label?(p(),v("label",{key:0,class:U(["tw-block tw-text-sm tw-font-bold tw-leading-6",{"tw-text-neutral-400":l.value,"tw-text-neutral-900":!l.value}])},w(e.label),3)):K("",!0),i("div",{class:"tw-my-1","data-testid":e.dataTestid},[c(E,{content:S.value,"no-underline":"","data-testid":"tooltip-"+e.label},{default:h(()=>[i("div",o(n.value.getRootProps(),{class:["tw-relative tw-mx-0.5 tw-inline-flex tw-px-0.5 tw-rounded-full tw-border",M.value],style:"box-shadow: inset 0 1px 2px 0 rgba(0,0,0,.1), inset 0 -1px 2px 0 rgba(255,255,255,.8);"+k.value}),[i("div",o(n.value.getIndicatorProps(),{class:["-tw-z-10 tw-rounded-full",F.value],style:{top:"var(--top)",width:"var(--width)",height:"var(--height)","box-shadow":"inset 0 -3px 0 0 rgba(0, 0, 0, 0.1), inset 0 2px 0 0 rgba(255, 255, 255, 0.2), 0 1px 3px 0 rgb(0 0 0 / 0.2), 0 1px 2px -1px rgb(0 0 0 / 0.4)"}}),null,16),i("div",W,[(p(!0),v(g,null,R(d.value,t=>(p(),v("div",o(e.$attrs,{key:t.id}),[i("label",o(n.value.getItemProps({value:t.id}),{class:T(t),"data-testid":`${m(f)(t.label)}-label`}),[i("span",o(n.value.getItemTextProps({value:t.id}),{class:"tw-select-none"},{"data-testid":`${m(f)(t.label)}-span`}),w(t.label),17,Y),i("input",o(n.value.getItemHiddenInputProps({value:t.id}),{"data-testid":`${m(f)(t.label)}-input`}),null,16,Z)],16,X)],16))),128))])],16)],void 0,!0),_:1},8,["content","data-testid"])],8,O),c(L,{variant:e.variant},{default:h(()=>[A(w(e.hintMessage),1)],void 0,!0),_:1},8,["variant"])]),c(Q,{class:"sm:tw-hidden","model-value":e.modelValue,options:e.options,variant:e.variant,"hint-message":e.hintMessage,disabled:l.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value.setValue(t)),"data-testid":e.dataTestid+"-dropdown"},null,8,["model-value","options","variant","hint-message","disabled","data-testid"])],64))}});export{se as _};
