import{d as N,E as D,c as S,cC as V,r as u,e as r,o as l,w as n,j as _,f as d,x as C,q as t,t as i,Q as L,e7 as O,ae as v,k as R,D as z}from"./index-jY1EWd09.js";import{M as c,a as m}from"./metaListUtils-B-xQ0HnD.js";import{a as I}from"./guilds-CRHZJ8UJ.js";const T={class:"tw-mr-1"},b={class:"tw-mr-1"},A={class:"tw-ml-1"},B={class:"tw-ml-1"},G=N({__name:"GuildMemberListCard",props:{guildId:{}},setup(f){const y=f,{data:p}=D(I(y.guildId)),w=["displayName","id","role"],x=[c.asUnsorted(),new c("Role","role",m.Ascending),new c("Role","role",m.Descending),new c("Name","displayName",m.Ascending),new c("Name","displayName",m.Descending)],k=S(()=>{const a=[];for(const o of Object.keys(p.value.model.members)){const e=V(p.value.model.members[o]);e.id=o,a.push(e)}return a});function h(a){return Math.abs(z.fromISO(a).diffNow("hours").hours)<12}return(a,o)=>{const e=u("fa-icon"),g=u("meta-list-card");return l(),r(g,{id:"guild-member-list-card",title:"Members",icon:"users",itemList:k.value,searchFields:w,sortOptions:x,emptyMessage:"This guild is empty!"},{"item-card":n(({item:s})=>[_(d(C),null,{"bottom-left":n(()=>[t("span",null,"Poked: "+i(s.numTimesPoked)+" times |",1),t("span",A,"Vanity points: "+i(s.numVanityPoints)+" |",1),t("span",B,"Vanity rank: "+i(s.numVanityRanksConsumed),1)]),"top-right":n(()=>[_(d(v),{to:`/players/${s.id}`},{default:n(()=>[...o[0]||(o[0]=[R("View player",-1)])],void 0,!0),_:1},8,["to"])]),default:n(()=>[t("span",T,[s.isOnline?(l(),r(e,{key:0,class:"text-success",size:"xs",icon:"circle"})):h(s.lastOnlineAt)?(l(),r(e,{key:1,class:"text-success",size:"xs",icon:["far","circle"]})):(l(),r(e,{key:2,class:"text-dark",size:"xs",icon:["far","circle"]}))]),t("span",b,i(s.displayName||"n/a"),1),t("span",{class:L(s.role==="Leader"?"tw-text-orange-400 tw-text-sm":"tw-text-neutral-500 tw-text-sm")},i(d(O)(s.role)),3)],void 0,!0),_:2},1024)]),_:1},8,["itemList"])}}});export{G as default};
