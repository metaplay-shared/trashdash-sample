import{d as p,c as x,a as s,o as e,q as r,m as i,Q as g,a7 as d,t as m,j as k,bk as N,k as b,e as y,bl as B,F as L,b as V,a6 as j,w as h,ae as P,bm as S,n as T,bn as W,b7 as z,f as I,ah as U,_ as M,bj as O}from"./index-jY1EWd09.js";const D=["data-isloading"],F={class:"tw-px-4 tw-pb-2 tw-pt-3"},q={key:0},A={key:1},E={class:g(["sm:tw-flex tw-items-center tw-justify-between tw-gap-2"])},G={key:0,class:"tw-flex tw-h-9 tw-w-9 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border tw-border-neutral-200 tw-border-opacity-25 tw-bg-neutral-100 hover:tw-brightness-90 active:tw-brightness-75"},H=["src"],Q={role:"heading",class:g(["tw-font-bold tw-overflow-ellipsis tw-basis-full "]),"data-testid":"overviewcard-title"},J={class:"tw-ml-1 tw-text-lg"},K={key:0,class:"tw-flex tw-min-w-52 tw-items-center tw-justify-end tw-space-x-1 tw-text-right tw-text-neutral-500"},R={key:1,class:"tw-animate-pulse"},X={key:2},Y={key:0,class:"tw-mt-4"},Z={key:0},_={class:"tw-mr-1"},tt={key:0},et={key:1},st={key:0,class:"tw-mb-4 tw-mt-2 tw-w-full tw-text-right tw-text-xs tw-text-neutral-500"},at=p({__name:"MPageOverviewCard",props:{title:{},isLoading:{type:Boolean},error:{default:void 0},subtitle:{default:void 0},variant:{default:"primary"},avatarImageUrl:{default:void 0},id:{default:void 0},idLabel:{default:"ID"},alerts:{default:void 0}},emits:["headerClick"],setup(t,{emit:$}){const l=t,f=x(()=>l.error?"danger":l.variant),C=x(()=>{const a="tw-border-neutral-200 tw-bg-neutral-50",u={primary:"tw-border-neutral-200 tw-bg-white",neutral:"tw-border-neutral-200 tw-bg-neutral-50",success:"tw-border-green-200 tw-bg-green-100",warning:"tw-border-orange-200 tw-bg-orange-100",danger:"tw-border-red-200 tw-bg-red-200"};return l.isLoading?a:u[f.value]}),n=x(()=>{const a="tw-text-neutral-300",u={primary:"tw-text-neutral-800",neutral:"tw-text-neutral-500",success:"tw-text-green-800",warning:"tw-text-orange-800",danger:"tw-text-red-800"};return l.isLoading?a:u[f.value]}),w=x(()=>({primary:"tw-text-neutral-500",neutral:"tw-text-neutral-400",success:"tw-text-green-500",warning:"tw-text-orange-500",danger:"tw-text-red-500"})[f.value]),o=x(()=>({primary:"tw-text-neutral-900",neutral:"tw-text-neutral-500",success:"tw-text-green-900",warning:"tw-text-orange-900",danger:"tw-text-red-900"})[f.value]),v=a=>/\s/g.test(a);return(a,u)=>(e(),s(L,null,[r("div",T(a.$attrs,{class:["tw-relative tw-z-10 tw-rounded-lg tw-shadow tw-border tw-@container",C.value],"data-isloading":t.isLoading?!0:void 0}),[r("div",F,[t.isLoading?(e(),s("div",q,[...u[0]||(u[0]=[r("div",{class:"tw-my-3 tw-h-6 tw-w-6/12 tw-animate-pulse tw-rounded tw-bg-neutral-200","data-testid":"overviewcard-loading-indicator"},null,-1)])])):(e(),s("div",A,[r("div",E,[r("div",{class:g(["tw-grow tw-flex tw-items-center tw-space-x-2 tw-my-1 tw-text-2xl",n.value])},[t.avatarImageUrl?(e(),s("div",G,[r("img",{class:"tw-rounded-full",src:t.avatarImageUrl},null,8,H)])):i("",!0),r("div",Q,[d(a.$slots,"title",{},()=>[r("span",{class:g(["tw-break-words tw-align-middle",{"tw-break-all":!v(t.title)}])},m(t.title),3),r("span",J,[d(a.$slots,"badge")])])])],2),t.id?(e(),s("div",K,[r("span",null,m(t.idLabel)+": "+m(t.id),1),k(N,{contents:t.id},null,8,["contents"])])):i("",!0)]),a.$slots.subtitle||t.subtitle?(e(),s("p",{key:0,class:g(["tw-text-sm tw-mb-2",w.value]),"data-testid":"overviewcard-subtitle"},[d(a.$slots,"subtitle",{},()=>[b(m(t.subtitle),1)])],2)):i("",!0)]))]),r("div",{class:g(["tw-mt-1 tw-mb-5 tw-px-4 tw-@container",o.value])},[t.error?(e(),y(B,{key:0,class:"tw-shadow",error:t.error},null,8,["error"])):t.isLoading?(e(),s("div",R,[...u[1]||(u[1]=[r("div",{class:"tw-mb-2 tw-h-4 tw-w-9/12 tw-rounded tw-bg-neutral-200"},null,-1),r("div",{class:"tw-mb-2 tw-h-4 tw-w-7/12 tw-rounded tw-bg-neutral-200"},null,-1),r("div",{class:"tw-mb-2 tw-h-4 tw-w-8/12 tw-rounded tw-bg-neutral-200"},null,-1)])])):(e(),s("div",X,[d(a.$slots,"default"),t.alerts||a.$slots.alerts?(e(),s("div",Y,[t.alerts?(e(),s("div",Z,[(e(!0),s(L,null,V(t.alerts,c=>(e(),y(j,{class:"tw-mb-2",key:c.key||c.title,title:c.title,variant:c.variant,"data-testid":c.dataTest},{default:h(()=>[r("span",_,m(c.message),1),c.link&&c.linkText?(e(),s("span",tt,[k(P,{to:c.link},{default:h(()=>[b(m(c.linkText),1)],void 0,!0),_:2},1032,["to"]),u[2]||(u[2]=b("!",-1))])):i("",!0)],void 0,!0),_:2},1032,["title","variant","data-testid"]))),128))])):i("",!0),a.$slots.alerts?(e(),s("div",et,[d(a.$slots,"alerts")])):i("",!0)])):i("",!0),a.$slots.buttons?(e(),y(S,{key:1,class:"tw-mt-6"},{default:h(()=>[d(a.$slots,"buttons")],void 0,!0),_:3})):i("",!0)]))],2)],16,D),a.$slots.caption?(e(),s("div",st,[d(a.$slots,"caption")])):i("",!0)],64))}}),rt={key:1},nt={key:1,class:"tw-mx-2 tw-mt-3 tw-max-w-xl sm:tw-mx-auto"},it={key:2,class:"tw-mx-auto tw-mb-12 tw-max-w-2xl"},lt={key:0,class:"tw-mx-auto tw-mb-6 tw-w-full tw-max-w-xl"},ot={key:0},dt={key:1},ut=p({__name:"MViewContainer",props:{variant:{},fullWidth:{type:Boolean},fullWidthOverview:{type:Boolean},alerts:{},isLoading:{type:Boolean},error:{},permission:{}},setup(t){const{doesHavePermission:$}=z(),l=t,f=W(),C=x(()=>{const n="background: repeating-linear-gradient(135deg, rgba(104, 104, 104, 0.05), rgba(104, 104, 104, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)",w="background: repeating-linear-gradient(135deg, rgba(229, 170, 0, 0.05), rgba(229, 170, 0, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)",o="background: repeating-linear-gradient(135deg, rgba(250, 96, 63, 0.05), rgba(250, 96, 63, 0.05) 10px, rgba(0,0,0,0) 10px, rgba(0,0,0,0) 20px)";return l.variant==="neutral"?n:l.variant==="warning"?w:l.variant==="danger"||(l.error??f.errors)||l.alerts?.some(v=>v.variant==="danger")?o:l.alerts?.some(v=>v.variant==="warning")?w:l.alerts?.some(v=>v.variant==="neutral")?n:l.permission&&!$(l.permission)?w:void 0});return(n,w)=>(e(),s("div",{class:"tw-bg-neutral-50 tw-py-6",style:O([{"min-height":"calc(100dvh - 3.5rem)"},C.value])},[t.permission&&!I($)(t.permission)?(e(),y(U,{key:0,class:"tw-mx-1 tw-my-3 tw-w-full tw-max-w-xl sm:tw-mx-auto",title:"Not Authorized",variant:"warning"},{default:h(()=>[r("div",null,[w[0]||(w[0]=b("Unfortunately, you do not have the ",-1)),k(M,{variant:"warning"},{default:h(()=>[b(m(t.permission),1)],void 0,!0),_:1}),w[1]||(w[1]=b(" permission to view this page. Please contact your game admin for access.",-1))])],void 0,!0),_:1})):t.error||n.$slots.errors?(e(),s("div",rt,[t.error?(e(),y(B,{key:0,class:"tw-mx-2 tw-max-w-xl sm:tw-mx-auto",error:t.error},null,8,["error"])):i("",!0),n.$slots.errors?(e(),s("div",nt,[d(n.$slots,"errors")])):i("",!0)])):t.isLoading?(e(),s("div",it,[k(at,{title:"Loading...","is-loading":!0})])):(e(),s("div",{key:3,class:g(["tw-px-1 tw-@container @sm:tw-px-3",[{"tw-max-w-6xl tw-mx-auto":!t.fullWidth}]])},[t.alerts||n.$slots.alerts?(e(),s("div",lt,[t.alerts||n.$slots.alerts?(e(),s("div",ot,[(e(!0),s(L,null,V(t.alerts,o=>(e(),y(j,{class:"tw-mb-3",key:o.key||o.title,title:o.title,variant:o.variant,"data-testid":o.dataTest},{default:h(()=>[b(m(o.message),1)],void 0,!0),_:2},1032,["title","variant","data-testid"]))),128))])):i("",!0),n.$slots.alerts?(e(),s("div",dt,[d(n.$slots,"alerts")])):i("",!0)])):i("",!0),n.$slots.overview?(e(),s("div",{key:1,class:g(["tw-mx-auto tw-mb-12 tw-max-w-2xl",{"tw-max-w-6xl":t.fullWidthOverview}])},[d(n.$slots,"overview")],2)):i("",!0),d(n.$slots,"default")],2))],4))}});export{at as _,ut as a};
